npm warn Unknown project config "puppeteer_skip_download". This will stop working in the next major version of npm.

[1m[44m DEV [49m[22m [34mv4.0.5 [39m[90mC:/Users/scoot/poll/VaultLogic[39m

[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39m[dotenv@17.2.3] injecting env (11) from .env -- tip: â‰¡Æ’Ã´Ã­ add observability to secrets: https://dotenvx.com/ops

{"level":40,"time":1764799071193,"env":"test","module":"auth-service","msg":"JWT_SECRET not set - falling back to SESSION_SECRET. This is acceptable for development but should be fixed for production."}
{"level":30,"time":1764799073184,"env":"test","multerImportKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceType":"function","uploadKeys":["storage","limits","preservePath","fileFilter"],"uploadType":"object","uploadPrototype":{},"msg":"Debug Multer Import"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’ÂºÂ¬ Setting up test environment...

{"level":30,"time":1764799074744,"env":"test","module":"file-routes","outputsDir":"C:\\Users\\scoot\\poll\\VaultLogic\\server\\files\\outputs","msg":"Secure file routes registered"}
{"level":30,"time":1764799074745,"env":"test","module":"ai-routes","msg":"AI workflow generation routes registered"}
{"level":30,"time":1764799074750,"env":"test","module":"collab-server","msg":"Initializing WebSocket collaboration server"}
{"level":40,"time":1764799074750,"env":"test","module":"collab-persistence","msg":"REDIS_URL not configured, multi-instance collab will not work"}
{"level":30,"time":1764799074750,"env":"test","module":"collab-server","msg":"WebSocket collaboration server initialized"}
{"level":30,"time":1764799074750,"env":"test","module":"routes","msg":"Real-time collaboration server initialized"}
{"level":30,"time":1764799075189,"env":"test","module":"user-credentials-repository","userId":"n60fNsxU9wbqX55djS8nY","msg":"User credentials created"}
{"level":30,"time":1764799075191,"env":"test","module":"auth-routes","userId":"n60fNsxU9wbqX55djS8nY","email":"test-projects-yWpXa5wPmEhbSqNwlw6xE@example.com","msg":"User registered successfully"}
{"level":40,"time":1764799075369,"env":"test","module":"auth-middleware","path":"/","msg":"No valid authentication found"}
{"level":30,"time":1764799077095,"env":"test","module":"user-credentials-repository","userId":"kcKgGkD1lGxwC7q04pLjM","msg":"User credentials created"}
{"level":30,"time":1764799077095,"env":"test","module":"auth-routes","userId":"kcKgGkD1lGxwC7q04pLjM","email":"other-4Yt94WXZR7u-bvoQDgnCH@example.com","msg":"User registered successfully"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’Âºâ•£ Cleaning up test environment...

 [32mÎ“Â£Ã´[39m tests/integration/api.projects.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 2727[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should soft-delete project [33m 308[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should not allow cross-tenant access [33m 512[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m10 passed[39m[22m[90m (10)[39m
[2m   Start at [22m 15:57:48
[2m   Duration [22m 9.02s[2m (transform 2.42s, setup 648ms, collect 4.98s, tests 2.73s, environment 0ms, prepare 19ms)[22m

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2mserver/engine/validate.ts [22m[34mx1 [34m[39m
       [2m Filename pattern: [22m[34mtests/integration/api.projects.test.ts[39m

[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39m[dotenv@17.2.3] injecting env (11) from .env -- tip: Î“ÃœÃ–âˆ©â••Ã…  suppress all logs with { quiet: true }

{"level":40,"time":1764811043628,"env":"test","module":"auth-service","msg":"JWT_SECRET not set - falling back to SESSION_SECRET. This is acceptable for development but should be fixed for production."}
{"level":30,"time":1764811047371,"env":"test","multerImportKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceType":"function","uploadKeys":["storage","limits","preservePath","fileFilter"],"uploadType":"object","uploadPrototype":{},"msg":"Debug Multer Import"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’ÂºÂ¬ Setting up test environment...

{"level":30,"time":1764811051170,"env":"test","module":"file-routes","outputsDir":"C:\\Users\\scoot\\poll\\VaultLogic\\server\\files\\outputs","msg":"Secure file routes registered"}
{"level":30,"time":1764811051171,"env":"test","module":"ai-routes","msg":"AI workflow generation routes registered"}
{"level":30,"time":1764811051182,"env":"test","module":"collab-server","msg":"Initializing WebSocket collaboration server"}
{"level":40,"time":1764811051182,"env":"test","module":"collab-persistence","msg":"REDIS_URL not configured, multi-instance collab will not work"}
{"level":30,"time":1764811051182,"env":"test","module":"collab-server","msg":"WebSocket collaboration server initialized"}
{"level":30,"time":1764811051182,"env":"test","module":"routes","msg":"Real-time collaboration server initialized"}
{"level":30,"time":1764811051742,"env":"test","module":"user-credentials-repository","userId":"NR6HF3R0vgE6td21PWqlT","msg":"User credentials created"}
{"level":30,"time":1764811051746,"env":"test","module":"auth-routes","userId":"NR6HF3R0vgE6td21PWqlT","email":"test-projects-lPHJS62HiDwXDnHKONyKV@example.com","msg":"User registered successfully"}
{"level":40,"time":1764811051934,"env":"test","module":"auth-middleware","path":"/","msg":"No valid authentication found"}
{"level":30,"time":1764811054198,"env":"test","module":"user-credentials-repository","userId":"HiY7hfV7c3JptYLqYLvey","msg":"User credentials created"}
{"level":30,"time":1764811054199,"env":"test","module":"auth-routes","userId":"HiY7hfV7c3JptYLqYLvey","email":"other-t0bgIdrO0d2DWUUtNciyP@example.com","msg":"User registered successfully"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’Âºâ•£ Cleaning up test environment...

 [32mÎ“Â£Ã´[39m tests/integration/api.projects.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 3436[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should list projects for tenant [33m 306[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should update project [33m 399[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should soft-delete project [33m 376[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should not allow cross-tenant access [33m 560[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m10 passed[39m[22m[90m (10)[39m
[2m   Start at [22m 19:17:19
[2m   Duration [22m 14.27s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2mserver/routes/workflows.routes.ts [22m[34mx2 [34m[39m
       [2m Filename pattern: [22m[34mtests/integration/api.projects.test.ts[39m

[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39m[dotenv@17.2.3] injecting env (11) from .env -- tip: Î“ÃœÃ–âˆ©â••Ã…  load multiple .env files with { path: ['.env.local', '.env'] }

{"level":40,"time":1764813636313,"env":"test","module":"auth-service","msg":"JWT_SECRET not set - falling back to SESSION_SECRET. This is acceptable for development but should be fixed for production."}
{"level":30,"time":1764813640010,"env":"test","multerImportKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceType":"function","uploadKeys":["storage","limits","preservePath","fileFilter"],"uploadType":"object","uploadPrototype":{},"msg":"Debug Multer Import"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’ÂºÂ¬ Setting up test environment...

{"level":30,"time":1764813652803,"env":"test","module":"file-routes","outputsDir":"C:\\Users\\scoot\\poll\\VaultLogic\\server\\files\\outputs","msg":"Secure file routes registered"}
{"level":30,"time":1764813652804,"env":"test","module":"ai-routes","msg":"AI workflow generation routes registered"}
{"level":30,"time":1764813652816,"env":"test","module":"collab-server","msg":"Initializing WebSocket collaboration server"}
{"level":40,"time":1764813652816,"env":"test","module":"collab-persistence","msg":"REDIS_URL not configured, multi-instance collab will not work"}
{"level":30,"time":1764813652816,"env":"test","module":"collab-server","msg":"WebSocket collaboration server initialized"}
{"level":30,"time":1764813652816,"env":"test","module":"routes","msg":"Real-time collaboration server initialized"}
{"level":30,"time":1764813653606,"env":"test","module":"user-credentials-repository","userId":"ehEGiAOaABWHsRphrUySY","msg":"User credentials created"}
{"level":30,"time":1764813653609,"env":"test","module":"auth-routes","userId":"ehEGiAOaABWHsRphrUySY","email":"test-projects-rpqmF3iFhqKU814VfGTr6@example.com","msg":"User registered successfully"}
{"level":40,"time":1764813653813,"env":"test","module":"auth-middleware","path":"/","msg":"No valid authentication found"}
{"level":30,"time":1764813656245,"env":"test","module":"user-credentials-repository","userId":"rSZpLS52hU2ksvj7ccFSH","msg":"User credentials created"}
{"level":30,"time":1764813656246,"env":"test","module":"auth-routes","userId":"rSZpLS52hU2ksvj7ccFSH","email":"other-Srvq2IXz_Va6KPcDaNEik@example.com","msg":"User registered successfully"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’Âºâ•£ Cleaning up test environment...

 [32mÎ“Â£Ã´[39m tests/integration/api.projects.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 3898[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should update project [33m 567[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should soft-delete project [33m 465[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should not allow cross-tenant access [33m 619[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m10 passed[39m[22m[90m (10)[39m
[2m   Start at [22m 20:00:30
[2m   Duration [22m 24.05s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2mserver/routes/workflows.routes.ts [22m[34mx3 [34m[39m
       [2m Filename pattern: [22m[34mtests/integration/api.projects.test.ts[39m

[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39m[dotenv@17.2.3] injecting env (11) from .env -- tip: â‰¡Æ’Ã¶Ã¤ add secrets lifecycle management: https://dotenvx.com/ops

{"level":40,"time":1764813812246,"env":"test","module":"auth-service","msg":"JWT_SECRET not set - falling back to SESSION_SECRET. This is acceptable for development but should be fixed for production."}
{"level":30,"time":1764813815585,"env":"test","multerImportKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceType":"function","uploadKeys":["storage","limits","preservePath","fileFilter"],"uploadType":"object","uploadPrototype":{},"msg":"Debug Multer Import"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’ÂºÂ¬ Setting up test environment...

{"level":30,"time":1764813828553,"env":"test","module":"file-routes","outputsDir":"C:\\Users\\scoot\\poll\\VaultLogic\\server\\files\\outputs","msg":"Secure file routes registered"}
{"level":30,"time":1764813828554,"env":"test","module":"ai-routes","msg":"AI workflow generation routes registered"}
{"level":30,"time":1764813828564,"env":"test","module":"collab-server","msg":"Initializing WebSocket collaboration server"}
{"level":40,"time":1764813828564,"env":"test","module":"collab-persistence","msg":"REDIS_URL not configured, multi-instance collab will not work"}
{"level":30,"time":1764813828565,"env":"test","module":"collab-server","msg":"WebSocket collaboration server initialized"}
{"level":30,"time":1764813828565,"env":"test","module":"routes","msg":"Real-time collaboration server initialized"}
{"level":30,"time":1764813829095,"env":"test","module":"user-credentials-repository","userId":"5VibnrmLmqD-GzWitMUV9","msg":"User credentials created"}
{"level":30,"time":1764813829098,"env":"test","module":"auth-routes","userId":"5VibnrmLmqD-GzWitMUV9","email":"test-projects-6Kfs71KvzJCzqFIQrYWCf@example.com","msg":"User registered successfully"}
{"level":40,"time":1764813829270,"env":"test","module":"auth-middleware","path":"/","msg":"No valid authentication found"}
{"level":30,"time":1764813831128,"env":"test","module":"user-credentials-repository","userId":"srka3aM9-sYGF5HjRbGVa","msg":"User credentials created"}
{"level":30,"time":1764813831129,"env":"test","module":"auth-routes","userId":"srka3aM9-sYGF5HjRbGVa","email":"other-EhFIS4XZ-91tf-P0M9mzE@example.com","msg":"User registered successfully"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’Âºâ•£ Cleaning up test environment...

 [32mÎ“Â£Ã´[39m tests/integration/api.projects.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 3192[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should soft-delete project [33m 329[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should not allow cross-tenant access [33m 644[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m10 passed[39m[22m[90m (10)[39m
[2m   Start at [22m 20:03:27
[2m   Duration [22m 22.81s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2mserver/routes/workflows.routes.ts [22m[34mx4 [34m[39m
       [2m Filename pattern: [22m[34mtests/integration/api.projects.test.ts[39m

[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39m[dotenv@17.2.3] injecting env (11) from .env -- tip: â‰¡Æ’Ã¦Ã‘ sync secrets across teammates & machines: https://dotenvx.com/ops

{"level":40,"time":1764852784061,"env":"test","module":"auth-service","msg":"JWT_SECRET not set - falling back to SESSION_SECRET. This is acceptable for development but should be fixed for production."}
{"level":30,"time":1764852789404,"env":"test","multerImportKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceType":"function","uploadKeys":["storage","limits","preservePath","fileFilter"],"uploadType":"object","uploadPrototype":{},"msg":"Debug Multer Import"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’ÂºÂ¬ Setting up test environment...

{"level":30,"time":1764852820675,"env":"test","module":"file-routes","outputsDir":"C:\\Users\\scoot\\poll\\VaultLogic\\server\\files\\outputs","msg":"Secure file routes registered"}
{"level":30,"time":1764852820675,"env":"test","module":"ai-routes","msg":"AI workflow generation routes registered"}
{"level":30,"time":1764852820687,"env":"test","module":"collab-server","msg":"Initializing WebSocket collaboration server"}
{"level":40,"time":1764852820687,"env":"test","module":"collab-persistence","msg":"REDIS_URL not configured, multi-instance collab will not work"}
{"level":30,"time":1764852820687,"env":"test","module":"collab-server","msg":"WebSocket collaboration server initialized"}
{"level":30,"time":1764852820687,"env":"test","module":"routes","msg":"Real-time collaboration server initialized"}
{"level":30,"time":1764852821250,"env":"test","module":"user-credentials-repository","userId":"YArJSFyL_aqGpgkhp4DpC","msg":"User credentials created"}
{"level":30,"time":1764852821254,"env":"test","module":"auth-routes","userId":"YArJSFyL_aqGpgkhp4DpC","email":"test-projects-7MGTwD9sII5sAzURbnXxQ@example.com","msg":"User registered successfully"}
{"level":40,"time":1764852821465,"env":"test","module":"auth-middleware","path":"/","msg":"No valid authentication found"}
{"level":30,"time":1764852823320,"env":"test","module":"user-credentials-repository","userId":"b4V4kNcYzted812EoxZYi","msg":"User credentials created"}
{"level":30,"time":1764852823321,"env":"test","module":"auth-routes","userId":"b4V4kNcYzted812EoxZYi","email":"other-oiOWYuJMet1UoEbQASuiH@example.com","msg":"User registered successfully"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’Âºâ•£ Cleaning up test environment...

 [32mÎ“Â£Ã´[39m tests/integration/api.projects.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 3048[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should soft-delete project [33m 319[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should not allow cross-tenant access [33m 550[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m10 passed[39m[22m[90m (10)[39m
[2m   Start at [22m 06:52:54
[2m   Duration [22m 46.81s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
c[3J[1m[44m RERUN [49m[22m [34m[2mserver/routes/workflows.routes.ts [22m[34mx5 [34m[39m
       [2m Filename pattern: [22m[34mtests/integration/api.projects.test.ts[39m

[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39m[dotenv@17.2.3] injecting env (11) from .env -- tip: Î“ÃœÃ–âˆ©â••Ã…  override existing env vars with { override: true }

{"level":40,"time":1764854521871,"env":"test","module":"auth-service","msg":"JWT_SECRET not set - falling back to SESSION_SECRET. This is acceptable for development but should be fixed for production."}
{"level":30,"time":1764854530061,"env":"test","multerImportKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceKeys":["diskStorage","memoryStorage","MulterError"],"multerInstanceType":"function","uploadKeys":["storage","limits","preservePath","fileFilter"],"uploadType":"object","uploadPrototype":{},"msg":"Debug Multer Import"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’ÂºÂ¬ Setting up test environment...

{"level":30,"time":1764854537704,"env":"test","module":"file-routes","outputsDir":"C:\\Users\\scoot\\poll\\VaultLogic\\server\\files\\outputs","msg":"Secure file routes registered"}
{"level":30,"time":1764854537704,"env":"test","module":"ai-routes","msg":"AI workflow generation routes registered"}
{"level":30,"time":1764854537716,"env":"test","module":"collab-server","msg":"Initializing WebSocket collaboration server"}
{"level":40,"time":1764854537717,"env":"test","module":"collab-persistence","msg":"REDIS_URL not configured, multi-instance collab will not work"}
{"level":30,"time":1764854537717,"env":"test","module":"collab-server","msg":"WebSocket collaboration server initialized"}
{"level":30,"time":1764854537717,"env":"test","module":"routes","msg":"Real-time collaboration server initialized"}
{"level":30,"time":1764854538444,"env":"test","module":"user-credentials-repository","userId":"S9Vkf0GMM2oxD2zDhlcgF","msg":"User credentials created"}
{"level":30,"time":1764854538448,"env":"test","module":"auth-routes","userId":"S9Vkf0GMM2oxD2zDhlcgF","email":"test-projects-r6_JPV6cTnKm-NDL72eh1@example.com","msg":"User registered successfully"}
{"level":40,"time":1764854538630,"env":"test","module":"auth-middleware","path":"/","msg":"No valid authentication found"}
{"level":30,"time":1764854540529,"env":"test","module":"user-credentials-repository","userId":"tRFu_K32SmO26IzSEP2CN","msg":"User credentials created"}
{"level":30,"time":1764854540530,"env":"test","module":"auth-routes","userId":"tRFu_K32SmO26IzSEP2CN","email":"other-0HoT5bn6JXoge7kUHIxjc@example.com","msg":"User registered successfully"}
[90mstdout[2m | tests/integration/api.projects.test.ts
[22m[39mâ‰¡Æ’Âºâ•£ Cleaning up test environment...

 [32mÎ“Â£Ã´[39m tests/integration/api.projects.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 3264[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should soft-delete project [33m 330[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should not allow cross-tenant access [33m 599[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m10 passed[39m[22m[90m (10)[39m
[2m   Start at [22m 07:21:54
[2m   Duration [22m 24.70s

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
