npm warn Unknown project config "puppeteer_skip_download". This will stop working in the next major version of npm.

[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/Users/scoot/poll/VaultLogic[39m

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts
[22m[39mSETUP: Loading setup.ts...
[dotenv@17.2.3] injecting env (20) from .env -- tip: Î“ÃœÃ–âˆ©â••Ã…  write to custom object with { processEnv: myObject }

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Î“ÃœÃ–âˆ©â••Ã…  specify custom .env file path with { path: '/custom/path/.env' }
DB: Skipping auto-init because NODE_ENV=test

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts
[22m[39m[SchemaManager] Reusing existing isolated schema: test_schema_w0
[SchemaManager] Processing URL: ep-gentle-leaf-ahsz38kq-pooler.c-3.us-east-1.aws.neon.tech (Port: )
[SchemaManager] Removing -pooler from hostname: ep-gentle-leaf-ahsz38kq-pooler.c-3.us-east-1.aws.neon.tech
[SchemaManager] Switched to Direct Connection for schema isolation.
[SchemaManager] Final Connection String (Host): ep-gentle-leaf-ahsz38kq.c-3.us-east-1.aws.neon.tech
[SchemaManager] Final Connection String (Options): -c search_path=test_schema_w0,public

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts
[22m[39mâ‰¡Æ’Ã¶Ã† Test Schema Isolated: test_schema_w0 (Reused: true)
[SETUP] DATABASE_URL sent to db module: postgresql://neondb_owner:npg_LYP2cC3DhGsx@ep-gentle-leaf-ahsz38kq.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require&options=-c+search_path%3Dtest_schema_w0%2Cpublic

{"level":30,"time":1768482471312,"env":"test","msg":"DB: initializing... Local"}
{"level":30,"time":1768482471335,"env":"test","msg":"DB: initialized flag set."}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts
[22m[39mÎ“Â£Ã  Enforced search_path: test_schema_w0, public

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts
[22m[39mÎ“Â£Ã  Database initialized. Current schema: test_schema_w0
Î“Ã…âŒ Schema reused, skipping migrations.

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts
[22m[39mDEBUG: Existing functions: [
  {
    "proname": "datavault_get_next_autonumber",
    "proargnames": [
      "p_tenant_id",
      "p_table_id",
      "p_column_id",
      "p_prefix",
      "p_padding",
      "p_reset_policy"
    ],
    "proargtypes": "2950 2950 2950 25 23 25",
    "signature": "public.datavault_get_next_autonumber(uuid,uuid,uuid,text,integer,text)"
  },
  {
    "proname": "datavault_get_next_autonumber",
    "proargnames": [
      "p_tenant_id",
      "p_table_id",
      "p_column_id",
      "p_prefix",
      "p_padding",
      "p_reset_policy"
    ],
    "proargtypes": "2950 2950 2950 25 23 25",
    "signature": "datavault_get_next_autonumber(uuid,uuid,uuid,text,integer,text)"
  },
  {
    "proname": "datavault_get_next_autonumber",
    "proargnames": [
      "p_tenant_id",
      "p_table_id",
      "p_column_id",
      "p_context_key",
      "p_min_digits",
      "p_prefix",
      "p_format"
    ],
    "proargtypes": "2950 2950 2950 25 23 25 25",
    "signature": "datavault_get_next_autonumber(uuid,uuid,uuid,text,integer,text,text)"
  }
]

{"level":30,"time":1768482472597,"env":"test","workflowId":"bc6f8dac-c80b-4d5a-a948-3f7614efbcb6","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":0,"stepsCount":0,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: Instantiating GoogleGenerativeAI
DEBUG: Getting model
DEBUG: Building system prompt
DEBUG: Building workflow context
DEBUG: Workflow context built
DEBUG: About to build full prompt. Parts: { s: [32m'string'[39m, w: [32m'string'[39m, u: [32m'string'[39m }
DEBUG: Full prompt built. Length: [33m1685[39m

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: Calling applyOps

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: Applying OP: section.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: Finished OP: section.create
DEBUG: Applying OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: Finished OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: applyOps finished
DEBUG: Calling getWorkflowWithDetails

{"level":30,"time":1768482473020,"env":"test","workflowId":"bc6f8dac-c80b-4d5a-a948-3f7614efbcb6","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":1,"stepsCount":1,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: getWorkflowWithDetails finished
DEBUG: Creating AFTER snapshot

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: AFTER snapshot created
DEBUG: Creating draft version

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: workflowVersions schema object: [36m<ref *1>[39m PgTable {
  id: PgUUID {
    name: [32m'id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mtrue[39m,
    notNull: [33mtrue[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  workflowId: PgUUID {
    name: [32m'workflow_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  baseId: PgUUID {
    name: [32m'base_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_base_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  versionNumber: PgInteger {
    name: [32m'version_number'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33m1[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_version_number_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'number'[39m,
    columnType: [32m'PgInteger'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  isDraft: PgBoolean {
    name: [32m'is_draft'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  graphJson: PgJsonb {
    name: [32m'graph_json'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  migrationInfo: PgJsonb {
    name: [32m'migration_info'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  changelog: PgJsonb {
    name: [32m'changelog'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_changelog_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  notes: PgText {
    name: [32m'notes'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_notes_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  checksum: PgText {
    name: [32m'checksum'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_checksum_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  createdBy: PgVarchar {
    name: [32m'created_by'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_by_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgVarchar'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      generated: [90mundefined[39m,
      length: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    length: [90mundefined[39m
  },
  published: PgBoolean {
    name: [32m'published'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  publishedAt: PgTimestamp {
    name: [32m'published_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  createdAt: PgTimestamp {
    name: [32m'created_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  updatedAt: PgTimestamp {
    name: [32m'updated_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  enableRLS: [36m[Function: enableRLS][39m,
  [32mSymbol(drizzle:Name)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:OriginalName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:Schema)[39m: [90mundefined[39m,
  [32mSymbol(drizzle:Columns)[39m: {
    id: PgUUID {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    workflowId: PgUUID {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    baseId: PgUUID {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    versionNumber: PgInteger {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    isDraft: PgBoolean {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    graphJson: PgJsonb {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    migrationInfo: PgJsonb {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    changelog: PgJsonb {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    notes: PgText {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    checksum: PgText {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    createdBy: PgVarchar {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      length: [90mundefined[39m
    },
    published: PgBoolean {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    publishedAt: PgTimestamp {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    createdAt: PgTimestamp {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    updatedAt: PgTimestamp {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    }
  },
  [32mSymbol(drizzle:ExtraConfigColumns)[39m: {
    id: ExtraConfigColumn {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    workflowId: ExtraConfigColumn {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    baseId: ExtraConfigColumn {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    versionNumber: ExtraConfigColumn {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    isDraft: ExtraConfigColumn {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    graphJson: ExtraConfigColumn {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    migrationInfo: ExtraConfigColumn {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    changelog: ExtraConfigColumn {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    notes: ExtraConfigColumn {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    checksum: ExtraConfigColumn {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdBy: ExtraConfigColumn {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    published: ExtraConfigColumn {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    publishedAt: ExtraConfigColumn {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdAt: ExtraConfigColumn {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    updatedAt: ExtraConfigColumn {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    }
  },
  [32mSymbol(drizzle:BaseName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:IsAlias)[39m: [33mfalse[39m,
  [32mSymbol(drizzle:IsDrizzleTable)[39m: [33mtrue[39m,
  [32mSymbol(drizzle:ExtraConfigBuilder)[39m: [36m[Function (anonymous)][39m,
  [32mSymbol(drizzle:PgInlineForeignKeys)[39m: [
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'no action'[39m,
      table: [36m[Circular *1][39m
    }
  ],
  [32mSymbol(drizzle:EnableRLS)[39m: [33mfalse[39m
}
DEBUG: workflowVersions symbols: [
  [32m'Symbol(drizzle:Name)'[39m,
  [32m'Symbol(drizzle:OriginalName)'[39m,
  [32m'Symbol(drizzle:Schema)'[39m,
  [32m'Symbol(drizzle:Columns)'[39m,
  [32m'Symbol(drizzle:ExtraConfigColumns)'[39m,
  [32m'Symbol(drizzle:BaseName)'[39m,
  [32m'Symbol(drizzle:IsAlias)'[39m,
  [32m'Symbol(drizzle:IsDrizzleTable)'[39m,
  [32m'Symbol(drizzle:ExtraConfigBuilder)'[39m,
  [32m'Symbol(drizzle:PgInlineForeignKeys)'[39m,
  [32m'Symbol(drizzle:EnableRLS)'[39m
]

{"level":50,"time":1768482473172,"env":"test","module":"ai-workflow-edit-routes","error":{},"workflowId":"bc6f8dac-c80b-4d5a-a948-3f7614efbcb6","msg":"Error in AI workflow edit"}
stderr | tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should create draft version on successful AI edit
DEBUG: Route-level error: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30
DEBUG: Route-level error stack: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create draft version on successful AI edit
[22m[39mDEBUG: Test failed with status [33m500[39m
DEBUG: Response body: {
  "success": false,
  "error": "Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')"
}
DEBUG: Response error: Error: cannot POST /api/workflows/bc6f8dac-c80b-4d5a-a948-3f7614efbcb6/ai/edit (500)
    at Response.toError [90m(C:\Users\scoot\poll\VaultLogic\[39mnode_modules\[4msuperagent[24m\lib\node\response.js:116:17[90m)[39m
    at ResponseBase._setStatusProperties [90m(C:\Users\scoot\poll\VaultLogic\[39mnode_modules\[4msuperagent[24m\lib\response-base.js:107:48[90m)[39m
    at new Response [90m(C:\Users\scoot\poll\VaultLogic\[39mnode_modules\[4msuperagent[24m\lib\node\response.js:47:8[90m)[39m
    at Test.Request._emitResponse [90m(C:\Users\scoot\poll\VaultLogic\[39mnode_modules\[4msuperagent[24m\lib\node\index.js:881:20[90m)[39m
    at [90mC:\Users\scoot\poll\VaultLogic\[39mnode_modules\[4msuperagent[24m\lib\node\index.js:1102:38
    at IncomingMessage.<anonymous> [90m(C:\Users\scoot\poll\VaultLogic\[39mnode_modules\[4msuperagent[24m\lib\node\parsers\json.js:21:7[90m)[39m
[90m    at IncomingMessage.emit (node:events:520:35)[39m
[90m    at endReadableNT (node:internal/streams/readable:1701:12)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:89:21)[39m {
  status: [33m500[39m,
  text: [32m`{"success":false,"error":"Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')"}`[39m,
  method: [32m'POST'[39m,
  path: [32m'/api/workflows/bc6f8dac-c80b-4d5a-a948-3f7614efbcb6/ai/edit'[39m
}

{"level":30,"time":1768482473373,"env":"test","workflowId":"14439148-dadb-4d94-98e8-7d22044936a3","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":0,"stepsCount":0,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: Instantiating GoogleGenerativeAI
DEBUG: Getting model
DEBUG: Building system prompt
DEBUG: Building workflow context
DEBUG: Workflow context built
DEBUG: About to build full prompt. Parts: { s: [32m'string'[39m, w: [32m'string'[39m, u: [32m'string'[39m }
DEBUG: Full prompt built. Length: [33m1656[39m

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: Calling applyOps

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: Applying OP: section.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: Finished OP: section.create
DEBUG: Applying OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: Finished OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: applyOps finished
DEBUG: Calling getWorkflowWithDetails

{"level":30,"time":1768482473785,"env":"test","workflowId":"14439148-dadb-4d94-98e8-7d22044936a3","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":1,"stepsCount":1,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: getWorkflowWithDetails finished
DEBUG: Creating AFTER snapshot

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: AFTER snapshot created
DEBUG: Creating draft version

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould enforce draft mode (revert active workflow to draft)
[22m[39mDEBUG: workflowVersions schema object: [36m<ref *1>[39m PgTable {
  id: PgUUID {
    name: [32m'id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mtrue[39m,
    notNull: [33mtrue[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  workflowId: PgUUID {
    name: [32m'workflow_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  baseId: PgUUID {
    name: [32m'base_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_base_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  versionNumber: PgInteger {
    name: [32m'version_number'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33m1[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_version_number_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'number'[39m,
    columnType: [32m'PgInteger'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  isDraft: PgBoolean {
    name: [32m'is_draft'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  graphJson: PgJsonb {
    name: [32m'graph_json'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  migrationInfo: PgJsonb {
    name: [32m'migration_info'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  changelog: PgJsonb {
    name: [32m'changelog'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_changelog_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  notes: PgText {
    name: [32m'notes'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_notes_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  checksum: PgText {
    name: [32m'checksum'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_checksum_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  createdBy: PgVarchar {
    name: [32m'created_by'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_by_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgVarchar'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      generated: [90mundefined[39m,
      length: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    length: [90mundefined[39m
  },
  published: PgBoolean {
    name: [32m'published'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  publishedAt: PgTimestamp {
    name: [32m'published_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  createdAt: PgTimestamp {
    name: [32m'created_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  updatedAt: PgTimestamp {
    name: [32m'updated_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  enableRLS: [36m[Function: enableRLS][39m,
  [32mSymbol(drizzle:Name)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:OriginalName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:Schema)[39m: [90mundefined[39m,
  [32mSymbol(drizzle:Columns)[39m: {
    id: PgUUID {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    workflowId: PgUUID {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    baseId: PgUUID {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    versionNumber: PgInteger {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    isDraft: PgBoolean {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    graphJson: PgJsonb {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    migrationInfo: PgJsonb {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    changelog: PgJsonb {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    notes: PgText {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    checksum: PgText {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    createdBy: PgVarchar {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      length: [90mundefined[39m
    },
    published: PgBoolean {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    publishedAt: PgTimestamp {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    createdAt: PgTimestamp {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    updatedAt: PgTimestamp {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    }
  },
  [32mSymbol(drizzle:ExtraConfigColumns)[39m: {
    id: ExtraConfigColumn {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    workflowId: ExtraConfigColumn {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    baseId: ExtraConfigColumn {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    versionNumber: ExtraConfigColumn {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    isDraft: ExtraConfigColumn {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    graphJson: ExtraConfigColumn {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    migrationInfo: ExtraConfigColumn {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    changelog: ExtraConfigColumn {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    notes: ExtraConfigColumn {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    checksum: ExtraConfigColumn {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdBy: ExtraConfigColumn {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    published: ExtraConfigColumn {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    publishedAt: ExtraConfigColumn {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdAt: ExtraConfigColumn {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    updatedAt: ExtraConfigColumn {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    }
  },
  [32mSymbol(drizzle:BaseName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:IsAlias)[39m: [33mfalse[39m,
  [32mSymbol(drizzle:IsDrizzleTable)[39m: [33mtrue[39m,
  [32mSymbol(drizzle:ExtraConfigBuilder)[39m: [36m[Function (anonymous)][39m,
  [32mSymbol(drizzle:PgInlineForeignKeys)[39m: [
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'no action'[39m,
      table: [36m[Circular *1][39m
    }
  ],
  [32mSymbol(drizzle:EnableRLS)[39m: [33mfalse[39m
}
DEBUG: workflowVersions symbols: [
  [32m'Symbol(drizzle:Name)'[39m,
  [32m'Symbol(drizzle:OriginalName)'[39m,
  [32m'Symbol(drizzle:Schema)'[39m,
  [32m'Symbol(drizzle:Columns)'[39m,
  [32m'Symbol(drizzle:ExtraConfigColumns)'[39m,
  [32m'Symbol(drizzle:BaseName)'[39m,
  [32m'Symbol(drizzle:IsAlias)'[39m,
  [32m'Symbol(drizzle:IsDrizzleTable)'[39m,
  [32m'Symbol(drizzle:ExtraConfigBuilder)'[39m,
  [32m'Symbol(drizzle:PgInlineForeignKeys)'[39m,
  [32m'Symbol(drizzle:EnableRLS)'[39m
]

{"level":50,"time":1768482473926,"env":"test","module":"ai-workflow-edit-routes","error":{},"workflowId":"14439148-dadb-4d94-98e8-7d22044936a3","msg":"Error in AI workflow edit"}
stderr | tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should enforce draft mode (revert active workflow to draft)
DEBUG: Route-level error: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30
DEBUG: Route-level error stack: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30

{"level":30,"time":1768482474093,"env":"test","workflowId":"a19afc48-505c-41c1-b1d0-dea5f3c0394e","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":0,"stepsCount":0,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: Instantiating GoogleGenerativeAI
DEBUG: Getting model
DEBUG: Building system prompt
DEBUG: Building workflow context
DEBUG: Workflow context built
DEBUG: About to build full prompt. Parts: { s: [32m'string'[39m, w: [32m'string'[39m, u: [32m'string'[39m }
DEBUG: Full prompt built. Length: [33m1651[39m

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: Calling applyOps

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: Applying OP: section.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: Finished OP: section.create
DEBUG: Applying OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: Finished OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: applyOps finished
DEBUG: Calling getWorkflowWithDetails

{"level":30,"time":1768482474513,"env":"test","workflowId":"a19afc48-505c-41c1-b1d0-dea5f3c0394e","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":1,"stepsCount":1,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: getWorkflowWithDetails finished
DEBUG: Creating AFTER snapshot

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: AFTER snapshot created
DEBUG: Creating draft version

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould not create version when no changes detected (checksum match)
[22m[39mDEBUG: workflowVersions schema object: [36m<ref *1>[39m PgTable {
  id: PgUUID {
    name: [32m'id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mtrue[39m,
    notNull: [33mtrue[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  workflowId: PgUUID {
    name: [32m'workflow_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  baseId: PgUUID {
    name: [32m'base_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_base_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  versionNumber: PgInteger {
    name: [32m'version_number'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33m1[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_version_number_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'number'[39m,
    columnType: [32m'PgInteger'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  isDraft: PgBoolean {
    name: [32m'is_draft'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  graphJson: PgJsonb {
    name: [32m'graph_json'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  migrationInfo: PgJsonb {
    name: [32m'migration_info'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  changelog: PgJsonb {
    name: [32m'changelog'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_changelog_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  notes: PgText {
    name: [32m'notes'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_notes_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  checksum: PgText {
    name: [32m'checksum'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_checksum_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  createdBy: PgVarchar {
    name: [32m'created_by'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_by_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgVarchar'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      generated: [90mundefined[39m,
      length: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    length: [90mundefined[39m
  },
  published: PgBoolean {
    name: [32m'published'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  publishedAt: PgTimestamp {
    name: [32m'published_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  createdAt: PgTimestamp {
    name: [32m'created_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  updatedAt: PgTimestamp {
    name: [32m'updated_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  enableRLS: [36m[Function: enableRLS][39m,
  [32mSymbol(drizzle:Name)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:OriginalName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:Schema)[39m: [90mundefined[39m,
  [32mSymbol(drizzle:Columns)[39m: {
    id: PgUUID {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    workflowId: PgUUID {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    baseId: PgUUID {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    versionNumber: PgInteger {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    isDraft: PgBoolean {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    graphJson: PgJsonb {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    migrationInfo: PgJsonb {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    changelog: PgJsonb {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    notes: PgText {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    checksum: PgText {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    createdBy: PgVarchar {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      length: [90mundefined[39m
    },
    published: PgBoolean {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    publishedAt: PgTimestamp {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    createdAt: PgTimestamp {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    updatedAt: PgTimestamp {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    }
  },
  [32mSymbol(drizzle:ExtraConfigColumns)[39m: {
    id: ExtraConfigColumn {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    workflowId: ExtraConfigColumn {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    baseId: ExtraConfigColumn {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    versionNumber: ExtraConfigColumn {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    isDraft: ExtraConfigColumn {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    graphJson: ExtraConfigColumn {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    migrationInfo: ExtraConfigColumn {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    changelog: ExtraConfigColumn {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    notes: ExtraConfigColumn {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    checksum: ExtraConfigColumn {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdBy: ExtraConfigColumn {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    published: ExtraConfigColumn {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    publishedAt: ExtraConfigColumn {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdAt: ExtraConfigColumn {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    updatedAt: ExtraConfigColumn {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    }
  },
  [32mSymbol(drizzle:BaseName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:IsAlias)[39m: [33mfalse[39m,
  [32mSymbol(drizzle:IsDrizzleTable)[39m: [33mtrue[39m,
  [32mSymbol(drizzle:ExtraConfigBuilder)[39m: [36m[Function (anonymous)][39m,
  [32mSymbol(drizzle:PgInlineForeignKeys)[39m: [
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'no action'[39m,
      table: [36m[Circular *1][39m
    }
  ],
  [32mSymbol(drizzle:EnableRLS)[39m: [33mfalse[39m
}
DEBUG: workflowVersions symbols: [
  [32m'Symbol(drizzle:Name)'[39m,
  [32m'Symbol(drizzle:OriginalName)'[39m,
  [32m'Symbol(drizzle:Schema)'[39m,
  [32m'Symbol(drizzle:Columns)'[39m,
  [32m'Symbol(drizzle:ExtraConfigColumns)'[39m,
  [32m'Symbol(drizzle:BaseName)'[39m,
  [32m'Symbol(drizzle:IsAlias)'[39m,
  [32m'Symbol(drizzle:IsDrizzleTable)'[39m,
  [32m'Symbol(drizzle:ExtraConfigBuilder)'[39m,
  [32m'Symbol(drizzle:PgInlineForeignKeys)'[39m,
  [32m'Symbol(drizzle:EnableRLS)'[39m
]

{"level":50,"time":1768482474659,"env":"test","module":"ai-workflow-edit-routes","error":{},"workflowId":"a19afc48-505c-41c1-b1d0-dea5f3c0394e","msg":"Error in AI workflow edit"}
stderr | tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should not create version when no changes detected (checksum match)
DEBUG: Route-level error: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30
DEBUG: Route-level error stack: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30

{"level":30,"time":1768482474853,"env":"test","workflowId":"a777c57a-53b3-4003-b635-b5d1de2675d0","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":0,"stepsCount":0,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould reject unsafe DataVault operations
[22m[39mDEBUG: Instantiating GoogleGenerativeAI
DEBUG: Getting model
DEBUG: Building system prompt
DEBUG: Building workflow context
DEBUG: Workflow context built
DEBUG: About to build full prompt. Parts: { s: [32m'string'[39m, w: [32m'string'[39m, u: [32m'string'[39m }
DEBUG: Full prompt built. Length: [33m1647[39m

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould reject unsafe DataVault operations
[22m[39mDEBUG: Calling applyOps

{"level":50,"time":1768482474955,"env":"test","module":"ai-workflow-edit-routes","errors":["Validation failed for datavault.dropTable: Invalid operation schema: Invalid discriminator value. Expected 'workflow.setMetadata' | 'section.create' | 'section.update' | 'section.delete' | 'section.reorder' | 'step.create' | 'step.update' | 'step.delete' | 'step.move' | 'step.setVisibleIf' | 'step.setRequired' | 'logicRule.create' | 'logicRule.update' | 'logicRule.delete' | 'document.add' | 'document.update' | 'document.setConditional' | 'document.bindFields' | 'datavault.createTable' | 'datavault.addColumns' | 'datavault.createWritebackMapping'"],"workflowId":"a777c57a-53b3-4003-b635-b5d1de2675d0","msg":"Failed to apply some AI operations"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould reject unsafe DataVault operations
[22m[39mDEBUG: applyOps finished

{"level":30,"time":1768482475092,"env":"test","workflowId":"0aec0bd0-3752-48f5-aa0e-212c92ba5fa4","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":0,"stepsCount":0,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: Instantiating GoogleGenerativeAI
DEBUG: Getting model
DEBUG: Building system prompt
DEBUG: Building workflow context
DEBUG: Workflow context built
DEBUG: About to build full prompt. Parts: { s: [32m'string'[39m, w: [32m'string'[39m, u: [32m'string'[39m }
DEBUG: Full prompt built. Length: [33m1725[39m

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: Calling applyOps

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: Applying OP: section.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: Finished OP: section.create
DEBUG: Applying OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: Finished OP: step.create
DEBUG: Applying OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: Finished OP: step.create
DEBUG: Applying OP: logicRule.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: Finished OP: logicRule.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: applyOps finished
DEBUG: Calling getWorkflowWithDetails

{"level":30,"time":1768482475687,"env":"test","workflowId":"0aec0bd0-3752-48f5-aa0e-212c92ba5fa4","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":1,"stepsCount":2,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: getWorkflowWithDetails finished
DEBUG: Creating AFTER snapshot

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: AFTER snapshot created
DEBUG: Creating draft version

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould handle multi-operation edits with tempId resolution
[22m[39mDEBUG: workflowVersions schema object: [36m<ref *1>[39m PgTable {
  id: PgUUID {
    name: [32m'id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mtrue[39m,
    notNull: [33mtrue[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  workflowId: PgUUID {
    name: [32m'workflow_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  baseId: PgUUID {
    name: [32m'base_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_base_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  versionNumber: PgInteger {
    name: [32m'version_number'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33m1[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_version_number_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'number'[39m,
    columnType: [32m'PgInteger'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  isDraft: PgBoolean {
    name: [32m'is_draft'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  graphJson: PgJsonb {
    name: [32m'graph_json'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  migrationInfo: PgJsonb {
    name: [32m'migration_info'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  changelog: PgJsonb {
    name: [32m'changelog'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_changelog_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  notes: PgText {
    name: [32m'notes'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_notes_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  checksum: PgText {
    name: [32m'checksum'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_checksum_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  createdBy: PgVarchar {
    name: [32m'created_by'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_by_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgVarchar'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      generated: [90mundefined[39m,
      length: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    length: [90mundefined[39m
  },
  published: PgBoolean {
    name: [32m'published'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  publishedAt: PgTimestamp {
    name: [32m'published_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  createdAt: PgTimestamp {
    name: [32m'created_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  updatedAt: PgTimestamp {
    name: [32m'updated_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  enableRLS: [36m[Function: enableRLS][39m,
  [32mSymbol(drizzle:Name)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:OriginalName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:Schema)[39m: [90mundefined[39m,
  [32mSymbol(drizzle:Columns)[39m: {
    id: PgUUID {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    workflowId: PgUUID {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    baseId: PgUUID {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    versionNumber: PgInteger {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    isDraft: PgBoolean {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    graphJson: PgJsonb {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    migrationInfo: PgJsonb {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    changelog: PgJsonb {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    notes: PgText {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    checksum: PgText {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    createdBy: PgVarchar {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      length: [90mundefined[39m
    },
    published: PgBoolean {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    publishedAt: PgTimestamp {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    createdAt: PgTimestamp {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    updatedAt: PgTimestamp {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    }
  },
  [32mSymbol(drizzle:ExtraConfigColumns)[39m: {
    id: ExtraConfigColumn {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    workflowId: ExtraConfigColumn {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    baseId: ExtraConfigColumn {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    versionNumber: ExtraConfigColumn {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    isDraft: ExtraConfigColumn {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    graphJson: ExtraConfigColumn {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    migrationInfo: ExtraConfigColumn {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    changelog: ExtraConfigColumn {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    notes: ExtraConfigColumn {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    checksum: ExtraConfigColumn {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdBy: ExtraConfigColumn {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    published: ExtraConfigColumn {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    publishedAt: ExtraConfigColumn {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdAt: ExtraConfigColumn {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    updatedAt: ExtraConfigColumn {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    }
  },
  [32mSymbol(drizzle:BaseName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:IsAlias)[39m: [33mfalse[39m,
  [32mSymbol(drizzle:IsDrizzleTable)[39m: [33mtrue[39m,
  [32mSymbol(drizzle:ExtraConfigBuilder)[39m: [36m[Function (anonymous)][39m,
  [32mSymbol(drizzle:PgInlineForeignKeys)[39m: [
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'no action'[39m,
      table: [36m[Circular *1][39m
    }
  ],
  [32mSymbol(drizzle:EnableRLS)[39m: [33mfalse[39m
}
DEBUG: workflowVersions symbols: [
  [32m'Symbol(drizzle:Name)'[39m,
  [32m'Symbol(drizzle:OriginalName)'[39m,
  [32m'Symbol(drizzle:Schema)'[39m,
  [32m'Symbol(drizzle:Columns)'[39m,
  [32m'Symbol(drizzle:ExtraConfigColumns)'[39m,
  [32m'Symbol(drizzle:BaseName)'[39m,
  [32m'Symbol(drizzle:IsAlias)'[39m,
  [32m'Symbol(drizzle:IsDrizzleTable)'[39m,
  [32m'Symbol(drizzle:ExtraConfigBuilder)'[39m,
  [32m'Symbol(drizzle:PgInlineForeignKeys)'[39m,
  [32m'Symbol(drizzle:EnableRLS)'[39m
]

{"level":50,"time":1768482475824,"env":"test","module":"ai-workflow-edit-routes","error":{},"workflowId":"0aec0bd0-3752-48f5-aa0e-212c92ba5fa4","msg":"Error in AI workflow edit"}
stderr | tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should handle multi-operation edits with tempId resolution
DEBUG: Route-level error: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30
DEBUG: Route-level error stack: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30

{"level":30,"time":1768482475970,"env":"test","workflowId":"850d717f-8642-4ff7-b0fd-91d4f1fa621b","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":0,"stepsCount":0,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: Instantiating GoogleGenerativeAI
DEBUG: Getting model
DEBUG: Building system prompt
DEBUG: Building workflow context
DEBUG: Workflow context built
DEBUG: About to build full prompt. Parts: { s: [32m'string'[39m, w: [32m'string'[39m, u: [32m'string'[39m }
DEBUG: Full prompt built. Length: [33m1650[39m

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: Calling applyOps

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: Applying OP: section.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: Finished OP: section.create
DEBUG: Applying OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: Finished OP: step.create

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: applyOps finished
DEBUG: Calling getWorkflowWithDetails

{"level":30,"time":1768482476369,"env":"test","workflowId":"850d717f-8642-4ff7-b0fd-91d4f1fa621b","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":1,"stepsCount":1,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: getWorkflowWithDetails finished
DEBUG: Creating AFTER snapshot

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: AFTER snapshot created
DEBUG: Creating draft version

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould create BEFORE and AFTER snapshots
[22m[39mDEBUG: workflowVersions schema object: [36m<ref *1>[39m PgTable {
  id: PgUUID {
    name: [32m'id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mtrue[39m,
    notNull: [33mtrue[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  workflowId: PgUUID {
    name: [32m'workflow_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  baseId: PgUUID {
    name: [32m'base_id'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_base_id_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgUUID'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  versionNumber: PgInteger {
    name: [32m'version_number'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33m1[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_version_number_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'number'[39m,
    columnType: [32m'PgInteger'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  isDraft: PgBoolean {
    name: [32m'is_draft'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  graphJson: PgJsonb {
    name: [32m'graph_json'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  migrationInfo: PgJsonb {
    name: [32m'migration_info'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  changelog: PgJsonb {
    name: [32m'changelog'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_changelog_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'json'[39m,
    columnType: [32m'PgJsonb'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  notes: PgText {
    name: [32m'notes'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_notes_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  checksum: PgText {
    name: [32m'checksum'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_checksum_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgText'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      generated: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  createdBy: PgVarchar {
    name: [32m'created_by'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_by_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'string'[39m,
    columnType: [32m'PgVarchar'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      generated: [90mundefined[39m,
      length: [90mundefined[39m,
      enumValues: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    length: [90mundefined[39m
  },
  published: PgBoolean {
    name: [32m'published'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mtrue[39m,
    default: [33mfalse[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'boolean'[39m,
    columnType: [32m'PgBoolean'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      generated: [90mundefined[39m
    },
    table: [36m[Circular *1][39m
  },
  publishedAt: PgTimestamp {
    name: [32m'published_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: [90mundefined[39m,
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mfalse[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_published_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  createdAt: PgTimestamp {
    name: [32m'created_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_created_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  updatedAt: PgTimestamp {
    name: [32m'updated_at'[39m,
    keyAsName: [33mfalse[39m,
    primary: [33mfalse[39m,
    notNull: [33mfalse[39m,
    default: SQL {
      decoder: [36m[Object][39m,
      shouldInlineParams: [33mfalse[39m,
      queryChunks: [36m[Array][39m
    },
    defaultFn: [90mundefined[39m,
    onUpdateFn: [90mundefined[39m,
    hasDefault: [33mtrue[39m,
    isUnique: [33mfalse[39m,
    uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
    uniqueType: [90mundefined[39m,
    dataType: [32m'date'[39m,
    columnType: [32m'PgTimestamp'[39m,
    enumValues: [90mundefined[39m,
    generated: [90mundefined[39m,
    generatedIdentity: [90mundefined[39m,
    config: {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      hasDefault: [33mtrue[39m,
      primaryKey: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      generated: [90mundefined[39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m
    },
    table: [36m[Circular *1][39m,
    withTimezone: [33mfalse[39m,
    precision: [90mundefined[39m,
    mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
    mapToDriverValue: [36m[Function: mapToDriverValue][39m
  },
  enableRLS: [36m[Function: enableRLS][39m,
  [32mSymbol(drizzle:Name)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:OriginalName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:Schema)[39m: [90mundefined[39m,
  [32mSymbol(drizzle:Columns)[39m: {
    id: PgUUID {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    workflowId: PgUUID {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    baseId: PgUUID {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    versionNumber: PgInteger {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    isDraft: PgBoolean {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    graphJson: PgJsonb {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    migrationInfo: PgJsonb {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    changelog: PgJsonb {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    notes: PgText {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    checksum: PgText {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    createdBy: PgVarchar {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      length: [90mundefined[39m
    },
    published: PgBoolean {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m
    },
    publishedAt: PgTimestamp {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    createdAt: PgTimestamp {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    },
    updatedAt: PgTimestamp {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      withTimezone: [33mfalse[39m,
      precision: [90mundefined[39m,
      mapFromDriverValue: [36m[Function: mapFromDriverValue][39m,
      mapToDriverValue: [36m[Function: mapToDriverValue][39m
    }
  },
  [32mSymbol(drizzle:ExtraConfigColumns)[39m: {
    id: ExtraConfigColumn {
      name: [32m'id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mtrue[39m,
      notNull: [33mtrue[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    workflowId: ExtraConfigColumn {
      name: [32m'workflow_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_workflow_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    baseId: ExtraConfigColumn {
      name: [32m'base_id'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_base_id_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgUUID'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    versionNumber: ExtraConfigColumn {
      name: [32m'version_number'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33m1[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_version_number_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'number'[39m,
      columnType: [32m'PgInteger'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    isDraft: ExtraConfigColumn {
      name: [32m'is_draft'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_is_draft_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    graphJson: ExtraConfigColumn {
      name: [32m'graph_json'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_graph_json_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    migrationInfo: ExtraConfigColumn {
      name: [32m'migration_info'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_migration_info_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    changelog: ExtraConfigColumn {
      name: [32m'changelog'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_changelog_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'json'[39m,
      columnType: [32m'PgJsonb'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    notes: ExtraConfigColumn {
      name: [32m'notes'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_notes_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    checksum: ExtraConfigColumn {
      name: [32m'checksum'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_checksum_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgText'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdBy: ExtraConfigColumn {
      name: [32m'created_by'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_by_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'string'[39m,
      columnType: [32m'PgVarchar'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    published: ExtraConfigColumn {
      name: [32m'published'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mtrue[39m,
      default: [33mfalse[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'boolean'[39m,
      columnType: [32m'PgBoolean'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    publishedAt: ExtraConfigColumn {
      name: [32m'published_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [90mundefined[39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mfalse[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_published_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    createdAt: ExtraConfigColumn {
      name: [32m'created_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_created_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    },
    updatedAt: ExtraConfigColumn {
      name: [32m'updated_at'[39m,
      keyAsName: [33mfalse[39m,
      primary: [33mfalse[39m,
      notNull: [33mfalse[39m,
      default: [36m[SQL][39m,
      defaultFn: [90mundefined[39m,
      onUpdateFn: [90mundefined[39m,
      hasDefault: [33mtrue[39m,
      isUnique: [33mfalse[39m,
      uniqueName: [32m'workflow_versions_updated_at_unique'[39m,
      uniqueType: [90mundefined[39m,
      dataType: [32m'date'[39m,
      columnType: [32m'PgTimestamp'[39m,
      enumValues: [90mundefined[39m,
      generated: [90mundefined[39m,
      generatedIdentity: [90mundefined[39m,
      config: [36m[Object][39m,
      table: [36m[Circular *1][39m,
      indexConfig: [36m[Object][39m,
      defaultConfig: [36m[Object][39m
    }
  },
  [32mSymbol(drizzle:BaseName)[39m: [32m'workflow_versions'[39m,
  [32mSymbol(drizzle:IsAlias)[39m: [33mfalse[39m,
  [32mSymbol(drizzle:IsDrizzleTable)[39m: [33mtrue[39m,
  [32mSymbol(drizzle:ExtraConfigBuilder)[39m: [36m[Function (anonymous)][39m,
  [32mSymbol(drizzle:PgInlineForeignKeys)[39m: [
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'cascade'[39m,
      table: [36m[Circular *1][39m
    },
    ForeignKey {
      reference: [36m[Function (anonymous)][39m,
      onUpdate: [32m'no action'[39m,
      onDelete: [32m'no action'[39m,
      table: [36m[Circular *1][39m
    }
  ],
  [32mSymbol(drizzle:EnableRLS)[39m: [33mfalse[39m
}
DEBUG: workflowVersions symbols: [
  [32m'Symbol(drizzle:Name)'[39m,
  [32m'Symbol(drizzle:OriginalName)'[39m,
  [32m'Symbol(drizzle:Schema)'[39m,
  [32m'Symbol(drizzle:Columns)'[39m,
  [32m'Symbol(drizzle:ExtraConfigColumns)'[39m,
  [32m'Symbol(drizzle:BaseName)'[39m,
  [32m'Symbol(drizzle:IsAlias)'[39m,
  [32m'Symbol(drizzle:IsDrizzleTable)'[39m,
  [32m'Symbol(drizzle:ExtraConfigBuilder)'[39m,
  [32m'Symbol(drizzle:PgInlineForeignKeys)'[39m,
  [32m'Symbol(drizzle:EnableRLS)'[39m
]

{"level":50,"time":1768482476503,"env":"test","module":"ai-workflow-edit-routes","error":{},"workflowId":"850d717f-8642-4ff7-b0fd-91d4f1fa621b","msg":"Error in AI workflow edit"}
stderr | tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should create BEFORE and AFTER snapshots
DEBUG: Route-level error: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30
DEBUG: Route-level error stack: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:35:30
    at Array.map (<anonymous>)
    at PgInsertBuilder.values (file:///C:/Users/scoot/poll/VaultLogic/node_modules/drizzle-orm/pg-core/query-builders/insert.js:33:33)
    at VersionService.createDraftVersion (C:/Users/scoot/poll/VaultLogic/server/services/VersionService.ts:275:34)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at C:/Users/scoot/poll/VaultLogic/server/routes/ai/workflowEdit.routes.ts:123:30

{"level":30,"time":1768482476779,"env":"test","workflowId":"2dabef2b-8ab0-48d8-9920-5c8eb09baafd","userId":"d8e70dc6-560b-4a3c-8e54-8f7018794d0e","sectionsCount":1,"stepsCount":1,"logicRulesCount":0,"msg":"getWorkflowWithDetails called"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould rollback on validation failure
[22m[39mDEBUG: Instantiating GoogleGenerativeAI
DEBUG: Getting model
DEBUG: Building system prompt
DEBUG: Building workflow context
DEBUG: Workflow context built
DEBUG: About to build full prompt. Parts: { s: [32m'string'[39m, w: [32m'string'[39m, u: [32m'string'[39m }
DEBUG: Full prompt built. Length: [33m1739[39m

[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould rollback on validation failure
[22m[39mDEBUG: Calling applyOps

{"level":50,"time":1768482476925,"env":"test","module":"ai-workflow-edit-routes","errors":["Validation failed for step.create: Step alias 'email' already exists"],"workflowId":"2dabef2b-8ab0-48d8-9920-5c8eb09baafd","msg":"Failed to apply some AI operations"}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts[2m > [22m[2mPOST /api/workflows/:workflowId/ai/edit - Integration Test[2m > [22m[2mshould rollback on validation failure
[22m[39mDEBUG: applyOps finished

{"level":30,"time":1768482477354,"env":"test","msg":"DB: closing pool..."}
[90mstdout[2m | tests/integration/ai/workflowEdit.test.ts
[22m[39mâ‰¡Æ’Âºâ•£ Cleaning up test environment...

{"level":30,"time":1768482477355,"env":"test","msg":"DB: pool closed."}
 [31mÎ“Â¥Â»[39m tests/integration/ai/workflowEdit.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[33m 6451[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should create draft version on successful AI edit[39m[33m 1036[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should enforce draft mode (revert active workflow to draft)[39m[33m 747[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should not create version when no changes detected (checksum match)[39m[33m 733[2mms[22m[39m
     [32mÎ“Â£Ã´[39m should reject unauthorized access[32m 51[2mms[22m[39m
     [32mÎ“Â£Ã´[39m should reject unsafe DataVault operations[32m 245[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should handle multi-operation edits with tempId resolution[39m[33m 869[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should create BEFORE and AFTER snapshots[39m[33m 678[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should rollback on validation failure [33m 511[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 5 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should create draft version on successful AI edit
Error: expected 200 "OK", got 500 "Internal Server Error"
 Î“Â¥Â» tests/integration/ai/workflowEdit.test.ts:189:8
    187|         }
    188|       })
    189|       .expect(200);
       |        ^
    190| 
    191|     expect(response.body.success).toBe(true);
 Î“Â¥Â» Test._assertStatus node_modules/supertest/lib/test.js:309:14
 Î“Â¥Â» node_modules/supertest/lib/test.js:365:13
 Î“Â¥Â» Test._assertFunction node_modules/supertest/lib/test.js:342:13
 Î“Â¥Â» Test.assert node_modules/supertest/lib/test.js:195:23
 Î“Â¥Â» localAssert node_modules/supertest/lib/test.js:138:14
 Î“Â¥Â» Server.<anonymous> node_modules/supertest/lib/test.js:152:11

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/5]Î“Ã„Â»

 FAIL  tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should enforce draft mode (revert active workflow to draft)
Error: expected 200 "OK", got 500 "Internal Server Error"
 Î“Â¥Â» tests/integration/ai/workflowEdit.test.ts:229:8
    227|         userMessage: 'Add a phone number field',
    228|       })
    229|       .expect(200);
       |        ^
    230| 
    231|     // Verify workflow is now draft
 Î“Â¥Â» Test._assertStatus node_modules/supertest/lib/test.js:309:14
 Î“Â¥Â» node_modules/supertest/lib/test.js:365:13
 Î“Â¥Â» Test._assertFunction node_modules/supertest/lib/test.js:342:13
 Î“Â¥Â» Test.assert node_modules/supertest/lib/test.js:195:23
 Î“Â¥Â» localAssert node_modules/supertest/lib/test.js:138:14
 Î“Â¥Â» Server.<anonymous> node_modules/supertest/lib/test.js:152:11

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/5]Î“Ã„Â»

 FAIL  tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should not create version when no changes detected (checksum match)
Error: expected 200 "OK", got 500 "Internal Server Error"
 Î“Â¥Â» tests/integration/ai/workflowEdit.test.ts:246:8
    244|         userMessage: 'Add contact section',
    245|       })
    246|       .expect(200);
       |        ^
    247| 
    248|     const versionId1 = response1.body.data.versionId;
 Î“Â¥Â» Test._assertStatus node_modules/supertest/lib/test.js:309:14
 Î“Â¥Â» node_modules/supertest/lib/test.js:365:13
 Î“Â¥Â» Test._assertFunction node_modules/supertest/lib/test.js:342:13
 Î“Â¥Â» Test.assert node_modules/supertest/lib/test.js:195:23
 Î“Â¥Â» localAssert node_modules/supertest/lib/test.js:138:14
 Î“Â¥Â» Server.<anonymous> node_modules/supertest/lib/test.js:152:11

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[3/5]Î“Ã„Â»

 FAIL  tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should handle multi-operation edits with tempId resolution
Error: expected 200 "OK", got 500 "Internal Server Error"
 Î“Â¥Â» tests/integration/ai/workflowEdit.test.ts:400:8
    398|         userMessage: 'Add emergency contact section with name and phonÎ“Ã‡Âª
    399|       })
    400|       .expect(200);
       |        ^
    401| 
    402|     expect(response.body.success).toBe(true);
 Î“Â¥Â» Test._assertStatus node_modules/supertest/lib/test.js:309:14
 Î“Â¥Â» node_modules/supertest/lib/test.js:365:13
 Î“Â¥Â» Test._assertFunction node_modules/supertest/lib/test.js:342:13
 Î“Â¥Â» Test.assert node_modules/supertest/lib/test.js:195:23
 Î“Â¥Â» localAssert node_modules/supertest/lib/test.js:138:14
 Î“Â¥Â» Server.<anonymous> node_modules/supertest/lib/test.js:152:11

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[4/5]Î“Ã„Â»

 FAIL  tests/integration/ai/workflowEdit.test.ts > POST /api/workflows/:workflowId/ai/edit - Integration Test > should create BEFORE and AFTER snapshots
Error: expected 200 "OK", got 500 "Internal Server Error"
 Î“Â¥Â» tests/integration/ai/workflowEdit.test.ts:437:8
    435|         userMessage: 'Add a simple field',
    436|       })
    437|       .expect(200);
       |        ^
    438| 
    439|     const versionId = response.body.data.versionId;
 Î“Â¥Â» Test._assertStatus node_modules/supertest/lib/test.js:309:14
 Î“Â¥Â» node_modules/supertest/lib/test.js:365:13
 Î“Â¥Â» Test._assertFunction node_modules/supertest/lib/test.js:342:13
 Î“Â¥Â» Test.assert node_modules/supertest/lib/test.js:195:23
 Î“Â¥Â» localAssert node_modules/supertest/lib/test.js:138:14
 Î“Â¥Â» Server.<anonymous> node_modules/supertest/lib/test.js:152:11

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[5/5]Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m5 failed[39m[22m[2m | [22m[1m[32m3 passed[39m[22m[90m (8)[39m
[2m   Start at [22m 07:07:49
[2m   Duration [22m 8.31s[2m (transform 700ms, setup 176ms, import 1.32s, tests 6.45s, environment 0ms)[22m

