{"numTotalTestSuites":380,"numPassedTestSuites":355,"numFailedTestSuites":25,"numPendingTestSuites":0,"numTotalTests":817,"numPassedTests":796,"numFailedTests":19,"numPendingTests":2,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1768183765651,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Analytics Preservation"],"fullName":"Analytics Preservation should preserve lifetime user count when a user is deleted","status":"passed","title":"should preserve lifetime user count when a user is deleted","duration":466.6622000000002,"failureMessages":[],"meta":{}}],"startTime":1768184475446,"endTime":1768184475912.662,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/analytics_preservation.test.ts"},{"assertionResults":[{"ancestorTitles":["Analytics Service Integration"],"fullName":"Analytics Service Integration should generate events and metrics on run completion","status":"failed","title":"should generate events and metrics on run completion","duration":528.56,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/analytics_service.test.ts:50:68\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1768183830136,"endTime":1768183830664.56,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/analytics_service.test.ts"},{"assertionResults":[{"ancestorTitles":["AI Document Assistant API Integration Tests","POST /api/ai/doc/analyze"],"fullName":"AI Document Assistant API Integration Tests POST /api/ai/doc/analyze should analyze a DOCX file and return variables","status":"failed","title":"should analyze a DOCX file and return variables","duration":32.483000000000175,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/api.ai.doc.test.ts:143:37\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["AI Document Assistant API Integration Tests","POST /api/ai/doc/analyze"],"fullName":"AI Document Assistant API Integration Tests POST /api/ai/doc/analyze should fail if no file is provided","status":"failed","title":"should fail if no file is provided","duration":9.403599999999642,"failureMessages":["Error: expected 400 \"Bad Request\", got 500 \"Internal Server Error\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/api.ai.doc.test.ts:168:18\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:156:7\n    at Test.Request.callback (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\superagent\\lib\\node\\index.js:857:3)\n    at IncomingMessage.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\superagent\\lib\\node\\index.js:1102:18)\n    at IncomingMessage.emit (node:events:520:35)\n    at endReadableNT (node:internal/streams/readable:1701:12)"],"meta":{}},{"ancestorTitles":["AI Document Assistant API Integration Tests","POST /api/ai/doc/suggest-mappings"],"fullName":"AI Document Assistant API Integration Tests POST /api/ai/doc/suggest-mappings should suggest mappings between template and workflow variables","status":"passed","title":"should suggest mappings between template and workflow variables","duration":17.849699999999757,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Document Assistant API Integration Tests","POST /api/ai/doc/suggest-improvements"],"fullName":"AI Document Assistant API Integration Tests POST /api/ai/doc/suggest-improvements should return improvement suggestions","status":"passed","title":"should return improvement suggestions","duration":6.297900000000482,"failureMessages":[],"meta":{}}],"startTime":1768183851103,"endTime":1768183851170.2979,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.ai.doc.test.ts"},{"assertionResults":[{"ancestorTitles":["Personalization API Integration Tests","POST /api/ai/personalize/block"],"fullName":"Personalization API Integration Tests POST /api/ai/personalize/block should rewrite text based on user settings","status":"passed","title":"should rewrite text based on user settings","duration":89.23639999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["Personalization API Integration Tests","POST /api/ai/personalize/help"],"fullName":"Personalization API Integration Tests POST /api/ai/personalize/help should generate help text","status":"passed","title":"should generate help text","duration":60.07020000000011,"failureMessages":[],"meta":{}},{"ancestorTitles":["Personalization API Integration Tests","POST /api/ai/personalize/settings"],"fullName":"Personalization API Integration Tests POST /api/ai/personalize/settings should update user settings","status":"passed","title":"should update user settings","duration":112.84760000000006,"failureMessages":[],"meta":{}}],"startTime":1768184481961,"endTime":1768184482223.8477,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.ai.personalization.test.ts"},{"assertionResults":[{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should require authentication","status":"passed","title":"should require authentication","duration":1.174600000000055,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should require builder or owner role","status":"passed","title":"should require builder or owner role","duration":0.1856000000000222,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should validate request body with Zod schema","status":"passed","title":"should validate request body with Zod schema","duration":0.17050000000017462,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should generate workflow and return success response","status":"passed","title":"should generate workflow and return success response","duration":0.1392000000000735,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should enforce rate limiting (10 requests per minute)","status":"passed","title":"should enforce rate limiting (10 requests per minute)","duration":0.16020000000003165,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should handle AI API rate limit errors with 429 status","status":"passed","title":"should handle AI API rate limit errors with 429 status","duration":0.11809999999991305,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should handle AI API timeout errors with 504 status","status":"passed","title":"should handle AI API timeout errors with 504 status","duration":0.09370000000012624,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should handle validation errors with 422 status","status":"passed","title":"should handle validation errors with 422 status","duration":0.09719999999992979,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should include metadata in response","status":"passed","title":"should include metadata in response","duration":0.19119999999998072,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/generate"],"fullName":"AI API Endpoints POST /api/ai/workflows/generate should log request and response with appropriate detail","status":"passed","title":"should log request and response with appropriate detail","duration":0.21949999999992542,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/:id/suggest"],"fullName":"AI API Endpoints POST /api/ai/workflows/:id/suggest should require authentication","status":"passed","title":"should require authentication","duration":0.13610000000016953,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/:id/suggest"],"fullName":"AI API Endpoints POST /api/ai/workflows/:id/suggest should require builder or owner role","status":"passed","title":"should require builder or owner role","duration":0.08579999999983556,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/:id/suggest"],"fullName":"AI API Endpoints POST /api/ai/workflows/:id/suggest should validate workflow exists","status":"passed","title":"should validate workflow exists","duration":0.07390000000009422,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/:id/suggest"],"fullName":"AI API Endpoints POST /api/ai/workflows/:id/suggest should fetch existing workflow details","status":"passed","title":"should fetch existing workflow details","duration":0.0726999999999407,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/:id/suggest"],"fullName":"AI API Endpoints POST /api/ai/workflows/:id/suggest should generate suggestions based on user request","status":"passed","title":"should generate suggestions based on user request","duration":0.07009999999991123,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/:id/suggest"],"fullName":"AI API Endpoints POST /api/ai/workflows/:id/suggest should return suggestions in correct format","status":"passed","title":"should return suggestions in correct format","duration":0.07150000000001455,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/workflows/:id/suggest"],"fullName":"AI API Endpoints POST /api/ai/workflows/:id/suggest should enforce rate limiting","status":"passed","title":"should enforce rate limiting","duration":0.08549999999991087,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/templates/:templateId/bindings"],"fullName":"AI API Endpoints POST /api/ai/templates/:templateId/bindings should require authentication","status":"passed","title":"should require authentication","duration":0.07749999999987267,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/templates/:templateId/bindings"],"fullName":"AI API Endpoints POST /api/ai/templates/:templateId/bindings should require builder or owner role","status":"passed","title":"should require builder or owner role","duration":0.07729999999992287,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/templates/:templateId/bindings"],"fullName":"AI API Endpoints POST /api/ai/templates/:templateId/bindings should require placeholders to be provided","status":"passed","title":"should require placeholders to be provided","duration":0.07110000000011496,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/templates/:templateId/bindings"],"fullName":"AI API Endpoints POST /api/ai/templates/:templateId/bindings should fetch workflow variables","status":"passed","title":"should fetch workflow variables","duration":0.06730000000015934,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/templates/:templateId/bindings"],"fullName":"AI API Endpoints POST /api/ai/templates/:templateId/bindings should generate binding suggestions","status":"passed","title":"should generate binding suggestions","duration":0.09709999999995489,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/templates/:templateId/bindings"],"fullName":"AI API Endpoints POST /api/ai/templates/:templateId/bindings should include confidence scores in suggestions","status":"passed","title":"should include confidence scores in suggestions","duration":0.09290000000009968,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/templates/:templateId/bindings"],"fullName":"AI API Endpoints POST /api/ai/templates/:templateId/bindings should identify unmatched placeholders and variables","status":"passed","title":"should identify unmatched placeholders and variables","duration":0.10999999999989996,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","POST /api/ai/templates/:templateId/bindings"],"fullName":"AI API Endpoints POST /api/ai/templates/:templateId/bindings should enforce rate limiting","status":"passed","title":"should enforce rate limiting","duration":0.07429999999999382,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","Rate Limiting"],"fullName":"AI API Endpoints Rate Limiting should use user ID for rate limit key when authenticated","status":"passed","title":"should use user ID for rate limit key when authenticated","duration":0.09920000000010987,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","Rate Limiting"],"fullName":"AI API Endpoints Rate Limiting should fall back to IP address for anonymous users","status":"passed","title":"should fall back to IP address for anonymous users","duration":0.08179999999993015,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","Rate Limiting"],"fullName":"AI API Endpoints Rate Limiting should apply 10 requests per minute limit","status":"passed","title":"should apply 10 requests per minute limit","duration":0.09399999999982356,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","Rate Limiting"],"fullName":"AI API Endpoints Rate Limiting should reset limit after window expires","status":"passed","title":"should reset limit after window expires","duration":0.10400000000004184,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","Error Handling"],"fullName":"AI API Endpoints Error Handling should return user-friendly error messages","status":"passed","title":"should return user-friendly error messages","duration":0.07750000000010004,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","Error Handling"],"fullName":"AI API Endpoints Error Handling should include error details only in development mode","status":"passed","title":"should include error details only in development mode","duration":0.06740000000013424,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI API Endpoints","Error Handling"],"fullName":"AI API Endpoints Error Handling should log errors with appropriate context","status":"passed","title":"should log errors with appropriate context","duration":0.06700000000000728,"failureMessages":[],"meta":{}}],"startTime":1768184466888,"endTime":1768184466893.0774,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.ai.test.ts"},{"assertionResults":[{"ancestorTitles":["Data Sources API - Native Catalog"],"fullName":"Data Sources API - Native Catalog should list databases and databases' tables in the catalog","status":"passed","title":"should list databases and databases' tables in the catalog","duration":391.3810999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Sources API - Native Catalog"],"fullName":"Data Sources API - Native Catalog should create a native_table data source","status":"passed","title":"should create a native_table data source","duration":181.23679999999968,"failureMessages":[],"meta":{}}],"startTime":1768184455326,"endTime":1768184455898.2368,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.dataSources.native.test.ts"},{"assertionResults":[{"ancestorTitles":["Expression Validation API Integration Tests","POST /api/workflows/validateExpression"],"fullName":"Expression Validation API Integration Tests POST /api/workflows/validateExpression should validate a correct expression with valid variables","status":"passed","title":"should validate a correct expression with valid variables","duration":121.85729999999967,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","POST /api/workflows/validateExpression"],"fullName":"Expression Validation API Integration Tests POST /api/workflows/validateExpression should validate expression with string concatenation","status":"passed","title":"should validate expression with string concatenation","duration":126.33010000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","POST /api/workflows/validateExpression"],"fullName":"Expression Validation API Integration Tests POST /api/workflows/validateExpression should reject expression with invalid syntax","status":"passed","title":"should reject expression with invalid syntax","duration":110.95759999999973,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","POST /api/workflows/validateExpression"],"fullName":"Expression Validation API Integration Tests POST /api/workflows/validateExpression should reject without authentication","status":"passed","title":"should reject without authentication","duration":3.792899999999463,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","POST /api/workflows/validateExpression"],"fullName":"Expression Validation API Integration Tests POST /api/workflows/validateExpression should reject missing required fields","status":"passed","title":"should reject missing required fields","duration":59.486299999999574,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","GET /api/workflows/:id/availableVars/:nodeId"],"fullName":"Expression Validation API Integration Tests GET /api/workflows/:id/availableVars/:nodeId should return available variables for a node","status":"passed","title":"should return available variables for a node","duration":117.89629999999943,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","GET /api/workflows/:id/availableVars/:nodeId"],"fullName":"Expression Validation API Integration Tests GET /api/workflows/:id/availableVars/:nodeId should reject without authentication","status":"passed","title":"should reject without authentication","duration":4.4377000000004045,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","GET /api/workflows/:id/availableVars/:nodeId"],"fullName":"Expression Validation API Integration Tests GET /api/workflows/:id/availableVars/:nodeId should reject non-existent workflow","status":"passed","title":"should reject non-existent workflow","duration":112.72540000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","GET /api/engine/helpers"],"fullName":"Expression Validation API Integration Tests GET /api/engine/helpers should return list of helper functions with metadata","status":"passed","title":"should return list of helper functions with metadata","duration":64.11400000000049,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expression Validation API Integration Tests","GET /api/engine/helpers"],"fullName":"Expression Validation API Integration Tests GET /api/engine/helpers should reject without authentication","status":"passed","title":"should reject without authentication","duration":3.3947000000007392,"failureMessages":[],"meta":{}}],"startTime":1768184443062,"endTime":1768184443788.3948,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.expression-validation.test.ts"},{"assertionResults":[{"ancestorTitles":["Projects API Integration Tests","POST /api/projects"],"fullName":"Projects API Integration Tests POST /api/projects should create a new project","status":"passed","title":"should create a new project","duration":120.67520000000059,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","POST /api/projects"],"fullName":"Projects API Integration Tests POST /api/projects should reject without authentication","status":"passed","title":"should reject without authentication","duration":4.248099999999795,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","POST /api/projects"],"fullName":"Projects API Integration Tests POST /api/projects should reject with invalid data","status":"passed","title":"should reject with invalid data","duration":53.704899999999725,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","GET /api/projects"],"fullName":"Projects API Integration Tests GET /api/projects should list projects for tenant","status":"passed","title":"should list projects for tenant","duration":225.15489999999954,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","GET /api/projects"],"fullName":"Projects API Integration Tests GET /api/projects should support pagination","status":"passed","title":"should support pagination","duration":219.05249999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","GET /api/projects/:id"],"fullName":"Projects API Integration Tests GET /api/projects/:id should get project by ID","status":"passed","title":"should get project by ID","duration":217.53290000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","GET /api/projects/:id"],"fullName":"Projects API Integration Tests GET /api/projects/:id should return 404 for non-existent project","status":"passed","title":"should return 404 for non-existent project","duration":229.1927999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","PATCH /api/projects/:id"],"fullName":"Projects API Integration Tests PATCH /api/projects/:id should update project","status":"passed","title":"should update project","duration":280.4457999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","DELETE /api/projects/:id"],"fullName":"Projects API Integration Tests DELETE /api/projects/:id should soft-delete project","status":"passed","title":"should soft-delete project","duration":318.5559999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Projects API Integration Tests","Tenant Isolation"],"fullName":"Projects API Integration Tests Tenant Isolation should not allow cross-tenant access","status":"passed","title":"should not allow cross-tenant access","duration":889.8364999999994,"failureMessages":[],"meta":{}}],"startTime":1768184418498,"endTime":1768184421056.8364,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.projects.test.ts"},{"assertionResults":[{"ancestorTitles":["Runs API - DOCX Generation Integration Tests","POST /api/workflows/:id/run - Template Node Execution"],"fullName":"Runs API - DOCX Generation Integration Tests POST /api/workflows/:id/run - Template Node Execution should execute workflow with template node and generate DOCX","status":"passed","title":"should execute workflow with template node and generate DOCX","duration":1471.8233,"failureMessages":[],"meta":{}},{"ancestorTitles":["Runs API - DOCX Generation Integration Tests","POST /api/workflows/:id/run - Template Node Execution"],"fullName":"Runs API - DOCX Generation Integration Tests POST /api/workflows/:id/run - Template Node Execution should handle missing template data gracefully","status":"passed","title":"should handle missing template data gracefully","duration":1649.669899999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Runs API - DOCX Generation Integration Tests","GET /api/runs/:id/download - Download Generated DOCX"],"fullName":"Runs API - DOCX Generation Integration Tests GET /api/runs/:id/download - Download Generated DOCX should download DOCX output from successful run","status":"passed","title":"should download DOCX output from successful run","duration":171.27160000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Runs API - DOCX Generation Integration Tests","GET /api/runs/:id/download - Download Generated DOCX"],"fullName":"Runs API - DOCX Generation Integration Tests GET /api/runs/:id/download - Download Generated DOCX should return 404 for PDF when not generated","status":"passed","title":"should return 404 for PDF when not generated","duration":161.83039999999892,"failureMessages":[],"meta":{}},{"ancestorTitles":["Runs API - DOCX Generation Integration Tests","GET /api/runs/:id/download - Download Generated DOCX"],"fullName":"Runs API - DOCX Generation Integration Tests GET /api/runs/:id/download - Download Generated DOCX should return 404 for non-existent run","status":"passed","title":"should return 404 for non-existent run","duration":106.55090000000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["Runs API - DOCX Generation Integration Tests","Template Placeholder Extraction"],"fullName":"Runs API - DOCX Generation Integration Tests Template Placeholder Extraction should extract placeholders from uploaded template","status":"passed","title":"should extract placeholders from uploaded template","duration":112.3168999999998,"failureMessages":[],"meta":{}}],"startTime":1768184358342,"endTime":1768184363040.317,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.runs.docx.test.ts"},{"assertionResults":[{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs should list all runs with pagination","status":"passed","title":"should list all runs with pagination","duration":67.30599999999959,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs should filter runs by status","status":"passed","title":"should filter runs by status","duration":62.44909999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs should filter runs by workflow","status":"passed","title":"should filter runs by workflow","duration":58.14570000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs should filter runs by project","status":"passed","title":"should filter runs by project","duration":61.22690000000057,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs should filter runs by date range","status":"passed","title":"should filter runs by date range","duration":62.689000000000306,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs should search runs by query string","status":"passed","title":"should search runs by query string","duration":59.01980000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/:id"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/:id should get run by ID with all details","status":"passed","title":"should get run by ID with all details","duration":133.8046000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/:id"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/:id should return 404 for non-existent run","status":"passed","title":"should return 404 for non-existent run","duration":82.6241,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/:id/logs"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/:id/logs should get logs for a run","status":"passed","title":"should get logs for a run","duration":174.5056000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","POST /api/runs/:id/rerun"],"fullName":"Stage 8: Runs API Integration Tests POST /api/runs/:id/rerun should re-run workflow with same inputs","status":"passed","title":"should re-run workflow with same inputs","duration":346.2062999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","POST /api/runs/:id/rerun"],"fullName":"Stage 8: Runs API Integration Tests POST /api/runs/:id/rerun should re-run workflow with override inputs","status":"passed","title":"should re-run workflow with override inputs","duration":331.27610000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","POST /api/runs/:id/rerun"],"fullName":"Stage 8: Runs API Integration Tests POST /api/runs/:id/rerun should return 404 for non-existent run","status":"passed","title":"should return 404 for non-existent run","duration":64.04849999999897,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/export.csv"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/export.csv should export runs to CSV","status":"passed","title":"should export runs to CSV","duration":267.3158999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/export.csv"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/export.csv should export runs with filters applied","status":"passed","title":"should export runs with filters applied","duration":162.0018999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/compare"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/compare should compare two runs","status":"passed","title":"should compare two runs","duration":284.9351999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/compare"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/compare should identify changed input keys","status":"passed","title":"should identify changed input keys","duration":119.6918999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/compare"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/compare should return 404 if run A not found","status":"passed","title":"should return 404 if run A not found","duration":66.62820000000102,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","GET /api/runs/compare"],"fullName":"Stage 8: Runs API Integration Tests GET /api/runs/compare should return 404 if run B not found","status":"passed","title":"should return 404 if run B not found","duration":65.20300000000134,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 8: Runs API Integration Tests","RBAC and Tenant Isolation"],"fullName":"Stage 8: Runs API Integration Tests RBAC and Tenant Isolation should enforce tenant isolation on runs list","status":"passed","title":"should enforce tenant isolation on runs list","duration":507.2322000000004,"failureMessages":[],"meta":{}}],"startTime":1768184393038,"endTime":1768184396016.2322,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.runs.graph.test.ts"},{"assertionResults":[{"ancestorTitles":["Stage 13: Workflow Snapshots & Versioning"],"fullName":"Stage 13: Workflow Snapshots & Versioning should maintain immutability of runs across versions","status":"failed","title":"should maintain immutability of runs across versions","duration":282.97040000000015,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/api.snapshots.test.ts:199:37\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1768183839441,"endTime":1768183839723.9705,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.snapshots.test.ts"},{"assertionResults":[{"ancestorTitles":["Templates and Runs API Integration Tests","Templates API","POST /api/projects/:ctx.projectId/templates"],"fullName":"Templates and Runs API Integration Tests Templates API POST /api/projects/:ctx.projectId/templates should create template with file upload","status":"passed","title":"should create template with file upload","duration":184.05879999999888,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Templates API","POST /api/projects/:ctx.projectId/templates"],"fullName":"Templates and Runs API Integration Tests Templates API POST /api/projects/:ctx.projectId/templates should reject non-docx files","status":"passed","title":"should reject non-docx files","duration":148.8706999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Templates API","POST /api/projects/:ctx.projectId/templates"],"fullName":"Templates and Runs API Integration Tests Templates API POST /api/projects/:ctx.projectId/templates should reject without file","status":"passed","title":"should reject without file","duration":116.26310000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Templates API","GET /api/projects/:ctx.projectId/templates"],"fullName":"Templates and Runs API Integration Tests Templates API GET /api/projects/:ctx.projectId/templates should list templates","status":"passed","title":"should list templates","duration":328.82280000000173,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Templates API","GET /api/templates/:id"],"fullName":"Templates and Runs API Integration Tests Templates API GET /api/templates/:id should get template by ID","status":"passed","title":"should get template by ID","duration":277.27430000000095,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Templates API","GET /api/templates/:id/placeholders"],"fullName":"Templates and Runs API Integration Tests Templates API GET /api/templates/:id/placeholders should extract placeholders","status":"passed","title":"should extract placeholders","duration":282.1265000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Templates API","PATCH /api/templates/:id"],"fullName":"Templates and Runs API Integration Tests Templates API PATCH /api/templates/:id should update template name","status":"passed","title":"should update template name","duration":323.54110000000037,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Templates API","DELETE /api/templates/:id"],"fullName":"Templates and Runs API Integration Tests Templates API DELETE /api/templates/:id should delete template","status":"passed","title":"should delete template","duration":451.0072999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Runs API","POST /api/workflows/:id/run"],"fullName":"Templates and Runs API Integration Tests Runs API POST /api/workflows/:id/run should execute workflow","status":"passed","title":"should execute workflow","duration":297.71680000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Runs API","POST /api/workflows/:id/run"],"fullName":"Templates and Runs API Integration Tests Runs API POST /api/workflows/:id/run should include logs in debug mode","status":"passed","title":"should include logs in debug mode","duration":284.01800000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Runs API","POST /api/workflows/:id/run"],"fullName":"Templates and Runs API Integration Tests Runs API POST /api/workflows/:id/run should reject without required permission","status":"failed","title":"should reject without required permission","duration":7.496600000000399,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/api.templates-runs.test.ts:289:12\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at runSuite (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1817:8)\n    at runSuite (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1817:8)\n    at runSuite (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1817:8)\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:156:7\n    at Test.Request.callback (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\superagent\\lib\\node\\index.js:857:3)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\superagent\\lib\\node\\index.js:1102:18\n    at IncomingMessage.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\superagent\\lib\\node\\parsers\\json.js:21:7)\n    at IncomingMessage.emit (node:events:520:35)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Runs API","GET /api/runs"],"fullName":"Templates and Runs API Integration Tests Runs API GET /api/runs should list runs","status":"passed","title":"should list runs","duration":385.47179999999935,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Runs API","GET /api/runs"],"fullName":"Templates and Runs API Integration Tests Runs API GET /api/runs should filter by workflowId","status":"passed","title":"should filter by workflowId","duration":392.77469999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Runs API","GET /api/runs/:id"],"fullName":"Templates and Runs API Integration Tests Runs API GET /api/runs/:id should get run by ID","status":"passed","title":"should get run by ID","duration":452.70600000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["Templates and Runs API Integration Tests","Runs API","GET /api/runs/:id/logs"],"fullName":"Templates and Runs API Integration Tests Runs API GET /api/runs/:id/logs should get run logs","status":"passed","title":"should get run logs","duration":500.8313999999991,"failureMessages":[],"meta":{}}],"startTime":1768183816222,"endTime":1768183820656.8313,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.templates-runs.test.ts"},{"assertionResults":[{"ancestorTitles":["Workflows API Integration Tests","POST /api/projects/:ctx.projectId/workflows"],"fullName":"Workflows API Integration Tests POST /api/projects/:ctx.projectId/workflows should create a new draft workflow","status":"passed","title":"should create a new draft workflow","duration":367.15540000000055,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","POST /api/projects/:ctx.projectId/workflows"],"fullName":"Workflows API Integration Tests POST /api/projects/:ctx.projectId/workflows should reject without permission","status":"passed","title":"should reject without permission","duration":657.4533999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","GET /api/projects/:ctx.projectId/workflows"],"fullName":"Workflows API Integration Tests GET /api/projects/:ctx.projectId/workflows should list workflows","status":"passed","title":"should list workflows","duration":518.8256000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","GET /api/projects/:ctx.projectId/workflows"],"fullName":"Workflows API Integration Tests GET /api/projects/:ctx.projectId/workflows should filter by status","status":"passed","title":"should filter by status","duration":525.4906000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","GET /api/projects/:ctx.projectId/workflows"],"fullName":"Workflows API Integration Tests GET /api/projects/:ctx.projectId/workflows should search by name","status":"passed","title":"should search by name","duration":869.2554,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PATCH /api/workflows/:id"],"fullName":"Workflows API Integration Tests PATCH /api/workflows/:id should update draft workflow","status":"passed","title":"should update draft workflow","duration":688.3832000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PATCH /api/workflows/:id"],"fullName":"Workflows API Integration Tests PATCH /api/workflows/:id should not allow editing published workflow","status":"passed","title":"should not allow editing published workflow","duration":855.9501,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","POST /api/workflows/:id/publish"],"fullName":"Workflows API Integration Tests POST /api/workflows/:id/publish should publish workflow","status":"passed","title":"should publish workflow","duration":741.345800000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","GET /api/workflows/:id/versions"],"fullName":"Workflows API Integration Tests GET /api/workflows/:id/versions should list workflow versions","status":"passed","title":"should list workflow versions","duration":910.1530999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PUT /api/workflows/:id/move"],"fullName":"Workflows API Integration Tests PUT /api/workflows/:id/move should move workflow to a project","status":"passed","title":"should move workflow to a project","duration":1287.1711999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PUT /api/workflows/:id/move"],"fullName":"Workflows API Integration Tests PUT /api/workflows/:id/move should move workflow to Main Folder (projectId = null)","status":"passed","title":"should move workflow to Main Folder (projectId = null)","duration":1137.9197999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PUT /api/workflows/:id/move"],"fullName":"Workflows API Integration Tests PUT /api/workflows/:id/move should reject move to non-existent project","status":"passed","title":"should reject move to non-existent project","duration":614.6821999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PUT /api/workflows/:id/move"],"fullName":"Workflows API Integration Tests PUT /api/workflows/:id/move should reject move without authentication","status":"passed","title":"should reject move without authentication","duration":491.5673000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PUT /api/workflows/:id/move"],"fullName":"Workflows API Integration Tests PUT /api/workflows/:id/move should reject move of workflow user does not own","status":"passed","title":"should reject move of workflow user does not own","duration":1254.5602,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PUT /api/workflows/:id/move"],"fullName":"Workflows API Integration Tests PUT /api/workflows/:id/move should reject move with invalid projectId format","status":"passed","title":"should reject move with invalid projectId format","duration":532.8444999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PUT /api/workflows/:id/move"],"fullName":"Workflows API Integration Tests PUT /api/workflows/:id/move should reject move without projectId in body","status":"passed","title":"should reject move without projectId in body","duration":536.6875999999975,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflows API Integration Tests","PUT /api/workflows/:id/move"],"fullName":"Workflows API Integration Tests PUT /api/workflows/:id/move should reject move to project user does not have access to","status":"passed","title":"should reject move to project user does not have access to","duration":2015.9336000000003,"failureMessages":[],"meta":{}}],"startTime":1768184220344,"endTime":1768184234350.9336,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/api.workflows.test.ts"},{"assertionResults":[{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Complete Registration → Login Flow"],"fullName":"Auth Flows Integration Tests (REAL) Complete Registration → Login Flow should complete registration, verify email, then login","status":"passed","title":"should complete registration, verify email, then login","duration":1902.9944,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Account Lockout Flow"],"fullName":"Auth Flows Integration Tests (REAL) Account Lockout Flow should lock account after 5 failed attempts, then unlock after waiting","status":"passed","title":"should lock account after 5 failed attempts, then unlock after waiting","duration":3543.725700000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Account Lockout Flow"],"fullName":"Auth Flows Integration Tests (REAL) Account Lockout Flow should record all login attempts","status":"passed","title":"should record all login attempts","duration":2316.695100000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","MFA Enrollment and Login Flow"],"fullName":"Auth Flows Integration Tests (REAL) MFA Enrollment and Login Flow should complete MFA setup and login with TOTP","status":"passed","title":"should complete MFA setup and login with TOTP","duration":2759.616100000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","MFA Enrollment and Login Flow"],"fullName":"Auth Flows Integration Tests (REAL) MFA Enrollment and Login Flow should login with backup code when TOTP unavailable","status":"passed","title":"should login with backup code when TOTP unavailable","duration":3902.981599999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Password Reset Flow"],"fullName":"Auth Flows Integration Tests (REAL) Password Reset Flow should complete full password reset flow","status":"passed","title":"should complete full password reset flow","duration":2808.316600000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Password Reset Flow"],"fullName":"Auth Flows Integration Tests (REAL) Password Reset Flow should invalidate all sessions after password reset","status":"passed","title":"should invalidate all sessions after password reset","duration":2224.045299999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Token Refresh Flow"],"fullName":"Auth Flows Integration Tests (REAL) Token Refresh Flow should rotate refresh token on each use","status":"passed","title":"should rotate refresh token on each use","duration":1970.1404000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Token Refresh Flow"],"fullName":"Auth Flows Integration Tests (REAL) Token Refresh Flow should detect and prevent refresh token reuse (token theft)","status":"passed","title":"should detect and prevent refresh token reuse (token theft)","duration":1748.7356999999975,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Session Management Flow"],"fullName":"Auth Flows Integration Tests (REAL) Session Management Flow should list all active sessions","status":"passed","title":"should list all active sessions","duration":1964.534300000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Flows Integration Tests (REAL)","Session Management Flow"],"fullName":"Auth Flows Integration Tests (REAL) Session Management Flow should revoke specific session","status":"passed","title":"should revoke specific session","duration":2194.8253000000004,"failureMessages":[],"meta":{}}],"startTime":1768184107465,"endTime":1768184134802.8252,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth.flows.real.test.ts"},{"assertionResults":[{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/register should register a new user successfully","status":"passed","title":"should register a new user successfully","duration":1405.4095000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/register should return 400 for invalid email format","status":"passed","title":"should return 400 for invalid email format","duration":826.6720999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/register should return 400 for weak password","status":"passed","title":"should return 400 for weak password","duration":804.6488999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/register should return 409 for duplicate email","status":"passed","title":"should return 409 for duplicate email","duration":1418.4638999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/register should set httpOnly refresh token cookie","status":"passed","title":"should set httpOnly refresh token cookie","duration":1401.5011999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/login should login with valid credentials","status":"passed","title":"should login with valid credentials","duration":1738.6841000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/login should return 401 for invalid password","status":"passed","title":"should return 401 for invalid password","duration":1688.8840999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/login should return 401 for non-existent user","status":"passed","title":"should return 401 for non-existent user","duration":969.3268000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/login should return 403 for unverified email","status":"passed","title":"should return 403 for unverified email","duration":1722.746500000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/login should record failed login attempt","status":"passed","title":"should record failed login attempt","duration":1725.1769999999979,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/login should return requiresMfa=true for MFA-enabled users","status":"passed","title":"should return requiresMfa=true for MFA-enabled users","duration":2036.9301000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/login should lock account after 5 failed attempts","status":"passed","title":"should lock account after 5 failed attempts","duration":3806.441500000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/logout"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/logout should logout and clear refresh token cookie","status":"passed","title":"should logout and clear refresh token cookie","duration":1779.719100000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/refresh-token"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/refresh-token should refresh access token with valid refresh token","status":"passed","title":"should refresh access token with valid refresh token","duration":1951.933100000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/refresh-token"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/refresh-token should return 401 for missing refresh token","status":"passed","title":"should return 401 for missing refresh token","duration":792.6264999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/refresh-token"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/refresh-token should rotate refresh token after use","status":"passed","title":"should rotate refresh token after use","duration":2052.9520999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/forgot-password"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/forgot-password should send password reset email for existing user","status":"passed","title":"should send password reset email for existing user","duration":1446.3662000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/forgot-password"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/forgot-password should not reveal if email exists (security)","status":"passed","title":"should not reveal if email exists (security)","duration":874.2584999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/reset-password"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/reset-password should reset password with valid token","status":"passed","title":"should reset password with valid token","duration":3030.894900000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/reset-password"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/reset-password should return 400 for invalid token","status":"passed","title":"should return 400 for invalid token","duration":883.0550000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","POST /api/auth/reset-password"],"fullName":"Auth Routes Integration Tests (REAL) POST /api/auth/reset-password should return 400 for weak new password","status":"passed","title":"should return 400 for weak new password","duration":1495.4775000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","GET /api/auth/me"],"fullName":"Auth Routes Integration Tests (REAL) GET /api/auth/me should return current user for valid token","status":"passed","title":"should return current user for valid token","duration":1833.3283999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","GET /api/auth/me"],"fullName":"Auth Routes Integration Tests (REAL) GET /api/auth/me should return 401 for missing token","status":"passed","title":"should return 401 for missing token","duration":799.6766999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","GET /api/auth/me"],"fullName":"Auth Routes Integration Tests (REAL) GET /api/auth/me should return 401 for invalid token","status":"passed","title":"should return 401 for invalid token","duration":850.699400000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","MFA Routes","POST /api/auth/mfa/verify-login"],"fullName":"Auth Routes Integration Tests (REAL) MFA Routes POST /api/auth/mfa/verify-login should complete MFA login with valid TOTP code","status":"passed","title":"should complete MFA login with valid TOTP code","duration":2205.4521000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests (REAL)","MFA Routes","POST /api/auth/mfa/verify-login"],"fullName":"Auth Routes Integration Tests (REAL) MFA Routes POST /api/auth/mfa/verify-login should reject invalid MFA code","status":"passed","title":"should reject invalid MFA code","duration":1692.4003999999986,"failureMessages":[],"meta":{}}],"startTime":1768183907050,"endTime":1768183948285.4004,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth.routes.real.test.ts"},{"assertionResults":[{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests POST /api/auth/register should register a new user successfully","status":"passed","title":"should register a new user successfully","duration":1.49149999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests POST /api/auth/register should return 400 for invalid email format","status":"passed","title":"should return 400 for invalid email format","duration":0.3260999999999967,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests POST /api/auth/register should return 400 for weak password","status":"passed","title":"should return 400 for weak password","duration":0.22059999999987667,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests POST /api/auth/register should return 409 for duplicate email","status":"passed","title":"should return 409 for duplicate email","duration":0.20600000000013097,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests POST /api/auth/register should hash password before storing","status":"passed","title":"should hash password before storing","duration":0.25250000000005457,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/register"],"fullName":"Auth Routes Integration Tests POST /api/auth/register should send email verification token","status":"passed","title":"should send email verification token","duration":0.17600000000015825,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests POST /api/auth/login should login with valid credentials","status":"passed","title":"should login with valid credentials","duration":0.23830000000020846,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests POST /api/auth/login should return 401 for invalid password","status":"passed","title":"should return 401 for invalid password","duration":0.1528000000000702,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests POST /api/auth/login should return 404 for non-existent user","status":"passed","title":"should return 404 for non-existent user","duration":0.17259999999987485,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests POST /api/auth/login should return 403 for unverified email","status":"passed","title":"should return 403 for unverified email","duration":0.2158999999999196,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests POST /api/auth/login should record successful login attempt","status":"passed","title":"should record successful login attempt","duration":0.12910000000010768,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests POST /api/auth/login should record failed login attempt","status":"passed","title":"should record failed login attempt","duration":0.10720000000014807,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/login"],"fullName":"Auth Routes Integration Tests POST /api/auth/login should return requiresMfa=true for MFA-enabled users","status":"passed","title":"should return requiresMfa=true for MFA-enabled users","duration":0.10560000000009495,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/logout"],"fullName":"Auth Routes Integration Tests POST /api/auth/logout should logout and revoke refresh token","status":"passed","title":"should logout and revoke refresh token","duration":0.13589999999999236,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/logout"],"fullName":"Auth Routes Integration Tests POST /api/auth/logout should return 401 for unauthenticated request","status":"passed","title":"should return 401 for unauthenticated request","duration":0.10159999999996217,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/verify-email"],"fullName":"Auth Routes Integration Tests POST /api/auth/verify-email should verify email with valid token","status":"passed","title":"should verify email with valid token","duration":0.09750000000008185,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/verify-email"],"fullName":"Auth Routes Integration Tests POST /api/auth/verify-email should return 400 for invalid token","status":"passed","title":"should return 400 for invalid token","duration":0.09020000000009532,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/verify-email"],"fullName":"Auth Routes Integration Tests POST /api/auth/verify-email should return 400 for expired token","status":"passed","title":"should return 400 for expired token","duration":0.09000000000014552,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/verify-email"],"fullName":"Auth Routes Integration Tests POST /api/auth/verify-email should delete verification token after successful verification","status":"passed","title":"should delete verification token after successful verification","duration":0.09359999999992397,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/resend-verification"],"fullName":"Auth Routes Integration Tests POST /api/auth/resend-verification should resend verification email","status":"passed","title":"should resend verification email","duration":0.10179999999991196,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/resend-verification"],"fullName":"Auth Routes Integration Tests POST /api/auth/resend-verification should rate limit resend requests","status":"passed","title":"should rate limit resend requests","duration":0.09100000000012187,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/resend-verification"],"fullName":"Auth Routes Integration Tests POST /api/auth/resend-verification should return 404 for non-existent email","status":"passed","title":"should return 404 for non-existent email","duration":0.14000000000010004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/forgot-password"],"fullName":"Auth Routes Integration Tests POST /api/auth/forgot-password should send password reset email","status":"passed","title":"should send password reset email","duration":0.10770000000002256,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/forgot-password"],"fullName":"Auth Routes Integration Tests POST /api/auth/forgot-password should not reveal if email exists (security)","status":"passed","title":"should not reveal if email exists (security)","duration":0.13229999999998654,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/forgot-password"],"fullName":"Auth Routes Integration Tests POST /api/auth/forgot-password should invalidate old password reset tokens","status":"passed","title":"should invalidate old password reset tokens","duration":0.09629999999992833,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/reset-password"],"fullName":"Auth Routes Integration Tests POST /api/auth/reset-password should reset password with valid token","status":"passed","title":"should reset password with valid token","duration":0.1169999999999618,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/reset-password"],"fullName":"Auth Routes Integration Tests POST /api/auth/reset-password should return 400 for invalid token","status":"passed","title":"should return 400 for invalid token","duration":0.09380000000010114,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/reset-password"],"fullName":"Auth Routes Integration Tests POST /api/auth/reset-password should return 400 for weak new password","status":"passed","title":"should return 400 for weak new password","duration":0.08820000000014261,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/reset-password"],"fullName":"Auth Routes Integration Tests POST /api/auth/reset-password should consume reset token after use","status":"passed","title":"should consume reset token after use","duration":0.08539999999993597,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/refresh-token"],"fullName":"Auth Routes Integration Tests POST /api/auth/refresh-token should refresh access token with valid refresh token","status":"passed","title":"should refresh access token with valid refresh token","duration":0.09590000000002874,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/refresh-token"],"fullName":"Auth Routes Integration Tests POST /api/auth/refresh-token should rotate refresh token after use","status":"passed","title":"should rotate refresh token after use","duration":0.17450000000008004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/refresh-token"],"fullName":"Auth Routes Integration Tests POST /api/auth/refresh-token should detect token reuse and revoke all user tokens","status":"passed","title":"should detect token reuse and revoke all user tokens","duration":0.16259999999988395,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","POST /api/auth/refresh-token"],"fullName":"Auth Routes Integration Tests POST /api/auth/refresh-token should return 401 for expired refresh token","status":"passed","title":"should return 401 for expired refresh token","duration":0.11010000000010223,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","Account Lockout"],"fullName":"Auth Routes Integration Tests Account Lockout should lock account after 5 failed login attempts","status":"passed","title":"should lock account after 5 failed login attempts","duration":0.10549999999989268,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","Account Lockout"],"fullName":"Auth Routes Integration Tests Account Lockout should unlock account after 15 minutes","status":"passed","title":"should unlock account after 15 minutes","duration":0.11269999999990432,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","Account Lockout"],"fullName":"Auth Routes Integration Tests Account Lockout should allow admin to unlock account","status":"passed","title":"should allow admin to unlock account","duration":0.14850000000001273,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","Account Lockout"],"fullName":"Auth Routes Integration Tests Account Lockout should reset attempt count after successful login","status":"passed","title":"should reset attempt count after successful login","duration":0.16360000000008768,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","GET /api/auth/me"],"fullName":"Auth Routes Integration Tests GET /api/auth/me should return current user for valid token","status":"passed","title":"should return current user for valid token","duration":0.11969999999996617,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","GET /api/auth/me"],"fullName":"Auth Routes Integration Tests GET /api/auth/me should return 401 for missing token","status":"passed","title":"should return 401 for missing token","duration":0.12820000000010623,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","GET /api/auth/me"],"fullName":"Auth Routes Integration Tests GET /api/auth/me should return 401 for invalid token","status":"passed","title":"should return 401 for invalid token","duration":0.10069999999996071,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Routes Integration Tests","GET /api/auth/me"],"fullName":"Auth Routes Integration Tests GET /api/auth/me should return 401 for expired token","status":"passed","title":"should return 401 for expired token","duration":0.10149999999998727,"failureMessages":[],"meta":{}}],"startTime":1768184470106,"endTime":1768184470114.1636,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth.routes.test.ts"},{"assertionResults":[{"ancestorTitles":["Branding API Routes","GET /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes GET /api/tenants/:tenantId/branding should return null branding for new tenant","status":"passed","title":"should return null branding for new tenant","duration":1.57549999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","GET /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes GET /api/tenants/:tenantId/branding should return existing branding configuration","status":"passed","title":"should return existing branding configuration","duration":0.3167000000000826,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","GET /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes GET /api/tenants/:tenantId/branding should return 404 for non-existent tenant","status":"passed","title":"should return 404 for non-existent tenant","duration":0.22109999999997854,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","GET /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes GET /api/tenants/:tenantId/branding should require authentication","status":"passed","title":"should require authentication","duration":0.1656999999997879,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","PATCH /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes PATCH /api/tenants/:tenantId/branding should update tenant branding with valid data","status":"passed","title":"should update tenant branding with valid data","duration":0.17619999999988067,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","PATCH /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes PATCH /api/tenants/:tenantId/branding should merge partial updates with existing branding","status":"passed","title":"should merge partial updates with existing branding","duration":0.14199999999982538,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","PATCH /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes PATCH /api/tenants/:tenantId/branding should reject invalid color format","status":"passed","title":"should reject invalid color format","duration":0.12099999999986721,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","PATCH /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes PATCH /api/tenants/:tenantId/branding should reject invalid email address","status":"passed","title":"should reject invalid email address","duration":0.1346000000000913,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","PATCH /api/tenants/:tenantId/branding"],"fullName":"Branding API Routes PATCH /api/tenants/:tenantId/branding should require tenant:update permission","status":"passed","title":"should require tenant:update permission","duration":0.21529999999984284,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","GET /api/tenants/:tenantId/domains"],"fullName":"Branding API Routes GET /api/tenants/:tenantId/domains should return empty array for tenant with no domains","status":"passed","title":"should return empty array for tenant with no domains","duration":0.23330000000009932,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","GET /api/tenants/:tenantId/domains"],"fullName":"Branding API Routes GET /api/tenants/:tenantId/domains should return all domains for tenant","status":"passed","title":"should return all domains for tenant","duration":0.17380000000002838,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","GET /api/tenants/:tenantId/domains"],"fullName":"Branding API Routes GET /api/tenants/:tenantId/domains should require authentication","status":"passed","title":"should require authentication","duration":0.14420000000018263,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","POST /api/tenants/:tenantId/domains"],"fullName":"Branding API Routes POST /api/tenants/:tenantId/domains should add a new domain","status":"passed","title":"should add a new domain","duration":0.18810000000007676,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","POST /api/tenants/:tenantId/domains"],"fullName":"Branding API Routes POST /api/tenants/:tenantId/domains should normalize domain to lowercase","status":"passed","title":"should normalize domain to lowercase","duration":0.14030000000002474,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","POST /api/tenants/:tenantId/domains"],"fullName":"Branding API Routes POST /api/tenants/:tenantId/domains should reject duplicate domain","status":"passed","title":"should reject duplicate domain","duration":0.14550000000008367,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","POST /api/tenants/:tenantId/domains"],"fullName":"Branding API Routes POST /api/tenants/:tenantId/domains should reject invalid domain format","status":"passed","title":"should reject invalid domain format","duration":0.14079999999989923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","POST /api/tenants/:tenantId/domains"],"fullName":"Branding API Routes POST /api/tenants/:tenantId/domains should require tenant:update permission","status":"passed","title":"should require tenant:update permission","duration":0.19630000000006476,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","DELETE /api/tenants/:tenantId/domains/:domainId"],"fullName":"Branding API Routes DELETE /api/tenants/:tenantId/domains/:domainId should delete a domain","status":"passed","title":"should delete a domain","duration":0.16820000000006985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","DELETE /api/tenants/:tenantId/domains/:domainId"],"fullName":"Branding API Routes DELETE /api/tenants/:tenantId/domains/:domainId should return 404 for non-existent domain","status":"passed","title":"should return 404 for non-existent domain","duration":0.1347000000000662,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","DELETE /api/tenants/:tenantId/domains/:domainId"],"fullName":"Branding API Routes DELETE /api/tenants/:tenantId/domains/:domainId should return 403 when trying to delete domain from different tenant","status":"passed","title":"should return 403 when trying to delete domain from different tenant","duration":0.13909999999987122,"failureMessages":[],"meta":{}},{"ancestorTitles":["Branding API Routes","DELETE /api/tenants/:tenantId/domains/:domainId"],"fullName":"Branding API Routes DELETE /api/tenants/:tenantId/domains/:domainId should require tenant:update permission","status":"passed","title":"should require tenant:update permission","duration":0.12339999999994689,"failureMessages":[],"meta":{}}],"startTime":1768184484156,"endTime":1768184484162.1392,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/branding.routes.test.ts"},{"assertionResults":[{"ancestorTitles":["Collections System E2E Tests","Collection Lifecycle"],"fullName":"Collections System E2E Tests Collection Lifecycle should create a collection","status":"passed","title":"should create a collection","duration":117.577,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Collection Lifecycle"],"fullName":"Collections System E2E Tests Collection Lifecycle should list collections","status":"passed","title":"should list collections","duration":53.457000000000335,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Collection Lifecycle"],"fullName":"Collections System E2E Tests Collection Lifecycle should get a collection by ID","status":"passed","title":"should get a collection by ID","duration":57.53520000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Collection Lifecycle"],"fullName":"Collections System E2E Tests Collection Lifecycle should update a collection","status":"passed","title":"should update a collection","duration":107.20640000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Field Management"],"fullName":"Collections System E2E Tests Field Management should create text field","status":"passed","title":"should create text field","duration":159.6817000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Field Management"],"fullName":"Collections System E2E Tests Field Management should create email field","status":"passed","title":"should create email field","duration":155.8199999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Field Management"],"fullName":"Collections System E2E Tests Field Management should create number field","status":"passed","title":"should create number field","duration":155.86979999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Field Management"],"fullName":"Collections System E2E Tests Field Management should create select field with options","status":"passed","title":"should create select field with options","duration":155.52800000000025,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Field Management"],"fullName":"Collections System E2E Tests Field Management should create boolean field","status":"passed","title":"should create boolean field","duration":154.6881999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Field Management"],"fullName":"Collections System E2E Tests Field Management should list all fields","status":"passed","title":"should list all fields","duration":54.42880000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Field Management"],"fullName":"Collections System E2E Tests Field Management should update field","status":"passed","title":"should update field","duration":105.48170000000027,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Record CRUD Operations"],"fullName":"Collections System E2E Tests Record CRUD Operations should create a record","status":"passed","title":"should create a record","duration":208.61680000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Record CRUD Operations"],"fullName":"Collections System E2E Tests Record CRUD Operations should create multiple records","status":"passed","title":"should create multiple records","duration":422.12189999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Record CRUD Operations"],"fullName":"Collections System E2E Tests Record CRUD Operations should list records with pagination","status":"passed","title":"should list records with pagination","duration":103.67830000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Record CRUD Operations"],"fullName":"Collections System E2E Tests Record CRUD Operations should get a single record","status":"passed","title":"should get a single record","duration":52.06529999999975,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Record CRUD Operations"],"fullName":"Collections System E2E Tests Record CRUD Operations should update a record","status":"passed","title":"should update a record","duration":168.46770000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Record CRUD Operations"],"fullName":"Collections System E2E Tests Record CRUD Operations should find records by filters","status":"passed","title":"should find records by filters","duration":105.52619999999933,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Record CRUD Operations"],"fullName":"Collections System E2E Tests Record CRUD Operations should delete a record","status":"passed","title":"should delete a record","duration":209.3209999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Collection Stats"],"fullName":"Collections System E2E Tests Collection Stats should list collections with stats","status":"passed","title":"should list collections with stats","duration":168.64900000000034,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Data Validation"],"fullName":"Collections System E2E Tests Data Validation should enforce required fields","status":"passed","title":"should enforce required fields","duration":163.25660000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Data Validation"],"fullName":"Collections System E2E Tests Data Validation should validate field types","status":"passed","title":"should validate field types","duration":207.85869999999977,"failureMessages":[],"meta":{}},{"ancestorTitles":["Collections System E2E Tests","Cleanup"],"fullName":"Collections System E2E Tests Cleanup should delete collection (cascade fields and records)","status":"passed","title":"should delete collection (cascade fields and records)","duration":274.4797000000008,"failureMessages":[],"meta":{}}],"startTime":1768184398207,"endTime":1768184401569.4797,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/collections.e2e.test.ts"},{"assertionResults":[{"ancestorTitles":["Data Block Integration Tests"],"fullName":"Data Block Integration Tests should write data to DataVault via WriteBlock","status":"passed","title":"should write data to DataVault via WriteBlock","duration":2586.4394999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Block Integration Tests"],"fullName":"Data Block Integration Tests should query data from DataVault via QueryBlock and use in Logic","status":"passed","title":"should query data from DataVault via QueryBlock and use in Logic","duration":1959.217599999999,"failureMessages":[],"meta":{}}],"startTime":1768184375568,"endTime":1768184380113.2175,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/dataBlocks.test.ts"},{"assertionResults":[{"ancestorTitles":["DataVault v4 Regression Tests","Select/Multiselect Columns"],"fullName":"DataVault v4 Regression Tests Select/Multiselect Columns should create a select column with options","status":"passed","title":"should create a select column with options","duration":492.4441000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Select/Multiselect Columns"],"fullName":"DataVault v4 Regression Tests Select/Multiselect Columns should create a multiselect column with options","status":"passed","title":"should create a multiselect column with options","duration":486.9888000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Select/Multiselect Columns"],"fullName":"DataVault v4 Regression Tests Select/Multiselect Columns should validate select value against options","status":"passed","title":"should validate select value against options","duration":1246.8427000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Select/Multiselect Columns"],"fullName":"DataVault v4 Regression Tests Select/Multiselect Columns should validate multiselect values as array","status":"passed","title":"should validate multiselect values as array","duration":913.110200000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Autonumber Columns"],"fullName":"DataVault v4 Regression Tests Autonumber Columns should create an autonumber column with sequence","status":"passed","title":"should create an autonumber column with sequence","duration":480.58389999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Autonumber Columns"],"fullName":"DataVault v4 Regression Tests Autonumber Columns should format autonumber with prefix","status":"passed","title":"should format autonumber with prefix","duration":956.0721999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Row Notes"],"fullName":"DataVault v4 Regression Tests Row Notes should create a note for a row","status":"passed","title":"should create a note for a row","duration":432.0658000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Row Notes"],"fullName":"DataVault v4 Regression Tests Row Notes should get all notes for a row","status":"passed","title":"should get all notes for a row","duration":783.7903000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Row Notes"],"fullName":"DataVault v4 Regression Tests Row Notes should delete a note","status":"passed","title":"should delete a note","duration":754.8575000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Row Notes"],"fullName":"DataVault v4 Regression Tests Row Notes should not allow deleting notes by other users","status":"passed","title":"should not allow deleting notes by other users","duration":658.4429,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","API Tokens"],"fullName":"DataVault v4 Regression Tests API Tokens should create an API token","status":"passed","title":"should create an API token","duration":389.7300000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","API Tokens"],"fullName":"DataVault v4 Regression Tests API Tokens should validate API token scopes","status":"passed","title":"should validate API token scopes","duration":251.6327999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","API Tokens"],"fullName":"DataVault v4 Regression Tests API Tokens should revoke (delete) an API token","status":"passed","title":"should revoke (delete) an API token","duration":612.6667999999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","API Tokens"],"fullName":"DataVault v4 Regression Tests API Tokens should deny access with expired token","status":"passed","title":"should deny access with expired token","duration":228.0713999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Table Permissions"],"fullName":"DataVault v4 Regression Tests Table Permissions should grant table permission","status":"passed","title":"should grant table permission","duration":378.39400000000023,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Table Permissions"],"fullName":"DataVault v4 Regression Tests Table Permissions should list table permissions","status":"passed","title":"should list table permissions","duration":323.39899999999943,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Table Permissions"],"fullName":"DataVault v4 Regression Tests Table Permissions should update table permission role","status":"passed","title":"should update table permission role","duration":555.4837999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Table Permissions"],"fullName":"DataVault v4 Regression Tests Table Permissions should revoke table permission","status":"passed","title":"should revoke table permission","duration":670.0937000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Table Permissions"],"fullName":"DataVault v4 Regression Tests Table Permissions should enforce RBAC - only owners can manage permissions","status":"passed","title":"should enforce RBAC - only owners can manage permissions","duration":314.6428999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Grid Performance"],"fullName":"DataVault v4 Regression Tests Grid Performance should paginate rows efficiently","status":"passed","title":"should paginate rows efficiently","duration":1247.1516999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Error Handling"],"fullName":"DataVault v4 Regression Tests Error Handling should return user-friendly error for invalid column type","status":"passed","title":"should return user-friendly error for invalid column type","duration":276.86819999999716,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Error Handling"],"fullName":"DataVault v4 Regression Tests Error Handling should return user-friendly error for missing required fields","status":"passed","title":"should return user-friendly error for missing required fields","duration":734.9615000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault v4 Regression Tests","Error Handling"],"fullName":"DataVault v4 Regression Tests Error Handling should handle network errors gracefully","status":"passed","title":"should handle network errors gracefully","duration":218.85039999999935,"failureMessages":[],"meta":{}}],"startTime":1768184258134,"endTime":1768184271542.8503,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/datavault-v4-regression.test.ts"},{"assertionResults":[{"ancestorTitles":["DataVault API Tokens","POST /api/datavault/databases/:databaseId/tokens"],"fullName":"DataVault API Tokens POST /api/datavault/databases/:databaseId/tokens should create a new token and return plain token once","status":"passed","title":"should create a new token and return plain token once","duration":1.2078000000001339,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","POST /api/datavault/databases/:databaseId/tokens"],"fullName":"DataVault API Tokens POST /api/datavault/databases/:databaseId/tokens should create a token with expiration date","status":"passed","title":"should create a token with expiration date","duration":0.20240000000012515,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","POST /api/datavault/databases/:databaseId/tokens"],"fullName":"DataVault API Tokens POST /api/datavault/databases/:databaseId/tokens should reject token creation with invalid scopes","status":"passed","title":"should reject token creation with invalid scopes","duration":0.21499999999969077,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","POST /api/datavault/databases/:databaseId/tokens"],"fullName":"DataVault API Tokens POST /api/datavault/databases/:databaseId/tokens should reject token creation with empty label","status":"passed","title":"should reject token creation with empty label","duration":0.15380000000004657,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","POST /api/datavault/databases/:databaseId/tokens"],"fullName":"DataVault API Tokens POST /api/datavault/databases/:databaseId/tokens should reject token creation with past expiration date","status":"passed","title":"should reject token creation with past expiration date","duration":0.19270000000005894,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","GET /api/datavault/databases/:databaseId/tokens"],"fullName":"DataVault API Tokens GET /api/datavault/databases/:databaseId/tokens should list all tokens for a database without exposing hashes","status":"passed","title":"should list all tokens for a database without exposing hashes","duration":0.13380000000006476,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","GET /api/datavault/databases/:databaseId/tokens"],"fullName":"DataVault API Tokens GET /api/datavault/databases/:databaseId/tokens should return empty array for database with no tokens","status":"passed","title":"should return empty array for database with no tokens","duration":0.09970000000021173,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","DELETE /api/datavault/tokens/:tokenId"],"fullName":"DataVault API Tokens DELETE /api/datavault/tokens/:tokenId should revoke a token","status":"passed","title":"should revoke a token","duration":0.1069999999999709,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","DELETE /api/datavault/tokens/:tokenId"],"fullName":"DataVault API Tokens DELETE /api/datavault/tokens/:tokenId should reject revoking token without database ID","status":"passed","title":"should reject revoking token without database ID","duration":0.1366000000002714,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","DELETE /api/datavault/tokens/:tokenId"],"fullName":"DataVault API Tokens DELETE /api/datavault/tokens/:tokenId should prevent cross-tenant token access","status":"passed","title":"should prevent cross-tenant token access","duration":0.14400000000023283,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","Token Authentication"],"fullName":"DataVault API Tokens Token Authentication should authenticate valid token","status":"passed","title":"should authenticate valid token","duration":0.14329999999972642,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","Token Authentication"],"fullName":"DataVault API Tokens Token Authentication should reject expired token","status":"passed","title":"should reject expired token","duration":0.11950000000024374,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","Token Authentication"],"fullName":"DataVault API Tokens Token Authentication should reject invalid token","status":"passed","title":"should reject invalid token","duration":0.0864000000001397,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","Scope Authorization"],"fullName":"DataVault API Tokens Scope Authorization should allow read access with read scope","status":"passed","title":"should allow read access with read scope","duration":0.08650000000034197,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","Scope Authorization"],"fullName":"DataVault API Tokens Scope Authorization should deny write access with read-only scope","status":"passed","title":"should deny write access with read-only scope","duration":0.11110000000007858,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Tokens","Scope Authorization"],"fullName":"DataVault API Tokens Scope Authorization should allow write access with write scope","status":"passed","title":"should allow write access with write scope","duration":0.11650000000008731,"failureMessages":[],"meta":{}}],"startTime":1768184492052,"endTime":1768184492056.1194,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/datavault.api-tokens.test.ts"},{"assertionResults":[{"ancestorTitles":["DataVault Autonumber Integration Tests"],"fullName":"DataVault Autonumber Integration Tests should generate basic autonumber without prefix","status":"passed","title":"should generate basic autonumber without prefix","duration":1150.3683999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Autonumber Integration Tests"],"fullName":"DataVault Autonumber Integration Tests should generate autonumber with prefix","status":"passed","title":"should generate autonumber with prefix","duration":1147.1894999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Autonumber Integration Tests"],"fullName":"DataVault Autonumber Integration Tests should generate autonumber with yearly reset format","status":"passed","title":"should generate autonumber with yearly reset format","duration":1146.7263000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Autonumber Integration Tests"],"fullName":"DataVault Autonumber Integration Tests should be atomic and prevent race conditions","status":"passed","title":"should be atomic and prevent race conditions","duration":807.0404999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Autonumber Integration Tests"],"fullName":"DataVault Autonumber Integration Tests should prevent manual updates to autonumber values","status":"passed","title":"should prevent manual updates to autonumber values","duration":1503.2779999999984,"failureMessages":[],"meta":{}}],"startTime":1768184307367,"endTime":1768184313121.278,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/datavault.autonumber.test.ts"},{"assertionResults":[{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","GET /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) GET /api/datavault/tables/:tableId should allow owner to read table","status":"passed","title":"should allow owner to read table","duration":119.54179999999906,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","GET /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) GET /api/datavault/tables/:tableId should allow writer to read table","status":"passed","title":"should allow writer to read table","duration":173.57210000000123,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","GET /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) GET /api/datavault/tables/:tableId should allow reader to read table","status":"passed","title":"should allow reader to read table","duration":154.9216000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","GET /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) GET /api/datavault/tables/:tableId should deny non-member from reading table","status":"passed","title":"should deny non-member from reading table","duration":103.40240000000085,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","PATCH /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) PATCH /api/datavault/tables/:tableId should allow owner to update table","status":"passed","title":"should allow owner to update table","duration":159.1908999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","PATCH /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) PATCH /api/datavault/tables/:tableId should deny writer from updating table","status":"passed","title":"should deny writer from updating table","duration":104.14890000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","PATCH /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) PATCH /api/datavault/tables/:tableId should deny reader from updating table","status":"passed","title":"should deny reader from updating table","duration":107.62910000000011,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","DELETE /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) DELETE /api/datavault/tables/:tableId should deny writer from deleting table","status":"passed","title":"should deny writer from deleting table","duration":112.24289999999928,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","DELETE /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) DELETE /api/datavault/tables/:tableId should deny reader from deleting table","status":"passed","title":"should deny reader from deleting table","duration":101.93609999999899,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","DELETE /api/datavault/tables/:tableId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) DELETE /api/datavault/tables/:tableId should deny non-member from deleting table","status":"passed","title":"should deny non-member from deleting table","duration":108.30420000000049,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","GET /api/datavault/tables/:tableId/permissions"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) GET /api/datavault/tables/:tableId/permissions should allow owner to view permissions","status":"passed","title":"should allow owner to view permissions","duration":113.64580000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","GET /api/datavault/tables/:tableId/permissions"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) GET /api/datavault/tables/:tableId/permissions should deny writer from viewing permissions","status":"passed","title":"should deny writer from viewing permissions","duration":102.49549999999908,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","GET /api/datavault/tables/:tableId/permissions"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) GET /api/datavault/tables/:tableId/permissions should deny reader from viewing permissions","status":"passed","title":"should deny reader from viewing permissions","duration":107.61069999999927,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","POST /api/datavault/tables/:tableId/permissions"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) POST /api/datavault/tables/:tableId/permissions should allow owner to grant permissions","status":"passed","title":"should allow owner to grant permissions","duration":224.6273999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","POST /api/datavault/tables/:tableId/permissions"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) POST /api/datavault/tables/:tableId/permissions should allow owner to update existing permission (upsert)","status":"passed","title":"should allow owner to update existing permission (upsert)","duration":315.59549999999945,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","POST /api/datavault/tables/:tableId/permissions"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) POST /api/datavault/tables/:tableId/permissions should deny writer from granting permissions","status":"passed","title":"should deny writer from granting permissions","duration":108.07710000000043,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","POST /api/datavault/tables/:tableId/permissions"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) POST /api/datavault/tables/:tableId/permissions should prevent modifying table owner permissions","status":"passed","title":"should prevent modifying table owner permissions","duration":106.65489999999954,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","DELETE /api/datavault/permissions/:permissionId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) DELETE /api/datavault/permissions/:permissionId should allow owner to revoke permissions","status":"passed","title":"should allow owner to revoke permissions","duration":317.59890000000087,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","DELETE /api/datavault/permissions/:permissionId"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) DELETE /api/datavault/permissions/:permissionId should deny writer from revoking permissions","status":"passed","title":"should deny writer from revoking permissions","duration":154.29169999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","Permission hierarchy"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) Permission hierarchy should enforce owner includes write and read","status":"passed","title":"should enforce owner includes write and read","duration":267.7506999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","Permission hierarchy"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) Permission hierarchy should enforce write includes read but not owner","status":"passed","title":"should enforce write includes read but not owner","duration":271.3597000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Table Permissions API (v4 Micro-Phase 6)","Permission hierarchy"],"fullName":"DataVault Table Permissions API (v4 Micro-Phase 6) Permission hierarchy should enforce read is read-only","status":"passed","title":"should enforce read is read-only","duration":267.83939999999893,"failureMessages":[],"meta":{}}],"startTime":1768184324055,"endTime":1768184327658.8394,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/datavault.permissions.test.ts"},{"assertionResults":[{"ancestorTitles":["DataVault API Routes","Tables API","GET /api/datavault/tables"],"fullName":"DataVault API Routes Tables API GET /api/datavault/tables should list all tables for tenant","status":"passed","title":"should list all tables for tenant","duration":1.3553000000001703,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Tables API","GET /api/datavault/tables"],"fullName":"DataVault API Routes Tables API GET /api/datavault/tables should list tables with stats when requested","status":"passed","title":"should list tables with stats when requested","duration":0.25620000000026266,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Tables API","POST /api/datavault/tables"],"fullName":"DataVault API Routes Tables API POST /api/datavault/tables should create a new table","status":"passed","title":"should create a new table","duration":0.16720000000032087,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Tables API","POST /api/datavault/tables"],"fullName":"DataVault API Routes Tables API POST /api/datavault/tables should validate required fields","status":"passed","title":"should validate required fields","duration":0.15160000000014406,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Tables API","GET /api/datavault/tables/:tableId"],"fullName":"DataVault API Routes Tables API GET /api/datavault/tables/:tableId should get a table by ID","status":"passed","title":"should get a table by ID","duration":0.15979999999990468,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Tables API","GET /api/datavault/tables/:tableId"],"fullName":"DataVault API Routes Tables API GET /api/datavault/tables/:tableId should return 404 for non-existent table","status":"passed","title":"should return 404 for non-existent table","duration":0.10909999999967113,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Tables API","PATCH /api/datavault/tables/:tableId"],"fullName":"DataVault API Routes Tables API PATCH /api/datavault/tables/:tableId should update a table","status":"passed","title":"should update a table","duration":0.10379999999986467,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Tables API","DELETE /api/datavault/tables/:tableId"],"fullName":"DataVault API Routes Tables API DELETE /api/datavault/tables/:tableId should delete a table","status":"passed","title":"should delete a table","duration":0.11880000000019209,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Columns API","GET /api/datavault/tables/:tableId/columns"],"fullName":"DataVault API Routes Columns API GET /api/datavault/tables/:tableId/columns should list all columns for a table","status":"passed","title":"should list all columns for a table","duration":0.13320000000021537,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Columns API","POST /api/datavault/tables/:tableId/columns"],"fullName":"DataVault API Routes Columns API POST /api/datavault/tables/:tableId/columns should create a new column","status":"passed","title":"should create a new column","duration":0.14420000000018263,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Columns API","POST /api/datavault/tables/:tableId/columns"],"fullName":"DataVault API Routes Columns API POST /api/datavault/tables/:tableId/columns should validate column type enum","status":"passed","title":"should validate column type enum","duration":0.09679999999980282,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Columns API","PATCH /api/datavault/columns/:columnId"],"fullName":"DataVault API Routes Columns API PATCH /api/datavault/columns/:columnId should update a column","status":"passed","title":"should update a column","duration":0.09970000000021173,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Columns API","PATCH /api/datavault/columns/:columnId"],"fullName":"DataVault API Routes Columns API PATCH /api/datavault/columns/:columnId should reject type changes","status":"passed","title":"should reject type changes","duration":0.09239999999999782,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Columns API","DELETE /api/datavault/columns/:columnId"],"fullName":"DataVault API Routes Columns API DELETE /api/datavault/columns/:columnId should delete a column","status":"passed","title":"should delete a column","duration":0.08800000000019281,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Columns API","POST /api/datavault/tables/:tableId/columns/reorder"],"fullName":"DataVault API Routes Columns API POST /api/datavault/tables/:tableId/columns/reorder should reorder columns","status":"passed","title":"should reorder columns","duration":0.07990000000017972,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Rows API","GET /api/datavault/tables/:tableId/rows"],"fullName":"DataVault API Routes Rows API GET /api/datavault/tables/:tableId/rows should list all rows for a table","status":"passed","title":"should list all rows for a table","duration":0.07510000000002037,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Rows API","GET /api/datavault/tables/:tableId/rows"],"fullName":"DataVault API Routes Rows API GET /api/datavault/tables/:tableId/rows should support pagination","status":"passed","title":"should support pagination","duration":0.07009999999991123,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Rows API","POST /api/datavault/tables/:tableId/rows"],"fullName":"DataVault API Routes Rows API POST /api/datavault/tables/:tableId/rows should create a new row","status":"passed","title":"should create a new row","duration":0.0702000000001135,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Rows API","POST /api/datavault/tables/:tableId/rows"],"fullName":"DataVault API Routes Rows API POST /api/datavault/tables/:tableId/rows should validate required fields","status":"passed","title":"should validate required fields","duration":0.06919999999990978,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Rows API","GET /api/datavault/rows/:rowId"],"fullName":"DataVault API Routes Rows API GET /api/datavault/rows/:rowId should get a row by ID","status":"passed","title":"should get a row by ID","duration":0.07330000000001746,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Rows API","PATCH /api/datavault/rows/:rowId"],"fullName":"DataVault API Routes Rows API PATCH /api/datavault/rows/:rowId should update a row","status":"passed","title":"should update a row","duration":0.07200000000011642,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Rows API","DELETE /api/datavault/rows/:rowId"],"fullName":"DataVault API Routes Rows API DELETE /api/datavault/rows/:rowId should delete a row","status":"passed","title":"should delete a row","duration":0.11220000000002983,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Error Handling"],"fullName":"DataVault API Routes Error Handling should handle tenant isolation","status":"passed","title":"should handle tenant isolation","duration":0.09320000000025175,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Error Handling"],"fullName":"DataVault API Routes Error Handling should handle malformed UUIDs","status":"passed","title":"should handle malformed UUIDs","duration":0.12010000000009313,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Error Handling"],"fullName":"DataVault API Routes Error Handling should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":0.11439999999993233,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Type Validation"],"fullName":"DataVault API Routes Type Validation should validate email type values","status":"passed","title":"should validate email type values","duration":0.1754000000000815,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Type Validation"],"fullName":"DataVault API Routes Type Validation should validate phone type values","status":"passed","title":"should validate phone type values","duration":0.10410000000001673,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Type Validation"],"fullName":"DataVault API Routes Type Validation should coerce number type values","status":"passed","title":"should coerce number type values","duration":0.09600000000000364,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault API Routes","Type Validation"],"fullName":"DataVault API Routes Type Validation should coerce boolean type values","status":"passed","title":"should coerce boolean type values","duration":0.09349999999994907,"failureMessages":[],"meta":{}}],"startTime":1768184489959,"endTime":1768184489964.1753,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/datavault.routes.test.ts"},{"assertionResults":[{"ancestorTitles":["DataVault Row Notes API","POST /api/datavault/rows/:rowId/notes"],"fullName":"DataVault Row Notes API POST /api/datavault/rows/:rowId/notes should create a new note","status":"passed","title":"should create a new note","duration":1.2177000000001499,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","POST /api/datavault/rows/:rowId/notes"],"fullName":"DataVault Row Notes API POST /api/datavault/rows/:rowId/notes should sanitize HTML from note text","status":"passed","title":"should sanitize HTML from note text","duration":0.2484999999996944,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","POST /api/datavault/rows/:rowId/notes"],"fullName":"DataVault Row Notes API POST /api/datavault/rows/:rowId/notes should reject empty note text","status":"passed","title":"should reject empty note text","duration":0.208299999999781,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","POST /api/datavault/rows/:rowId/notes"],"fullName":"DataVault Row Notes API POST /api/datavault/rows/:rowId/notes should reject note for row from different tenant","status":"passed","title":"should reject note for row from different tenant","duration":0.15889999999990323,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","GET /api/datavault/rows/:rowId/notes"],"fullName":"DataVault Row Notes API GET /api/datavault/rows/:rowId/notes should fetch notes for a row ordered by newest first","status":"passed","title":"should fetch notes for a row ordered by newest first","duration":0.14679999999998472,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","GET /api/datavault/rows/:rowId/notes"],"fullName":"DataVault Row Notes API GET /api/datavault/rows/:rowId/notes should return empty array for row with no notes","status":"passed","title":"should return empty array for row with no notes","duration":0.13059999999995853,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","GET /api/datavault/rows/:rowId/notes"],"fullName":"DataVault Row Notes API GET /api/datavault/rows/:rowId/notes should reject access to notes for row from different tenant","status":"passed","title":"should reject access to notes for row from different tenant","duration":0.10550000000012005,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","DELETE /api/datavault/notes/:noteId"],"fullName":"DataVault Row Notes API DELETE /api/datavault/notes/:noteId should allow note owner to delete their note","status":"passed","title":"should allow note owner to delete their note","duration":0.10309999999981301,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","DELETE /api/datavault/notes/:noteId"],"fullName":"DataVault Row Notes API DELETE /api/datavault/notes/:noteId should allow table owner to delete any note","status":"passed","title":"should allow table owner to delete any note","duration":0.15020000000004075,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","DELETE /api/datavault/notes/:noteId"],"fullName":"DataVault Row Notes API DELETE /api/datavault/notes/:noteId should prevent non-owner from deleting note","status":"passed","title":"should prevent non-owner from deleting note","duration":0.1471999999998843,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","DELETE /api/datavault/notes/:noteId"],"fullName":"DataVault Row Notes API DELETE /api/datavault/notes/:noteId should return 404 for non-existent note","status":"passed","title":"should return 404 for non-existent note","duration":0.09709999999995489,"failureMessages":[],"meta":{}},{"ancestorTitles":["DataVault Row Notes API","Cross-tenant isolation"],"fullName":"DataVault Row Notes API Cross-tenant isolation should prevent accessing notes from different tenant","status":"passed","title":"should prevent accessing notes from different tenant","duration":0.08939999999984138,"failureMessages":[],"meta":{}}],"startTime":1768184487108,"endTime":1768184487111.1501,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/datavault.row-notes.test.ts"},{"assertionResults":[{"ancestorTitles":["Dynamic Options Integration Flow"],"fullName":"Dynamic Options Integration Flow should successfully configure a workflow with Read Table -> Dynamic Choice","status":"passed","title":"should successfully configure a workflow with Read Table -> Dynamic Choice","duration":655.152,"failureMessages":[],"meta":{}}],"startTime":1768184458423,"endTime":1768184459078.152,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/dynamic_options_workflow.test.ts"},{"assertionResults":[{"ancestorTitles":["External Send Block Integration"],"fullName":"External Send Block Integration PREVIEW MODE: Should simulate send and NOT call fetch","status":"passed","title":"PREVIEW MODE: Should simulate send and NOT call fetch","duration":1443.7745999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["External Send Block Integration"],"fullName":"External Send Block Integration LIVE MODE: Should call fetch with mapped payload","status":"passed","title":"LIVE MODE: Should call fetch with mapped payload","duration":1279.9261999999999,"failureMessages":[],"meta":{}}],"startTime":1768184423338,"endTime":1768184426061.9263,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/externalSends.test.ts"},{"assertionResults":[{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","URL-based Prefill"],"fullName":"Stage 12.5 - Intake Portal Extras URL-based Prefill should prefill allowed fields from URL parameters","status":"passed","title":"should prefill allowed fields from URL parameters","duration":1.7871999999999844,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","URL-based Prefill"],"fullName":"Stage 12.5 - Intake Portal Extras URL-based Prefill should ignore disallowed prefill keys","status":"passed","title":"should ignore disallowed prefill keys","duration":0.3080999999999676,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","URL-based Prefill"],"fullName":"Stage 12.5 - Intake Portal Extras URL-based Prefill should not prefill when allowPrefill is false","status":"passed","title":"should not prefill when allowPrefill is false","duration":0.2118000000000393,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","URL-based Prefill"],"fullName":"Stage 12.5 - Intake Portal Extras URL-based Prefill should not prefill file upload or sensitive fields","status":"passed","title":"should not prefill file upload or sensitive fields","duration":0.23080000000004475,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","CAPTCHA Challenge Generation"],"fullName":"Stage 12.5 - Intake Portal Extras CAPTCHA Challenge Generation should generate CAPTCHA challenge","status":"passed","title":"should generate CAPTCHA challenge","duration":0.4151000000001659,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","CAPTCHA Validation on Submit"],"fullName":"Stage 12.5 - Intake Portal Extras CAPTCHA Validation on Submit should require CAPTCHA when workflow config requires it","status":"passed","title":"should require CAPTCHA when workflow config requires it","duration":0.22250000000008185,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","CAPTCHA Validation on Submit"],"fullName":"Stage 12.5 - Intake Portal Extras CAPTCHA Validation on Submit should validate correct CAPTCHA and allow submission","status":"passed","title":"should validate correct CAPTCHA and allow submission","duration":0.17499999999995453,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","CAPTCHA Validation on Submit"],"fullName":"Stage 12.5 - Intake Portal Extras CAPTCHA Validation on Submit should reject incorrect CAPTCHA answer","status":"passed","title":"should reject incorrect CAPTCHA answer","duration":0.16669999999999163,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","CAPTCHA Validation on Submit"],"fullName":"Stage 12.5 - Intake Portal Extras CAPTCHA Validation on Submit should not require CAPTCHA when workflow config disables it","status":"passed","title":"should not require CAPTCHA when workflow config disables it","duration":0.20820000000003347,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","Email Receipt"],"fullName":"Stage 12.5 - Intake Portal Extras Email Receipt should send email receipt when configured","status":"passed","title":"should send email receipt when configured","duration":0.2744999999999891,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","Email Receipt"],"fullName":"Stage 12.5 - Intake Portal Extras Email Receipt should not send email when sendEmailReceipt is false","status":"passed","title":"should not send email when sendEmailReceipt is false","duration":0.1876999999999498,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","Email Receipt"],"fullName":"Stage 12.5 - Intake Portal Extras Email Receipt should skip email when receiptEmailVar is not found","status":"passed","title":"should skip email when receiptEmailVar is not found","duration":0.1392000000000735,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","Email Receipt"],"fullName":"Stage 12.5 - Intake Portal Extras Email Receipt should exclude sensitive fields from email summary","status":"passed","title":"should exclude sensitive fields from email summary","duration":0.19479999999998654,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","IntakeConfig Management API"],"fullName":"Stage 12.5 - Intake Portal Extras IntakeConfig Management API should allow owner to update intakeConfig","status":"passed","title":"should allow owner to update intakeConfig","duration":0.13049999999998363,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","IntakeConfig Management API"],"fullName":"Stage 12.5 - Intake Portal Extras IntakeConfig Management API should allow builder to update intakeConfig","status":"passed","title":"should allow builder to update intakeConfig","duration":0.11340000000018335,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","IntakeConfig Management API"],"fullName":"Stage 12.5 - Intake Portal Extras IntakeConfig Management API should reject viewer from updating intakeConfig","status":"passed","title":"should reject viewer from updating intakeConfig","duration":0.10940000000005057,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","IntakeConfig Management API"],"fullName":"Stage 12.5 - Intake Portal Extras IntakeConfig Management API should validate intakeConfig schema","status":"passed","title":"should validate intakeConfig schema","duration":0.14170000000012806,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stage 12.5 - Intake Portal Extras","GET /intake/workflows/:slug/published"],"fullName":"Stage 12.5 - Intake Portal Extras GET /intake/workflows/:slug/published should include intakeConfig in response","status":"passed","title":"should include intakeConfig in response","duration":0.1670000000001437,"failureMessages":[],"meta":{}}],"startTime":1768184465295,"endTime":1768184465301.167,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/intake.portal.test.ts"},{"assertionResults":[{"ancestorTitles":["Intake Workflow Integration Tests"],"fullName":"Intake Workflow Integration Tests should allow designating a workflow as Intake","status":"passed","title":"should allow designating a workflow as Intake","duration":1054.514000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Intake Workflow Integration Tests"],"fullName":"Intake Workflow Integration Tests should allow linking a downstream workflow to an intake workflow","status":"passed","title":"should allow linking a downstream workflow to an intake workflow","duration":1418.7896999999994,"failureMessages":[],"meta":{}}],"startTime":1768184409318,"endTime":1768184411790.7898,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/intake.workflow.test.ts"},{"assertionResults":[{"ancestorTitles":["Detailed Verification: JS Helper Availability"],"fullName":"Detailed Verification: JS Helper Availability should execute a JS block that uses helper functions","status":"failed","title":"should execute a JS block that uses helper functions","duration":120.04609999999957,"failureMessages":["AssertionError: expected 401 to be 201 // Object.is equality\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/js_helpers.test.ts:136:31\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1768183845607,"endTime":1768183845727.0461,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/js_helpers.test.ts"},{"assertionResults":[{"ancestorTitles":["Metrics Integration"],"fullName":"Metrics Integration should expose /metrics endpoint","status":"failed","title":"should expose /metrics endpoint","duration":107.94520000000011,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/metrics.test.ts:33:33\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Metrics Integration"],"fullName":"Metrics Integration should protect /metrics if API key is set","status":"passed","title":"should protect /metrics if API key is set","duration":73.49260000000004,"failureMessages":[],"meta":{}}],"startTime":1768183833346,"endTime":1768183833527.4927,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/metrics.test.ts"},{"assertionResults":[{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Setup Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Setup Flow should complete full MFA setup flow","status":"passed","title":"should complete full MFA setup flow","duration":2268.1949,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Setup Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Setup Flow should reject invalid TOTP code during setup","status":"passed","title":"should reject invalid TOTP code during setup","duration":1938.8979999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Setup Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Setup Flow should not allow MFA setup if already enabled","status":"passed","title":"should not allow MFA setup if already enabled","duration":1624.7518,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Setup Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Setup Flow should generate unique backup codes","status":"passed","title":"should generate unique backup codes","duration":1768.5097000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Setup Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Setup Flow should store hashed backup codes","status":"passed","title":"should store hashed backup codes","duration":1802.3149000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Login Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Login Flow should require MFA for enabled users","status":"passed","title":"should require MFA for enabled users","duration":1606.5560999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Login Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Login Flow should complete MFA login with valid TOTP","status":"passed","title":"should complete MFA login with valid TOTP","duration":1781.3490000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Login Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Login Flow should reject invalid TOTP during login","status":"passed","title":"should reject invalid TOTP during login","duration":1734.9663000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Login Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Login Flow should accept TOTP codes within 60-second window","status":"passed","title":"should accept TOTP codes within 60-second window","duration":2419.75,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","Backup Code Flow"],"fullName":"MFA Flow Integration Tests (REAL) Backup Code Flow should login with valid backup code","status":"passed","title":"should login with valid backup code","duration":2879.1853999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","Backup Code Flow"],"fullName":"MFA Flow Integration Tests (REAL) Backup Code Flow should mark backup code as used","status":"passed","title":"should mark backup code as used","duration":1190.7854999999981,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","Backup Code Flow"],"fullName":"MFA Flow Integration Tests (REAL) Backup Code Flow should prevent backup code reuse","status":"passed","title":"should prevent backup code reuse","duration":3974.1507999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","Backup Code Flow"],"fullName":"MFA Flow Integration Tests (REAL) Backup Code Flow should try TOTP before backup code","status":"passed","title":"should try TOTP before backup code","duration":1777.906500000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Status"],"fullName":"MFA Flow Integration Tests (REAL) MFA Status should return MFA status for user","status":"passed","title":"should return MFA status for user","duration":1399.9964,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Status"],"fullName":"MFA Flow Integration Tests (REAL) MFA Status should return backup codes count for MFA users","status":"passed","title":"should return backup codes count for MFA users","duration":1972.7968000000037,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Disable Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Disable Flow should disable MFA with password verification","status":"passed","title":"should disable MFA with password verification","duration":2972.1021000000037,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","MFA Disable Flow"],"fullName":"MFA Flow Integration Tests (REAL) MFA Disable Flow should require correct password to disable MFA","status":"passed","title":"should require correct password to disable MFA","duration":2199.3197,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","Backup Code Regeneration"],"fullName":"MFA Flow Integration Tests (REAL) Backup Code Regeneration should regenerate backup codes","status":"passed","title":"should regenerate backup codes","duration":2195.818100000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","Backup Code Regeneration"],"fullName":"MFA Flow Integration Tests (REAL) Backup Code Regeneration should return error if MFA not enabled","status":"passed","title":"should return error if MFA not enabled","duration":1386.7082999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests (REAL)","Tenant-Level MFA Enforcement"],"fullName":"MFA Flow Integration Tests (REAL) Tenant-Level MFA Enforcement should enforce MFA for tenant users when required by tenant","status":"passed","title":"should enforce MFA for tenant users when required by tenant","duration":1442.3843999999954,"failureMessages":[],"meta":{}}],"startTime":1768183951480,"endTime":1768183991818.3845,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/mfa.flow.real.test.ts"},{"assertionResults":[{"ancestorTitles":["MFA Flow Integration Tests","MFA Setup Flow"],"fullName":"MFA Flow Integration Tests MFA Setup Flow should complete full MFA setup flow","status":"passed","title":"should complete full MFA setup flow","duration":1.5955999999998767,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","MFA Setup Flow"],"fullName":"MFA Flow Integration Tests MFA Setup Flow should reject invalid TOTP code during setup","status":"passed","title":"should reject invalid TOTP code during setup","duration":0.29270000000019536,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","MFA Setup Flow"],"fullName":"MFA Flow Integration Tests MFA Setup Flow should not enable MFA until TOTP is verified","status":"passed","title":"should not enable MFA until TOTP is verified","duration":0.20010000000002037,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","MFA Login Flow"],"fullName":"MFA Flow Integration Tests MFA Login Flow should complete full MFA login flow","status":"passed","title":"should complete full MFA login flow","duration":0.2965999999998985,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","MFA Login Flow"],"fullName":"MFA Flow Integration Tests MFA Login Flow should accept backup code for MFA login","status":"passed","title":"should accept backup code for MFA login","duration":0.23340000000007421,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","MFA Login Flow"],"fullName":"MFA Flow Integration Tests MFA Login Flow should not allow reuse of backup code","status":"passed","title":"should not allow reuse of backup code","duration":0.1692000000000462,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","MFA Login Flow"],"fullName":"MFA Flow Integration Tests MFA Login Flow should reject invalid MFA code","status":"passed","title":"should reject invalid MFA code","duration":0.23540000000002692,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","MFA Login Flow"],"fullName":"MFA Flow Integration Tests MFA Login Flow should accept TOTP code within 60-second window","status":"passed","title":"should accept TOTP code within 60-second window","duration":0.211100000000215,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","Backup Code Management"],"fullName":"MFA Flow Integration Tests Backup Code Management should regenerate backup codes","status":"passed","title":"should regenerate backup codes","duration":0.9277000000001863,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","Backup Code Management"],"fullName":"MFA Flow Integration Tests Backup Code Management should show remaining backup codes count","status":"passed","title":"should show remaining backup codes count","duration":0.25279999999997926,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","Disable MFA"],"fullName":"MFA Flow Integration Tests Disable MFA should disable MFA with password confirmation","status":"passed","title":"should disable MFA with password confirmation","duration":0.13540000000011787,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","Disable MFA"],"fullName":"MFA Flow Integration Tests Disable MFA should require password to disable MFA","status":"passed","title":"should require password to disable MFA","duration":0.13740000000007058,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","Disable MFA"],"fullName":"MFA Flow Integration Tests Disable MFA should delete backup codes when disabling MFA","status":"passed","title":"should delete backup codes when disabling MFA","duration":0.13750000000004547,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","Admin MFA Reset"],"fullName":"MFA Flow Integration Tests Admin MFA Reset should allow admin to reset user MFA","status":"passed","title":"should allow admin to reset user MFA","duration":0.1455999999998312,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","Admin MFA Reset"],"fullName":"MFA Flow Integration Tests Admin MFA Reset should require admin role for MFA reset","status":"passed","title":"should require admin role for MFA reset","duration":0.10029999999983374,"failureMessages":[],"meta":{}},{"ancestorTitles":["MFA Flow Integration Tests","Tenant-Level MFA Enforcement"],"fullName":"MFA Flow Integration Tests Tenant-Level MFA Enforcement should enforce MFA for all tenant users when required","status":"passed","title":"should enforce MFA for all tenant users when required","duration":0.11670000000003711,"failureMessages":[],"meta":{}}],"startTime":1768184468446,"endTime":1768184468452.1167,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/mfa.flow.test.ts"},{"assertionResults":[{"ancestorTitles":["Organization Invites","createInvite"],"fullName":"Organization Invites createInvite should create placeholder user for non-existent email","status":"passed","title":"should create placeholder user for non-existent email","duration":1551.7616999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","createInvite"],"fullName":"Organization Invites createInvite should create invite for existing user without creating placeholder","status":"passed","title":"should create invite for existing user without creating placeholder","duration":1353.058,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","createInvite"],"fullName":"Organization Invites createInvite should prevent duplicate pending invites","status":"passed","title":"should prevent duplicate pending invites","duration":1607.8006999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","createInvite"],"fullName":"Organization Invites createInvite should prevent inviting existing members","status":"passed","title":"should prevent inviting existing members","duration":1128.9062000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","createInvite"],"fullName":"Organization Invites createInvite should require admin access to create invite","status":"passed","title":"should require admin access to create invite","duration":782.4744000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","createInvite"],"fullName":"Organization Invites createInvite should set expiry to 7 days from now","status":"passed","title":"should set expiry to 7 days from now","duration":1416.6300999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","acceptInvite"],"fullName":"Organization Invites acceptInvite should accept invite and create membership","status":"passed","title":"should accept invite and create membership","duration":1920.5962,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","acceptInvite"],"fullName":"Organization Invites acceptInvite should convert placeholder user to real user on accept","status":"passed","title":"should convert placeholder user to real user on accept","duration":1994.3773,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","acceptInvite"],"fullName":"Organization Invites acceptInvite should reject expired invite","status":"passed","title":"should reject expired invite","duration":1668.1535000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","acceptInvite"],"fullName":"Organization Invites acceptInvite should reject already accepted invite","status":"passed","title":"should reject already accepted invite","duration":1947.0105000000021,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","acceptInvite"],"fullName":"Organization Invites acceptInvite should verify email matches invite","status":"passed","title":"should verify email matches invite","duration":1539.9748,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","acceptInvite"],"fullName":"Organization Invites acceptInvite should reject invalid token","status":"passed","title":"should reject invalid token","duration":937.7659000000021,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","getPendingInvitesForUser"],"fullName":"Organization Invites getPendingInvitesForUser should return pending invites for user email","status":"passed","title":"should return pending invites for user email","duration":1547.0240000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","getPendingInvitesForUser"],"fullName":"Organization Invites getPendingInvitesForUser should not return expired invites","status":"passed","title":"should not return expired invites","duration":1639.6061999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","getPendingInvitesForUser"],"fullName":"Organization Invites getPendingInvitesForUser should not return accepted invites","status":"passed","title":"should not return accepted invites","duration":2005.5501999999979,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","revokeInvite"],"fullName":"Organization Invites revokeInvite should allow admin to revoke invite","status":"passed","title":"should allow admin to revoke invite","duration":1937.1986999999972,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Invites","revokeInvite"],"fullName":"Organization Invites revokeInvite should prevent accepting revoked invite","status":"passed","title":"should prevent accepting revoked invite","duration":2082.7551999999996,"failureMessages":[],"meta":{}}],"startTime":1768184136577,"endTime":1768184163638.7551,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/organizationInvites.test.ts"},{"assertionResults":[{"ancestorTitles":["Organization Audit Fixes","FIX #1: Project transfer cascades runs ownership"],"fullName":"Organization Audit Fixes FIX #1: Project transfer cascades runs ownership should cascade ownership to workflow runs when project is transferred","status":"passed","title":"should cascade ownership to workflow runs when project is transferred","duration":1036.3215999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Audit Fixes","FIX #2: Invite acceptance race condition"],"fullName":"Organization Audit Fixes FIX #2: Invite acceptance race condition should prevent double-acceptance via transaction","status":"passed","title":"should prevent double-acceptance via transaction","duration":1182.5104999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Audit Fixes","FIX #3: Invite email failure rollback"],"fullName":"Organization Audit Fixes FIX #3: Invite email failure rollback should not create invite if email fails","status":"passed","title":"should not create invite if email fails","duration":702.0270999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Audit Fixes","FIX #5: Expired invites"],"fullName":"Organization Audit Fixes FIX #5: Expired invites should allow re-invite after invite expires","status":"passed","title":"should allow re-invite after invite expires","duration":1432.4249999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Audit Fixes","FIX #7: Delete organization"],"fullName":"Organization Audit Fixes FIX #7: Delete organization should allow last admin to delete empty organization","status":"passed","title":"should allow last admin to delete empty organization","duration":729.3692000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Audit Fixes","FIX #7: Delete organization"],"fullName":"Organization Audit Fixes FIX #7: Delete organization should prevent deletion if org owns assets","status":"passed","title":"should prevent deletion if org owns assets","duration":1012.1662999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Audit Fixes","FIX #8: Placeholder user cleanup"],"fullName":"Organization Audit Fixes FIX #8: Placeholder user cleanup should cleanup placeholder user when invite is revoked","status":"passed","title":"should cleanup placeholder user when invite is revoked","duration":1486.8727,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Audit Fixes","FIX #9: Transfer validation order"],"fullName":"Organization Audit Fixes FIX #9: Transfer validation order should fail fast on non-existent org","status":"passed","title":"should fail fast on non-existent org","duration":470.58879999999954,"failureMessages":[],"meta":{}}],"startTime":1768184330300,"endTime":1768184338353.5889,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/organizations-audit-fixes.test.ts"},{"assertionResults":[{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 1: Create organization","status":"passed","title":"Step 1: Create organization","duration":507.9285,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 2: Invite member via email","status":"passed","title":"Step 2: Invite member via email","duration":637.9022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 3: Accept invite","status":"passed","title":"Step 3: Accept invite","duration":566.8001000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 4: Create workflow owned by user","status":"passed","title":"Step 4: Create workflow owned by user","duration":305.29179999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 5: Transfer workflow to organization","status":"passed","title":"Step 5: Transfer workflow to organization","duration":309.34720000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 6: Org member (user2) can access workflow","status":"passed","title":"Step 6: Org member (user2) can access workflow","duration":430.1331999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 7: Org member (user2) can update workflow","status":"passed","title":"Step 7: Org member (user2) can update workflow","duration":163.60760000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 8: Org admin (user1) can still access workflow after transfer","status":"passed","title":"Step 8: Org admin (user1) can still access workflow after transfer","duration":261.46339999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 9: Non-member (user3) CANNOT access org workflow","status":"passed","title":"Step 9: Non-member (user3) CANNOT access org workflow","duration":265.14620000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 10: Non-member (user3) CANNOT update org workflow","status":"passed","title":"Step 10: Non-member (user3) CANNOT update org workflow","duration":254.28600000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 11: Non-member (user3) CANNOT transfer org workflow","status":"passed","title":"Step 11: Non-member (user3) CANNOT transfer org workflow","duration":272.9397999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 12: Org member can see workflow in list","status":"passed","title":"Step 12: Org member can see workflow in list","duration":107.42200000000048,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 13: Non-member CANNOT see workflow in list","status":"passed","title":"Step 13: Non-member CANNOT see workflow in list","duration":109.36350000000039,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 14: Remove member from org","status":"passed","title":"Step 14: Remove member from org","duration":320.27880000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 15: Removed member (user2) can no longer access workflow","status":"passed","title":"Step 15: Removed member (user2) can no longer access workflow","duration":260.0518999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Complete Organization Workflow"],"fullName":"Organization Workflow Integration Tests Complete Organization Workflow Step 16: Re-add member and verify access restored","status":"passed","title":"Step 16: Re-add member and verify access restored","duration":416.77670000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Edge Cases and Security"],"fullName":"Organization Workflow Integration Tests Edge Cases and Security Cannot invite same email twice (pending invite exists)","status":"passed","title":"Cannot invite same email twice (pending invite exists)","duration":931.7294000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Edge Cases and Security"],"fullName":"Organization Workflow Integration Tests Edge Cases and Security Cannot accept expired invite","status":"passed","title":"Cannot accept expired invite","duration":809.5137999999988,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Edge Cases and Security"],"fullName":"Organization Workflow Integration Tests Edge Cases and Security Cannot transfer workflow to org user is not a member of","status":"passed","title":"Cannot transfer workflow to org user is not a member of","duration":634.0322999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Edge Cases and Security"],"fullName":"Organization Workflow Integration Tests Edge Cases and Security Member cannot promote themselves to admin","status":"passed","title":"Member cannot promote themselves to admin","duration":53.387399999999616,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Edge Cases and Security"],"fullName":"Organization Workflow Integration Tests Edge Cases and Security Member cannot remove admin","status":"passed","title":"Member cannot remove admin","duration":54.12250000000131,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Edge Cases and Security"],"fullName":"Organization Workflow Integration Tests Edge Cases and Security Only members can view organization details","status":"passed","title":"Only members can view organization details","duration":105.40269999999873,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Workflow Integration Tests","Edge Cases and Security"],"fullName":"Organization Workflow Integration Tests Edge Cases and Security Only members can view organization members list","status":"passed","title":"Only members can view organization members list","duration":51.13230000000112,"failureMessages":[],"meta":{}}],"startTime":1768184340952,"endTime":1768184348782.1323,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/organizations-workflow.test.ts"},{"assertionResults":[{"ancestorTitles":["OrganizationService Integration","createOrganization"],"fullName":"OrganizationService Integration createOrganization should create organization and auto-create admin membership","status":"passed","title":"should create organization and auto-create admin membership","duration":857.5407,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","getUserOrganizations"],"fullName":"OrganizationService Integration getUserOrganizations should return all organizations for user","status":"passed","title":"should return all organizations for user","duration":752.7332999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","getUserOrganizations"],"fullName":"OrganizationService Integration getUserOrganizations should return empty array for user with no memberships","status":"passed","title":"should return empty array for user with no memberships","duration":383.1473000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","updateOrganization"],"fullName":"OrganizationService Integration updateOrganization should allow admin to update organization","status":"passed","title":"should allow admin to update organization","duration":752.5392000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","updateOrganization"],"fullName":"OrganizationService Integration updateOrganization should deny non-admin from updating organization","status":"passed","title":"should deny non-admin from updating organization","duration":734.3240999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","getOrganizationMembers"],"fullName":"OrganizationService Integration getOrganizationMembers should return all members of organization","status":"passed","title":"should return all members of organization","duration":912.9220999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","promoteMember"],"fullName":"OrganizationService Integration promoteMember should allow admin to promote member","status":"passed","title":"should allow admin to promote member","duration":1171.7610999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","demoteMember"],"fullName":"OrganizationService Integration demoteMember should allow admin to demote other admin","status":"passed","title":"should allow admin to demote other admin","duration":1163.9865,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","demoteMember"],"fullName":"OrganizationService Integration demoteMember should prevent self-demotion","status":"passed","title":"should prevent self-demotion","duration":747.0637999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","removeMember"],"fullName":"OrganizationService Integration removeMember should allow admin to remove member","status":"passed","title":"should allow admin to remove member","duration":1181.4526000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","removeMember"],"fullName":"OrganizationService Integration removeMember should prevent self-removal","status":"passed","title":"should prevent self-removal","duration":750.627199999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","leaveOrganization"],"fullName":"OrganizationService Integration leaveOrganization should allow member to leave organization","status":"passed","title":"should allow member to leave organization","duration":1045.7124999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["OrganizationService Integration","leaveOrganization"],"fullName":"OrganizationService Integration leaveOrganization should allow admin to leave organization","status":"passed","title":"should allow admin to leave organization","duration":1127.341199999999,"failureMessages":[],"meta":{}}],"startTime":1768184288102,"endTime":1768184299685.3413,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/organizationService.test.ts"},{"assertionResults":[{"ancestorTitles":["Ownership Access Control","canAccessAsset"],"fullName":"Ownership Access Control canAccessAsset should allow access to user-owned asset by owner","status":"passed","title":"should allow access to user-owned asset by owner","duration":163.49239999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canAccessAsset"],"fullName":"Ownership Access Control canAccessAsset should deny access to user-owned asset by non-owner","status":"passed","title":"should deny access to user-owned asset by non-owner","duration":158.61019999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canAccessAsset"],"fullName":"Ownership Access Control canAccessAsset should allow access to org-owned asset by org member","status":"passed","title":"should allow access to org-owned asset by org member","duration":262.0799999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canAccessAsset"],"fullName":"Ownership Access Control canAccessAsset should deny access to org-owned asset by non-member","status":"passed","title":"should deny access to org-owned asset by non-member","duration":210.22800000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canAccessAsset"],"fullName":"Ownership Access Control canAccessAsset should allow access to null ownership (legacy data)","status":"passed","title":"should allow access to null ownership (legacy data)","duration":160.8445999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","isOrgMember"],"fullName":"Ownership Access Control isOrgMember should return true for org member","status":"passed","title":"should return true for org member","duration":262.28510000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","isOrgMember"],"fullName":"Ownership Access Control isOrgMember should return false for non-member","status":"passed","title":"should return false for non-member","duration":212.70180000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","isOrgMember"],"fullName":"Ownership Access Control isOrgMember should return true for org admin","status":"passed","title":"should return true for org admin","duration":255.00509999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canManageOrg"],"fullName":"Ownership Access Control canManageOrg should return true for org admin","status":"passed","title":"should return true for org admin","duration":281.73770000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canManageOrg"],"fullName":"Ownership Access Control canManageOrg should return false for org member (non-admin)","status":"passed","title":"should return false for org member (non-admin)","duration":272.5677999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canManageOrg"],"fullName":"Ownership Access Control canManageOrg should return false for non-member","status":"passed","title":"should return false for non-member","duration":210.96720000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","getUserOrgIds"],"fullName":"Ownership Access Control getUserOrgIds should return all org IDs for a user","status":"passed","title":"should return all org IDs for a user","duration":261.50160000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","getUserOrgIds"],"fullName":"Ownership Access Control getUserOrgIds should return empty array for user with no memberships","status":"passed","title":"should return empty array for user with no memberships","duration":212.8744999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canCreateWithOwnership"],"fullName":"Ownership Access Control canCreateWithOwnership should allow creating user-owned asset if ownerUuid matches userId","status":"passed","title":"should allow creating user-owned asset if ownerUuid matches userId","duration":154.90380000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canCreateWithOwnership"],"fullName":"Ownership Access Control canCreateWithOwnership should deny creating user-owned asset if ownerUuid does not match userId","status":"passed","title":"should deny creating user-owned asset if ownerUuid does not match userId","duration":151.60199999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canCreateWithOwnership"],"fullName":"Ownership Access Control canCreateWithOwnership should allow creating org-owned asset if user is member","status":"passed","title":"should allow creating org-owned asset if user is member","duration":267.3139000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","canCreateWithOwnership"],"fullName":"Ownership Access Control canCreateWithOwnership should deny creating org-owned asset if user is not member","status":"passed","title":"should deny creating org-owned asset if user is not member","duration":214.78020000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","Cross-org Access Control"],"fullName":"Ownership Access Control Cross-org Access Control should not allow member of org1 to access org2-owned assets","status":"passed","title":"should not allow member of org1 to access org2-owned assets","duration":271.08399999999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ownership Access Control","Cross-org Access Control"],"fullName":"Ownership Access Control Cross-org Access Control should allow member of multiple orgs to access all their org assets","status":"passed","title":"should allow member of multiple orgs to access all their org assets","duration":318.65049999999974,"failureMessages":[],"meta":{}}],"startTime":1768184381809,"endTime":1768184386113.6504,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/ownershipAccess.test.ts"},{"assertionResults":[{"ancestorTitles":["REG-1: Workflow Logic Regression","1. Required + Show/Hide (Questions)"],"fullName":"REG-1: Workflow Logic Regression 1. Required + Show/Hide (Questions) should block Next when required visible question is empty","status":"passed","title":"should block Next when required visible question is empty","duration":315.0352999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["REG-1: Workflow Logic Regression","1. Required + Show/Hide (Questions)"],"fullName":"REG-1: Workflow Logic Regression 1. Required + Show/Hide (Questions) should NOT block Next when required question is hidden","status":"passed","title":"should NOT block Next when required question is hidden","duration":365.54399999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["REG-1: Workflow Logic Regression","1. Required + Show/Hide (Questions)"],"fullName":"REG-1: Workflow Logic Regression 1. Required + Show/Hide (Questions) should block when required becomes visible and is empty","status":"passed","title":"should block when required becomes visible and is empty","duration":310.08500000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["REG-1: Workflow Logic Regression","2. Required + Show/Hide (Pages)"],"fullName":"REG-1: Workflow Logic Regression 2. Required + Show/Hide (Pages) should skip hidden required page entirely","status":"passed","title":"should skip hidden required page entirely","duration":407.21860000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["REG-1: Workflow Logic Regression","2. Required + Show/Hide (Pages)"],"fullName":"REG-1: Workflow Logic Regression 2. Required + Show/Hide (Pages) should enforce required on visible page","status":"passed","title":"should enforce required on visible page","duration":410.53920000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["REG-1: Workflow Logic Regression","3. Preview/Snapshot/Live Parity"],"fullName":"REG-1: Workflow Logic Regression 3. Preview/Snapshot/Live Parity should evaluate visibility consistently across modes","status":"failed","title":"should evaluate visibility consistently across modes","duration":7.487300000000232,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/regression-REG-1.test.ts:441:63\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["REG-1: Workflow Logic Regression","6. Failure Modes (No Silent Errors)"],"fullName":"REG-1: Workflow Logic Regression 6. Failure Modes (No Silent Errors) should handle malformed visibility expression gracefully","status":"failed","title":"should handle malformed visibility expression gracefully","duration":2.6456999999995787,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/regression-REG-1.test.ts:461:28\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:12)"],"meta":{}},{"ancestorTitles":["REG-1: Workflow Logic Regression","6. Failure Modes (No Silent Errors)"],"fullName":"REG-1: Workflow Logic Regression 6. Failure Modes (No Silent Errors) should handle missing variable in visibility expression","status":"passed","title":"should handle missing variable in visibility expression","duration":0.40059999999994034,"failureMessages":[],"meta":{}}],"startTime":1768183822745,"endTime":1768183824565.4006,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/regression-REG-1.test.ts"},{"assertionResults":[{"ancestorTitles":["Session Management Integration Tests (REAL)","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests (REAL) GET /api/auth/sessions should list all active sessions for current user","status":"failed","title":"should list all active sessions for current user","duration":2595.1767,"failureMessages":["AssertionError: expected undefined to be defined\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/session.management.real.test.ts:68:30\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests (REAL) GET /api/auth/sessions should mark current session correctly","status":"passed","title":"should mark current session correctly","duration":1972.3147,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests (REAL) GET /api/auth/sessions should exclude revoked sessions","status":"passed","title":"should exclude revoked sessions","duration":2140.520700000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests (REAL) GET /api/auth/sessions should order sessions by last used (most recent first)","status":"passed","title":"should order sessions by last used (most recent first)","duration":2665.0151000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests (REAL) GET /api/auth/sessions should filter sessions by current user only","status":"passed","title":"should filter sessions by current user only","duration":2838.0625999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests (REAL) GET /api/auth/sessions should return 401 for unauthenticated request","status":"passed","title":"should return 401 for unauthenticated request","duration":391.60709999999926,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/:sessionId"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/:sessionId should revoke specific session","status":"passed","title":"should revoke specific session","duration":2216.743000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/:sessionId"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/:sessionId should prevent revoking current session","status":"failed","title":"should prevent revoking current session","duration":1570.4614000000001,"failureMessages":["AssertionError: expected 200 to be 400 // Object.is equality\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/session.management.real.test.ts:266:37\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/:sessionId"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/:sessionId should return 404 for non-existent session","status":"passed","title":"should return 404 for non-existent session","duration":1362.1201,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/:sessionId"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/:sessionId should prevent revoking other user's session","status":"passed","title":"should prevent revoking other user's session","duration":2444.920299999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/all should revoke all other sessions","status":"passed","title":"should revoke all other sessions","duration":3279.1705999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/all should keep current session active","status":"passed","title":"should keep current session active","duration":2338.893399999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/all should return 400 if no active session found","status":"passed","title":"should return 400 if no active session found","duration":1315.0721000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/all should revoke all trusted devices","status":"passed","title":"should revoke all trusted devices","duration":1724.9588000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests (REAL) DELETE /api/auth/sessions/all should handle user with single session gracefully","status":"passed","title":"should handle user with single session gracefully","duration":1610.6705000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","Session Security"],"fullName":"Session Management Integration Tests (REAL) Session Security should include device metadata in sessions","status":"passed","title":"should include device metadata in sessions","duration":1425.2672999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","Session Security"],"fullName":"Session Management Integration Tests (REAL) Session Security should not expose sensitive token data","status":"passed","title":"should not expose sensitive token data","duration":1413.9775000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests (REAL)","Session Security"],"fullName":"Session Management Integration Tests (REAL) Session Security should track session activity timestamps","status":"passed","title":"should track session activity timestamps","duration":1409.0996000000014,"failureMessages":[],"meta":{}}],"startTime":1768183770094,"endTime":1768183804810.0996,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/session.management.real.test.ts"},{"assertionResults":[{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should list all active sessions for user","status":"passed","title":"should list all active sessions for user","duration":1.3916000000001532,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should mark current session as current","status":"passed","title":"should mark current session as current","duration":0.25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should only show sessions for authenticated user","status":"passed","title":"should only show sessions for authenticated user","duration":0.1732999999999265,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should not include revoked sessions","status":"passed","title":"should not include revoked sessions","duration":0.17950000000018917,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should order sessions by last used (most recent first)","status":"passed","title":"should order sessions by last used (most recent first)","duration":0.17029999999999745,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/:id"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/:id should revoke specific session","status":"passed","title":"should revoke specific session","duration":0.17589999999995598,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/:id"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/:id should not allow revoking other users sessions","status":"passed","title":"should not allow revoking other users sessions","duration":0.13859999999999673,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/:id"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/:id should allow revoking current session (logout)","status":"passed","title":"should allow revoking current session (logout)","duration":0.17809999999985848,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/:id"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/:id should return 404 for non-existent session ID","status":"passed","title":"should return 404 for non-existent session ID","duration":0.22329999999988104,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/all should revoke all sessions except current","status":"passed","title":"should revoke all sessions except current","duration":0.2874000000001615,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/all should return count of revoked sessions","status":"passed","title":"should return count of revoked sessions","duration":0.16300000000001091,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","POST /api/auth/trust-device"],"fullName":"Session Management Integration Tests Device Trust POST /api/auth/trust-device should trust current device for 30 days","status":"passed","title":"should trust current device for 30 days","duration":0.14449999999987995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","POST /api/auth/trust-device"],"fullName":"Session Management Integration Tests Device Trust POST /api/auth/trust-device should skip MFA on trusted device","status":"passed","title":"should skip MFA on trusted device","duration":0.13949999999999818,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","POST /api/auth/trust-device"],"fullName":"Session Management Integration Tests Device Trust POST /api/auth/trust-device should require MFA on untrusted device","status":"passed","title":"should require MFA on untrusted device","duration":0.2379000000000815,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","POST /api/auth/trust-device"],"fullName":"Session Management Integration Tests Device Trust POST /api/auth/trust-device should fingerprint device by User-Agent + IP","status":"passed","title":"should fingerprint device by User-Agent + IP","duration":0.18980000000010477,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","GET /api/auth/trusted-devices"],"fullName":"Session Management Integration Tests Device Trust GET /api/auth/trusted-devices should list all trusted devices","status":"passed","title":"should list all trusted devices","duration":0.1328000000000884,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","GET /api/auth/trusted-devices"],"fullName":"Session Management Integration Tests Device Trust GET /api/auth/trusted-devices should not include revoked trusted devices","status":"passed","title":"should not include revoked trusted devices","duration":2.416099999999915,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","GET /api/auth/trusted-devices"],"fullName":"Session Management Integration Tests Device Trust GET /api/auth/trusted-devices should not include expired trusted devices","status":"passed","title":"should not include expired trusted devices","duration":0.2175999999999476,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","DELETE /api/auth/trusted-devices/:id"],"fullName":"Session Management Integration Tests Device Trust DELETE /api/auth/trusted-devices/:id should revoke trusted device","status":"passed","title":"should revoke trusted device","duration":0.15899999999987813,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","DELETE /api/auth/trusted-devices/:id"],"fullName":"Session Management Integration Tests Device Trust DELETE /api/auth/trusted-devices/:id should not allow revoking other users trusted devices","status":"passed","title":"should not allow revoking other users trusted devices","duration":0.19329999999990832,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","Device Trust + MFA Integration"],"fullName":"Session Management Integration Tests Device Trust Device Trust + MFA Integration should complete full flow: MFA setup -> device trust -> login from trusted device","status":"passed","title":"should complete full flow: MFA setup -> device trust -> login from trusted device","duration":0.17660000000000764,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Device Trust","Device Trust + MFA Integration"],"fullName":"Session Management Integration Tests Device Trust Device Trust + MFA Integration should update lastUsedAt when using trusted device","status":"passed","title":"should update lastUsedAt when using trusted device","duration":0.22100000000000364,"failureMessages":[],"meta":{}}],"startTime":1768184471876,"endTime":1768184471884.221,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/session.management.test.ts"},{"assertionResults":[{"ancestorTitles":["Transfer Ownership","Project Transfer"],"fullName":"Transfer Ownership Project Transfer should transfer user-owned project to org","status":"passed","title":"should transfer user-owned project to org","duration":1705.7114000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Project Transfer"],"fullName":"Transfer Ownership Project Transfer should prevent transfer to org if user is not a member","status":"passed","title":"should prevent transfer to org if user is not a member","duration":1392.2068,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Project Transfer"],"fullName":"Transfer Ownership Project Transfer should allow org member to transfer org-owned project to another org they belong to","status":"passed","title":"should allow org member to transfer org-owned project to another org they belong to","duration":1778.1109000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Workflow Transfer"],"fullName":"Transfer Ownership Workflow Transfer should detach workflow from project when transferring to different owner","status":"passed","title":"should detach workflow from project when transferring to different owner","duration":1461.7177999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Workflow Transfer"],"fullName":"Transfer Ownership Workflow Transfer should keep workflow in project when transferring to same owner","status":"passed","title":"should keep workflow in project when transferring to same owner","duration":1477.5284000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Workflow Transfer"],"fullName":"Transfer Ownership Workflow Transfer should prevent non-member from transferring org workflow","status":"passed","title":"should prevent non-member from transferring org workflow","duration":1396.4837000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Database Transfer"],"fullName":"Transfer Ownership Database Transfer should transfer database ownership","status":"passed","title":"should transfer database ownership","duration":1067.3477000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Database Transfer"],"fullName":"Transfer Ownership Database Transfer should allow org member to transfer org database","status":"passed","title":"should allow org member to transfer org database","duration":1175.4300999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Database Transfer"],"fullName":"Transfer Ownership Database Transfer should prevent transfer to org if user is not a member","status":"passed","title":"should prevent transfer to org if user is not a member","duration":1431.5550000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Transfer Validation"],"fullName":"Transfer Ownership Transfer Validation should only allow transfer to self when targetOwnerType is user","status":"passed","title":"should only allow transfer to self when targetOwnerType is user","duration":986.3883000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transfer Ownership","Transfer Validation"],"fullName":"Transfer Ownership Transfer Validation should allow transfer from user to self (org member transferring org asset to themselves)","status":"passed","title":"should allow transfer from user to self (org member transferring org asset to themselves)","duration":1264.8791999999994,"failureMessages":[],"meta":{}}],"startTime":1768184236416,"endTime":1768184251554.8792,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/transferOwnership.test.ts"},{"assertionResults":[{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","POST /api/auth/trust-device"],"fullName":"Trusted Devices Integration Tests (REAL) POST /api/auth/trust-device should trust current device","status":"passed","title":"should trust current device","duration":1974.0238999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","POST /api/auth/trust-device"],"fullName":"Trusted Devices Integration Tests (REAL) POST /api/auth/trust-device should set trust expiry to 30 days","status":"passed","title":"should set trust expiry to 30 days","duration":1890.4728999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","POST /api/auth/trust-device"],"fullName":"Trusted Devices Integration Tests (REAL) POST /api/auth/trust-device should update expiry if device already trusted","status":"passed","title":"should update expiry if device already trusted","duration":2194.2792999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","POST /api/auth/trust-device"],"fullName":"Trusted Devices Integration Tests (REAL) POST /api/auth/trust-device should require authentication","status":"passed","title":"should require authentication","duration":386.21030000000064,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","GET /api/auth/trusted-devices"],"fullName":"Trusted Devices Integration Tests (REAL) GET /api/auth/trusted-devices should list all trusted devices","status":"passed","title":"should list all trusted devices","duration":3417.7438,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","GET /api/auth/trusted-devices"],"fullName":"Trusted Devices Integration Tests (REAL) GET /api/auth/trusted-devices should mark current device","status":"passed","title":"should mark current device","duration":2014.0149000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","GET /api/auth/trusted-devices"],"fullName":"Trusted Devices Integration Tests (REAL) GET /api/auth/trusted-devices should exclude revoked devices","status":"passed","title":"should exclude revoked devices","duration":2068.3275000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","GET /api/auth/trusted-devices"],"fullName":"Trusted Devices Integration Tests (REAL) GET /api/auth/trusted-devices should exclude expired devices","status":"passed","title":"should exclude expired devices","duration":2044.0928999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","DELETE /api/auth/trusted-devices/:deviceId"],"fullName":"Trusted Devices Integration Tests (REAL) DELETE /api/auth/trusted-devices/:deviceId should revoke specific device","status":"passed","title":"should revoke specific device","duration":2321.2635999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","DELETE /api/auth/trusted-devices/:deviceId"],"fullName":"Trusted Devices Integration Tests (REAL) DELETE /api/auth/trusted-devices/:deviceId should return 404 for non-existent device","status":"passed","title":"should return 404 for non-existent device","duration":1776.6646,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","DELETE /api/auth/trusted-devices/:deviceId"],"fullName":"Trusted Devices Integration Tests (REAL) DELETE /api/auth/trusted-devices/:deviceId should prevent revoking other user's device","status":"passed","title":"should prevent revoking other user's device","duration":3408.991000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","Device Trust with MFA Login"],"fullName":"Trusted Devices Integration Tests (REAL) Device Trust with MFA Login should skip MFA for trusted device","status":"passed","title":"should skip MFA for trusted device","duration":2497.2343,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","Device Trust with MFA Login"],"fullName":"Trusted Devices Integration Tests (REAL) Device Trust with MFA Login should require MFA for untrusted device","status":"passed","title":"should require MFA for untrusted device","duration":2359.722800000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Trusted Devices Integration Tests (REAL)","Device Trust with MFA Login"],"fullName":"Trusted Devices Integration Tests (REAL) Device Trust with MFA Login should update lastUsedAt on trusted device login","status":"passed","title":"should update lastUsedAt on trusted device login","duration":2671.843499999999,"failureMessages":[],"meta":{}}],"startTime":1768184073563,"endTime":1768184104587.8435,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/trusted.devices.real.test.ts"},{"assertionResults":[{"ancestorTitles":["Variable Schema Safety & Resolution"],"fullName":"Variable Schema Safety & Resolution REPRO: ScriptEngine fails to resolve alias 'input_variable' when aliasMap is NOT provided","status":"passed","title":"REPRO: ScriptEngine fails to resolve alias 'input_variable' when aliasMap is NOT provided","duration":665.8670999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Variable Schema Safety & Resolution"],"fullName":"Variable Schema Safety & Resolution ScriptEngine resolves alias 'input_variable' when aliasMap is provided","status":"passed","title":"ScriptEngine resolves alias 'input_variable' when aliasMap is provided","duration":668.0924,"failureMessages":[],"meta":{}},{"ancestorTitles":["Variable Schema Safety & Resolution"],"fullName":"Variable Schema Safety & Resolution REPRO: BlockRunner fails to resolve alias in CreateRecordConfig","status":"passed","title":"REPRO: BlockRunner fails to resolve alias in CreateRecordConfig","duration":666.6977000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Variable Schema Safety & Resolution"],"fullName":"Variable Schema Safety & Resolution BlockRunner logic resolves alias with aliasMap","status":"passed","title":"BlockRunner logic resolves alias with aliasMap","duration":647.0329000000002,"failureMessages":[],"meta":{}}],"startTime":1768184433127,"endTime":1768184435775.033,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/variableSafety.test.ts"},{"assertionResults":[{"ancestorTitles":["Workflow Versioning & Lineage"],"fullName":"Workflow Versioning & Lineage should diff two versions correctly","status":"passed","title":"should diff two versions correctly","duration":1.8427000000001499,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Versioning & Lineage"],"fullName":"Workflow Versioning & Lineage should create a version and populate changelog","status":"passed","title":"should create a version and populate changelog","duration":429.55669999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Versioning & Lineage"],"fullName":"Workflow Versioning & Lineage should track execution lineage via snapshot","status":"passed","title":"should track execution lineage via snapshot","duration":215.0550000000003,"failureMessages":[],"meta":{}}],"startTime":1768184461204,"endTime":1768184461850.055,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/workflow_versioning.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/workflows/:workflowId/ai/edit - Integration Test"],"fullName":"POST /api/workflows/:workflowId/ai/edit - Integration Test should create draft version on successful AI edit","status":"failed","title":"should create draft version on successful AI edit","duration":83.64390000000026,"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts:140:8\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["POST /api/workflows/:workflowId/ai/edit - Integration Test"],"fullName":"POST /api/workflows/:workflowId/ai/edit - Integration Test should enforce draft mode (revert active workflow to draft)","status":"failed","title":"should enforce draft mode (revert active workflow to draft)","duration":108.19219999999996,"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts:180:8\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["POST /api/workflows/:workflowId/ai/edit - Integration Test"],"fullName":"POST /api/workflows/:workflowId/ai/edit - Integration Test should not create version when no changes detected (checksum match)","status":"failed","title":"should not create version when no changes detected (checksum match)","duration":56.13279999999986,"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts:197:8\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["POST /api/workflows/:workflowId/ai/edit - Integration Test"],"fullName":"POST /api/workflows/:workflowId/ai/edit - Integration Test should reject unauthorized access","status":"failed","title":"should reject unauthorized access","duration":58.681800000000294,"failureMessages":["Error: expected 401 \"Unauthorized\", got 404 \"Not Found\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts:245:8\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["POST /api/workflows/:workflowId/ai/edit - Integration Test"],"fullName":"POST /api/workflows/:workflowId/ai/edit - Integration Test should reject unsafe DataVault operations","status":"failed","title":"should reject unsafe DataVault operations","duration":54.42169999999987,"failureMessages":["Error: expected 400 \"Bad Request\", got 404 \"Not Found\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts:277:8\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["POST /api/workflows/:workflowId/ai/edit - Integration Test"],"fullName":"POST /api/workflows/:workflowId/ai/edit - Integration Test should handle multi-operation edits with tempId resolution","status":"failed","title":"should handle multi-operation edits with tempId resolution","duration":60.91750000000002,"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts:345:8\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["POST /api/workflows/:workflowId/ai/edit - Integration Test"],"fullName":"POST /api/workflows/:workflowId/ai/edit - Integration Test should create BEFORE and AFTER snapshots","status":"failed","title":"should create BEFORE and AFTER snapshots","duration":53.57529999999997,"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts:376:8\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/scoot/poll/VaultLogic/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["POST /api/workflows/:workflowId/ai/edit - Integration Test"],"fullName":"POST /api/workflows/:workflowId/ai/edit - Integration Test should rollback on validation failure","status":"failed","title":"should rollback on validation failure","duration":163.74739999999974,"failureMessages":["Error: expected 400 \"Bad Request\", got 404 \"Not Found\"\n    at C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts:443:8\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/scoot/poll/VaultLogic/node_modules/@vitest/runner/dist/index.js:915:20\n----\n    at Test._assertStatus (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\scoot\\poll\\VaultLogic\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}}],"startTime":1768183826665,"endTime":1768183827304.7473,"status":"failed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/ai/workflowEdit.test.ts"},{"assertionResults":[{"ancestorTitles":["Auth Middleware Integration Tests","requireAuth Middleware"],"fullName":"Auth Middleware Integration Tests requireAuth Middleware should allow access with valid JWT Bearer token","status":"passed","title":"should allow access with valid JWT Bearer token","duration":1214.2428,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","requireAuth Middleware"],"fullName":"Auth Middleware Integration Tests requireAuth Middleware should return 401 when no token provided","status":"passed","title":"should return 401 when no token provided","duration":1128.544499999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","requireAuth Middleware"],"fullName":"Auth Middleware Integration Tests requireAuth Middleware should return 401 with invalid token","status":"passed","title":"should return 401 with invalid token","duration":1125.243199999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","requireAuth Middleware"],"fullName":"Auth Middleware Integration Tests requireAuth Middleware should return 401 with expired token","status":"passed","title":"should return 401 with expired token","duration":2220.349,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","optionalAuth Middleware"],"fullName":"Auth Middleware Integration Tests optionalAuth Middleware should proceed without authentication if no token provided","status":"skipped","title":"should proceed without authentication if no token provided","failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should authenticate with JWT Bearer token","status":"passed","title":"should authenticate with JWT Bearer token","duration":1211.4050000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should authenticate with refresh token cookie (GET only)","status":"passed","title":"should authenticate with refresh token cookie (GET only)","duration":1255.2641000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should reject cookie auth for POST requests (mutation-strict)","status":"passed","title":"should reject cookie auth for POST requests (mutation-strict)","duration":1110.131300000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should reject cookie auth for PUT requests","status":"passed","title":"should reject cookie auth for PUT requests","duration":1124.8348999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should reject cookie auth for DELETE requests","status":"passed","title":"should reject cookie auth for DELETE requests","duration":1114.3227000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should allow cookie auth for HEAD requests","status":"passed","title":"should allow cookie auth for HEAD requests","duration":1296.0144999999975,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should prioritize JWT over cookie when both present","status":"passed","title":"should prioritize JWT over cookie when both present","duration":2347.276700000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should return 401 when no auth provided","status":"passed","title":"should return 401 when no auth provided","duration":1109.1723999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","hybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests hybridAuth Middleware should return 401 when both JWT and cookie are invalid","status":"passed","title":"should return 401 when both JWT and cookie are invalid","duration":1139.504399999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","optionalHybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests optionalHybridAuth Middleware should authenticate with JWT if provided","status":"passed","title":"should authenticate with JWT if provided","duration":1688.3953999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","optionalHybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests optionalHybridAuth Middleware should authenticate with cookie if JWT not provided","status":"passed","title":"should authenticate with cookie if JWT not provided","duration":1610.5254999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","optionalHybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests optionalHybridAuth Middleware should proceed anonymously if no auth provided","status":"passed","title":"should proceed anonymously if no auth provided","duration":1638.0136999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","optionalHybridAuth Middleware"],"fullName":"Auth Middleware Integration Tests optionalHybridAuth Middleware should proceed anonymously if both JWT and cookie are invalid","status":"passed","title":"should proceed anonymously if both JWT and cookie are invalid","duration":1639.9114000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","Cookie Strategy Security"],"fullName":"Auth Middleware Integration Tests Cookie Strategy Security should only allow safe methods for cookie auth","status":"passed","title":"should only allow safe methods for cookie auth","duration":1251.9845999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","Cookie Strategy Security"],"fullName":"Auth Middleware Integration Tests Cookie Strategy Security should ignore cookies when Bearer token present","status":"passed","title":"should ignore cookies when Bearer token present","duration":2317.7850999999973,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","User Context Attachment"],"fullName":"Auth Middleware Integration Tests User Context Attachment should attach userId to request","status":"passed","title":"should attach userId to request","duration":1201.6650000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","User Context Attachment"],"fullName":"Auth Middleware Integration Tests User Context Attachment should attach userEmail to request","status":"passed","title":"should attach userEmail to request","duration":1217.6293000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","Error Handling"],"fullName":"Auth Middleware Integration Tests Error Handling should return consistent error format for missing token","status":"passed","title":"should return consistent error format for missing token","duration":1124.6461999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","Error Handling"],"fullName":"Auth Middleware Integration Tests Error Handling should return consistent error format for invalid token","status":"passed","title":"should return consistent error format for invalid token","duration":1130.5101000000068,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","Error Handling"],"fullName":"Auth Middleware Integration Tests Error Handling should return consistent error format for expired token","status":"passed","title":"should return consistent error format for expired token","duration":2210.3096000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","Error Handling"],"fullName":"Auth Middleware Integration Tests Error Handling should handle malformed JWT gracefully","status":"passed","title":"should handle malformed JWT gracefully","duration":1117.7643000000025,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware Integration Tests","Error Handling"],"fullName":"Auth Middleware Integration Tests Error Handling should handle JWT with wrong algorithm","status":"passed","title":"should handle JWT with wrong algorithm","duration":1099.1010999999999,"failureMessages":[],"meta":{}}],"startTime":1768183997993,"endTime":1768184034639.101,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/auth.middleware.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Generation"],"fullName":"JWT Authentication Integration Tests JWT Token Generation should generate valid JWT token on successful login","status":"passed","title":"should generate valid JWT token on successful login","duration":1147.8347999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Generation"],"fullName":"JWT Authentication Integration Tests JWT Token Generation should include correct payload in JWT token","status":"passed","title":"should include correct payload in JWT token","duration":1114.5887000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Generation"],"fullName":"JWT Authentication Integration Tests JWT Token Generation should set JWT expiry to 15 minutes","status":"passed","title":"should set JWT expiry to 15 minutes","duration":1113.730599999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Validation"],"fullName":"JWT Authentication Integration Tests JWT Token Validation should accept valid JWT token on protected routes","status":"passed","title":"should accept valid JWT token on protected routes","duration":1213.6777999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Validation"],"fullName":"JWT Authentication Integration Tests JWT Token Validation should reject request without authorization header","status":"passed","title":"should reject request without authorization header","duration":6.143500000000131,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Validation"],"fullName":"JWT Authentication Integration Tests JWT Token Validation should reject request with malformed token","status":"passed","title":"should reject request with malformed token","duration":3.8562000000001717,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Validation"],"fullName":"JWT Authentication Integration Tests JWT Token Validation should accept request with missing Bearer prefix (lenient)","status":"passed","title":"should accept request with missing Bearer prefix (lenient)","duration":1200.9111999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Validation"],"fullName":"JWT Authentication Integration Tests JWT Token Validation should reject token with invalid signature","status":"passed","title":"should reject token with invalid signature","duration":5.431300000000192,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Expiration"],"fullName":"JWT Authentication Integration Tests JWT Token Expiration should reject expired JWT token","status":"passed","title":"should reject expired JWT token","duration":1105.1710000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","JWT Token Expiration"],"fullName":"JWT Authentication Integration Tests JWT Token Expiration should return token_expired error code for expired tokens","status":"passed","title":"should return token_expired error code for expired tokens","duration":1104.2125000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Bearer Token Authentication"],"fullName":"JWT Authentication Integration Tests Bearer Token Authentication should authenticate with Bearer token in Authorization header","status":"passed","title":"should authenticate with Bearer token in Authorization header","duration":98.79919999999947,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Bearer Token Authentication"],"fullName":"JWT Authentication Integration Tests Bearer Token Authentication should work with Bearer token on POST requests","status":"passed","title":"should work with Bearer token on POST requests","duration":0.2523000000001048,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Bearer Token Authentication"],"fullName":"JWT Authentication Integration Tests Bearer Token Authentication should work with Bearer token on PUT requests","status":"passed","title":"should work with Bearer token on PUT requests","duration":205.9367000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Bearer Token Authentication"],"fullName":"JWT Authentication Integration Tests Bearer Token Authentication should work with Bearer token on DELETE requests","status":"passed","title":"should work with Bearer token on DELETE requests","duration":251.47080000000096,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Cookie-to-Token Exchange"],"fullName":"JWT Authentication Integration Tests Cookie-to-Token Exchange should exchange valid session cookie for JWT token","status":"passed","title":"should exchange valid session cookie for JWT token","duration":664.7963,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Cookie-to-Token Exchange"],"fullName":"JWT Authentication Integration Tests Cookie-to-Token Exchange should reject token exchange without valid cookie","status":"passed","title":"should reject token exchange without valid cookie","duration":2.625900000000911,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Hybrid Authentication Strategy"],"fullName":"JWT Authentication Integration Tests Hybrid Authentication Strategy should prefer Bearer token over cookie when both present","status":"passed","title":"should prefer Bearer token over cookie when both present","duration":1157.9461999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Hybrid Authentication Strategy"],"fullName":"JWT Authentication Integration Tests Hybrid Authentication Strategy should fall back to cookie if Bearer token is invalid","status":"passed","title":"should fall back to cookie if Bearer token is invalid","duration":544.8577000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Hybrid Authentication Strategy"],"fullName":"JWT Authentication Integration Tests Hybrid Authentication Strategy should allow GET requests with cookie auth only","status":"passed","title":"should allow GET requests with cookie auth only","duration":1260.9228999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Hybrid Authentication Strategy"],"fullName":"JWT Authentication Integration Tests Hybrid Authentication Strategy should reject POST requests with cookie auth only (mutation-strict)","status":"passed","title":"should reject POST requests with cookie auth only (mutation-strict)","duration":512.6952000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Optional Authentication"],"fullName":"JWT Authentication Integration Tests Optional Authentication should allow anonymous access to public workflows","status":"passed","title":"should allow anonymous access to public workflows","duration":450.08469999999943,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Optional Authentication"],"fullName":"JWT Authentication Integration Tests Optional Authentication should attach user info if authenticated on optional auth routes","status":"passed","title":"should attach user info if authenticated on optional auth routes","duration":431.48229999999967,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Token Refresh Flow"],"fullName":"JWT Authentication Integration Tests Token Refresh Flow should refresh access token using refresh token","status":"passed","title":"should refresh access token using refresh token","duration":2309.5602,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Token Refresh Flow"],"fullName":"JWT Authentication Integration Tests Token Refresh Flow should rotate refresh token on use","status":"passed","title":"should rotate refresh token on use","duration":1489.9006999999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Token Refresh Flow"],"fullName":"JWT Authentication Integration Tests Token Refresh Flow should detect token reuse and revoke all user tokens","status":"passed","title":"should detect token reuse and revoke all user tokens","duration":2033.5541000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Logout Flow"],"fullName":"JWT Authentication Integration Tests Logout Flow should revoke refresh token on logout","status":"passed","title":"should revoke refresh token on logout","duration":1275.1755999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Authentication Integration Tests","Logout Flow"],"fullName":"JWT Authentication Integration Tests Logout Flow should clear refresh token cookie on logout","status":"passed","title":"should clear refresh token cookie on logout","duration":1171.2726000000002,"failureMessages":[],"meta":{}}],"startTime":1768184169986,"endTime":1768184191865.2727,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/jwt.authentication.test.ts"},{"assertionResults":[{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Authorization Flow Initiation"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Authorization Flow Initiation should initiate OAuth2 3-legged flow and generate authorization URL","status":"passed","title":"should initiate OAuth2 3-legged flow and generate authorization URL","duration":350.9591999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Authorization Flow Initiation"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Authorization Flow Initiation should include optional scope in authorization URL","status":"passed","title":"should include optional scope in authorization URL","duration":103.4644000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 State Validation"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 State Validation should validate valid OAuth2 state token","status":"passed","title":"should validate valid OAuth2 state token","duration":103.35030000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 State Validation"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 State Validation should reject invalid OAuth2 state token","status":"passed","title":"should reject invalid OAuth2 state token","duration":104.73889999999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 State Validation"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 State Validation should reject expired OAuth2 state token","status":"passed","title":"should reject expired OAuth2 state token","duration":101.40920000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 State Validation"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 State Validation should clean up OAuth2 state after use","status":"passed","title":"should clean up OAuth2 state after use","duration":108.30499999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Callback Error Handling"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Callback Error Handling should handle callback with missing state parameter","status":"passed","title":"should handle callback with missing state parameter","duration":101.37850000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Callback Error Handling"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Callback Error Handling should handle callback with missing code parameter","status":"passed","title":"should handle callback with missing code parameter","duration":106.78589999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Callback Error Handling"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Callback Error Handling should handle OAuth2 provider error responses","status":"passed","title":"should handle OAuth2 provider error responses","duration":100.9699999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Connection Status"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Connection Status should track OAuth2 connection status","status":"passed","title":"should track OAuth2 connection status","duration":371.7170000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Connection Status"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Connection Status should store OAuth2 state in connection metadata","status":"passed","title":"should store OAuth2 state in connection metadata","duration":106.98639999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Security"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Security should use cryptographically secure random state","status":"passed","title":"should use cryptographically secure random state","duration":103.94529999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Security"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Security should prevent state reuse after validation","status":"passed","title":"should prevent state reuse after validation","duration":101.1592999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Security"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Security should include PKCE support metadata in state record","status":"passed","title":"should include PKCE support metadata in state record","duration":105.68030000000044,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Redirect URI Validation"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Redirect URI Validation should validate redirect URI matches allowed URIs","status":"passed","title":"should validate redirect URI matches allowed URIs","duration":103.80590000000029,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 3-Legged Flow - Callback Handling","OAuth2 Redirect URI Validation"],"fullName":"OAuth2 3-Legged Flow - Callback Handling OAuth2 Redirect URI Validation should encode redirect URI in authorization URL","status":"passed","title":"should encode redirect URI in authorization URL","duration":103.94830000000002,"failureMessages":[],"meta":{}}],"startTime":1768184446220,"endTime":1768184448399.9482,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/oauth2.callback.test.ts"},{"assertionResults":[{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Fetching"],"fullName":"OAuth2 Client Credentials Flow Token Fetching should fetch OAuth2 access token with client credentials","status":"passed","title":"should fetch OAuth2 access token with client credentials","duration":6.710500000000138,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Fetching"],"fullName":"OAuth2 Client Credentials Flow Token Fetching should handle token request without scope","status":"passed","title":"should handle token request without scope","duration":0.3975000000000364,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Fetching"],"fullName":"OAuth2 Client Credentials Flow Token Fetching should throw error when token request fails","status":"passed","title":"should throw error when token request fails","duration":2.4727000000000317,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Fetching"],"fullName":"OAuth2 Client Credentials Flow Token Fetching should throw error when access_token is missing from response","status":"passed","title":"should throw error when access_token is missing from response","duration":0.6748000000000047,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Fetching"],"fullName":"OAuth2 Client Credentials Flow Token Fetching should throw error when token_type is missing from response","status":"passed","title":"should throw error when token_type is missing from response","duration":0.6478000000001884,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Fetching"],"fullName":"OAuth2 Client Credentials Flow Token Fetching should default expires_in to 3600 when not provided","status":"passed","title":"should default expires_in to 3600 when not provided","duration":0.3088000000000193,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Fetching"],"fullName":"OAuth2 Client Credentials Flow Token Fetching should handle network errors gracefully","status":"passed","title":"should handle network errors gracefully","duration":0.5715999999999894,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Caching"],"fullName":"OAuth2 Client Credentials Flow Token Caching should cache OAuth2 tokens to avoid redundant requests","status":"passed","title":"should cache OAuth2 tokens to avoid redundant requests","duration":0.5378000000000611,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Caching"],"fullName":"OAuth2 Client Credentials Flow Token Caching should use different cache keys for different configs","status":"passed","title":"should use different cache keys for different configs","duration":0.45029999999997017,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Caching"],"fullName":"OAuth2 Client Credentials Flow Token Caching should refresh token when cache expires","status":"passed","title":"should refresh token when cache expires","duration":101.64099999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Caching"],"fullName":"OAuth2 Client Credentials Flow Token Caching should return cached token with remaining lifetime","status":"passed","title":"should return cached token with remaining lifetime","duration":0.4275000000000091,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Caching"],"fullName":"OAuth2 Client Credentials Flow Token Caching should invalidate specific cached token","status":"passed","title":"should invalidate specific cached token","duration":0.2716000000000349,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Caching"],"fullName":"OAuth2 Client Credentials Flow Token Caching should clear all cached tokens","status":"passed","title":"should clear all cached tokens","duration":0.23039999999991778,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Token Caching"],"fullName":"OAuth2 Client Credentials Flow Token Caching should respect 30-second expiry buffer","status":"passed","title":"should respect 30-second expiry buffer","duration":0.14390000000003056,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Credential Testing"],"fullName":"OAuth2 Client Credentials Flow Credential Testing should return true for valid credentials","status":"passed","title":"should return true for valid credentials","duration":0.1612999999999829,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Credential Testing"],"fullName":"OAuth2 Client Credentials Flow Credential Testing should return false for invalid credentials","status":"passed","title":"should return false for invalid credentials","duration":0.27710000000001855,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Credential Testing"],"fullName":"OAuth2 Client Credentials Flow Credential Testing should return false when token URL is unreachable","status":"passed","title":"should return false when token URL is unreachable","duration":0.2481999999999971,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Cache Key Generation"],"fullName":"OAuth2 Client Credentials Flow Cache Key Generation should generate unique cache keys for different tenants","status":"passed","title":"should generate unique cache keys for different tenants","duration":0.17599999999993088,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Cache Key Generation"],"fullName":"OAuth2 Client Credentials Flow Cache Key Generation should generate unique cache keys for different projects","status":"passed","title":"should generate unique cache keys for different projects","duration":0.15949999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Cache Key Generation"],"fullName":"OAuth2 Client Credentials Flow Cache Key Generation should generate unique cache keys for different scopes","status":"passed","title":"should generate unique cache keys for different scopes","duration":0.1370999999999185,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Cache Key Generation"],"fullName":"OAuth2 Client Credentials Flow Cache Key Generation should use same cache key for identical configs","status":"passed","title":"should use same cache key for identical configs","duration":0.13049999999998363,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Error Handling"],"fullName":"OAuth2 Client Credentials Flow Error Handling should handle 400 Bad Request","status":"passed","title":"should handle 400 Bad Request","duration":0.3301000000001295,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Error Handling"],"fullName":"OAuth2 Client Credentials Flow Error Handling should handle 401 Unauthorized","status":"passed","title":"should handle 401 Unauthorized","duration":0.36799999999993815,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Error Handling"],"fullName":"OAuth2 Client Credentials Flow Error Handling should handle 403 Forbidden","status":"passed","title":"should handle 403 Forbidden","duration":0.38400000000001455,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Error Handling"],"fullName":"OAuth2 Client Credentials Flow Error Handling should handle 500 Internal Server Error","status":"passed","title":"should handle 500 Internal Server Error","duration":0.44299999999998363,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Error Handling"],"fullName":"OAuth2 Client Credentials Flow Error Handling should handle malformed JSON response","status":"passed","title":"should handle malformed JSON response","duration":0.46850000000017644,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Error Handling"],"fullName":"OAuth2 Client Credentials Flow Error Handling should handle timeout errors","status":"passed","title":"should handle timeout errors","duration":0.39259999999990214,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Scope Handling"],"fullName":"OAuth2 Client Credentials Flow Scope Handling should include scope in token request when provided","status":"passed","title":"should include scope in token request when provided","duration":0.197400000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Client Credentials Flow","Scope Handling"],"fullName":"OAuth2 Client Credentials Flow Scope Handling should handle space-separated scopes","status":"passed","title":"should handle space-separated scopes","duration":0.20990000000006148,"failureMessages":[],"meta":{}}],"startTime":1768184463695,"endTime":1768184463815.3926,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/oauth2.client-credentials.test.ts"},{"assertionResults":[{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should successfully authenticate with valid Google ID token","status":"passed","title":"should successfully authenticate with valid Google ID token","duration":577.5481,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should return 400 when ID token is missing","status":"passed","title":"should return 400 when ID token is missing","duration":63.09299999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should return 403 when Origin header is invalid","status":"passed","title":"should return 403 when Origin header is invalid","duration":58.04250000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should return 401 when Google token verification fails","status":"passed","title":"should return 401 when Google token verification fails","duration":59.80110000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should return 401 when email is not verified by Google","status":"passed","title":"should return 401 when email is not verified by Google","duration":54.902300000000196,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should update existing user on subsequent logins","status":"passed","title":"should update existing user on subsequent logins","duration":477.0179000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should create refresh token record in database","status":"passed","title":"should create refresh token record in database","duration":434.2132999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should support both \"token\" and \"idToken\" fields","status":"passed","title":"should support both \"token\" and \"idToken\" fields","duration":379.40779999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should respect rate limiting","status":"passed","title":"should respect rate limiting","duration":49.97620000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","POST /api/auth/google - Google OAuth2 Login"],"fullName":"OAuth2 Google Authentication Flow POST /api/auth/google - Google OAuth2 Login should handle missing profile information gracefully","status":"passed","title":"should handle missing profile information gracefully","duration":375.8808000000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","Google Token Verification"],"fullName":"OAuth2 Google Authentication Flow Google Token Verification should verify valid Google ID token","status":"passed","title":"should verify valid Google ID token","duration":51.5675999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","Google Token Verification"],"fullName":"OAuth2 Google Authentication Flow Google Token Verification should throw error when token verification fails","status":"passed","title":"should throw error when token verification fails","duration":56.47099999999955,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","Google Token Verification"],"fullName":"OAuth2 Google Authentication Flow Google Token Verification should throw error when email is not verified","status":"passed","title":"should throw error when email is not verified","duration":49.33149999999932,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Google Authentication Flow","Google Token Verification"],"fullName":"OAuth2 Google Authentication Flow Google Token Verification should throw error when payload is null","status":"passed","title":"should throw error when payload is null","duration":53.248500000000604,"failureMessages":[],"meta":{}}],"startTime":1768184428414,"endTime":1768184431156.2485,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/oauth2.google.test.ts"},{"assertionResults":[{"ancestorTitles":["OAuth2 Session Management","GET /api/auth/sessions - List Active Sessions"],"fullName":"OAuth2 Session Management GET /api/auth/sessions - List Active Sessions should list all active sessions for current user","status":"passed","title":"should list all active sessions for current user","duration":522.9557999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","GET /api/auth/sessions - List Active Sessions"],"fullName":"OAuth2 Session Management GET /api/auth/sessions - List Active Sessions should mark current session as current","status":"passed","title":"should mark current session as current","duration":444.30139999999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","GET /api/auth/sessions - List Active Sessions"],"fullName":"OAuth2 Session Management GET /api/auth/sessions - List Active Sessions should return empty array when user has no active sessions","status":"passed","title":"should return empty array when user has no active sessions","duration":427.00360000000046,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","GET /api/auth/sessions - List Active Sessions"],"fullName":"OAuth2 Session Management GET /api/auth/sessions - List Active Sessions should not include expired sessions","status":"passed","title":"should not include expired sessions","duration":438.28669999999966,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","GET /api/auth/sessions - List Active Sessions"],"fullName":"OAuth2 Session Management GET /api/auth/sessions - List Active Sessions should not include revoked sessions","status":"passed","title":"should not include revoked sessions","duration":486.5529000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","GET /api/auth/sessions - List Active Sessions"],"fullName":"OAuth2 Session Management GET /api/auth/sessions - List Active Sessions should parse device name from user agent","status":"passed","title":"should parse device name from user agent","duration":441.66060000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","GET /api/auth/sessions - List Active Sessions"],"fullName":"OAuth2 Session Management GET /api/auth/sessions - List Active Sessions should return 401 for unauthenticated request","status":"passed","title":"should return 401 for unauthenticated request","duration":328.04349999999977,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/:sessionId - Revoke Session"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/:sessionId - Revoke Session should revoke a specific session","status":"passed","title":"should revoke a specific session","duration":595.1697000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/:sessionId - Revoke Session"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/:sessionId - Revoke Session should return 404 for non-existent session","status":"passed","title":"should return 404 for non-existent session","duration":325.6109999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/:sessionId - Revoke Session"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/:sessionId - Revoke Session should prevent revoking current session","status":"passed","title":"should prevent revoking current session","duration":494.5059000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/:sessionId - Revoke Session"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/:sessionId - Revoke Session should prevent revoking another user's session","status":"passed","title":"should prevent revoking another user's session","duration":534.4922999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/:sessionId - Revoke Session"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/:sessionId - Revoke Session should return 401 for unauthenticated request","status":"passed","title":"should return 401 for unauthenticated request","duration":324.9209000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/all - Logout All Other Devices"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/all - Logout All Other Devices should revoke all sessions except current","status":"passed","title":"should revoke all sessions except current","duration":789.872800000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/all - Logout All Other Devices"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/all - Logout All Other Devices should revoke all trusted devices","status":"passed","title":"should revoke all trusted devices","duration":641.0360999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/all - Logout All Other Devices"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/all - Logout All Other Devices should return 400 when no active session found","status":"passed","title":"should return 400 when no active session found","duration":325.65880000000107,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","DELETE /api/auth/sessions/all - Logout All Other Devices"],"fullName":"OAuth2 Session Management DELETE /api/auth/sessions/all - Logout All Other Devices should return 401 for unauthenticated request","status":"passed","title":"should return 401 for unauthenticated request","duration":323.39450000000033,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Trusted Devices Management","POST /api/auth/trust-device"],"fullName":"OAuth2 Session Management Trusted Devices Management POST /api/auth/trust-device should mark current device as trusted","status":"passed","title":"should mark current device as trusted","duration":473.5797999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Trusted Devices Management","POST /api/auth/trust-device"],"fullName":"OAuth2 Session Management Trusted Devices Management POST /api/auth/trust-device should update existing trusted device expiry","status":"passed","title":"should update existing trusted device expiry","duration":651.2557000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Trusted Devices Management","GET /api/auth/trusted-devices"],"fullName":"OAuth2 Session Management Trusted Devices Management GET /api/auth/trusted-devices should list all trusted devices","status":"passed","title":"should list all trusted devices","duration":443.10759999999937,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Trusted Devices Management","GET /api/auth/trusted-devices"],"fullName":"OAuth2 Session Management Trusted Devices Management GET /api/auth/trusted-devices should not include revoked devices","status":"passed","title":"should not include revoked devices","duration":440.53709999999955,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Trusted Devices Management","DELETE /api/auth/trusted-devices/:deviceId"],"fullName":"OAuth2 Session Management Trusted Devices Management DELETE /api/auth/trusted-devices/:deviceId should revoke a trusted device","status":"passed","title":"should revoke a trusted device","duration":534.1558000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Trusted Devices Management","DELETE /api/auth/trusted-devices/:deviceId"],"fullName":"OAuth2 Session Management Trusted Devices Management DELETE /api/auth/trusted-devices/:deviceId should return 404 for non-existent device","status":"passed","title":"should return 404 for non-existent device","duration":336.33040000000074,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Session Metadata Tracking"],"fullName":"OAuth2 Session Management Session Metadata Tracking should track IP address for sessions","status":"passed","title":"should track IP address for sessions","duration":436.1324999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Session Metadata Tracking"],"fullName":"OAuth2 Session Management Session Metadata Tracking should track user agent for sessions","status":"passed","title":"should track user agent for sessions","duration":428.6990999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Session Management","Session Metadata Tracking"],"fullName":"OAuth2 Session Management Session Metadata Tracking should update lastUsedAt on token refresh","status":"passed","title":"should update lastUsedAt on token refresh","duration":806.1440000000002,"failureMessages":[],"meta":{}}],"startTime":1768184274494,"endTime":1768184286489.144,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/oauth2.sessions.test.ts"},{"assertionResults":[{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should refresh access token with valid refresh token","status":"passed","title":"should refresh access token with valid refresh token","duration":630.9686999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should rotate refresh token after use","status":"passed","title":"should rotate refresh token after use","duration":679.6099000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should return 401 when refresh token is missing","status":"passed","title":"should return 401 when refresh token is missing","duration":376.4310000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should return 401 for invalid refresh token","status":"passed","title":"should return 401 for invalid refresh token","duration":429.45600000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should return 401 for expired refresh token","status":"passed","title":"should return 401 for expired refresh token","duration":476.5737999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should return 401 for revoked refresh token","status":"passed","title":"should return 401 for revoked refresh token","duration":521.7224999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should return 401 when user is not found","status":"passed","title":"should return 401 when user is not found","duration":482.3806999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should update refresh token metadata on rotation","status":"passed","title":"should update refresh token metadata on rotation","duration":659.4441000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should handle concurrent refresh token requests (token reuse detection)","status":"passed","title":"should handle concurrent refresh token requests (token reuse detection)","duration":636.0760999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should set secure cookie in production","status":"passed","title":"should set secure cookie in production","duration":555.5689999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should set proper cookie attributes","status":"passed","title":"should set proper cookie attributes","duration":574.6422000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","POST /api/auth/refresh-token"],"fullName":"OAuth2 Token Refresh Flow POST /api/auth/refresh-token should include user role information in response","status":"passed","title":"should include user role information in response","duration":566.3184000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Lifecycle"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Lifecycle should create refresh token on login","status":"passed","title":"should create refresh token on login","duration":1001.3160000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Lifecycle"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Lifecycle should revoke refresh token on logout","status":"passed","title":"should revoke refresh token on logout","duration":460.8816999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Lifecycle"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Lifecycle should handle logout without refresh token gracefully","status":"passed","title":"should handle logout without refresh token gracefully","duration":363.9425999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Lifecycle"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Lifecycle should support multiple active refresh tokens per user","status":"passed","title":"should support multiple active refresh tokens per user","duration":511.0740999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Lifecycle"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Lifecycle should revoke all user tokens on password reset","status":"passed","title":"should revoke all user tokens on password reset","duration":562.1947999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Security"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Security should use cryptographically strong random tokens","status":"passed","title":"should use cryptographically strong random tokens","duration":5512.111700000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Security"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Security should hash refresh tokens before storing in database","status":"passed","title":"should hash refresh tokens before storing in database","duration":480.6222999999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Security"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Security should prevent refresh token reuse after rotation","status":"passed","title":"should prevent refresh token reuse after rotation","duration":699.8600000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Refresh Token Security"],"fullName":"OAuth2 Token Refresh Flow Refresh Token Security should validate token ownership","status":"passed","title":"should validate token ownership","duration":457.8817999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Cookie Security"],"fullName":"OAuth2 Token Refresh Flow Cookie Security should set HttpOnly flag to prevent XSS","status":"passed","title":"should set HttpOnly flag to prevent XSS","duration":588.3192999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Cookie Security"],"fullName":"OAuth2 Token Refresh Flow Cookie Security should set SameSite=Strict to prevent CSRF","status":"passed","title":"should set SameSite=Strict to prevent CSRF","duration":562.8968999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Cookie Security"],"fullName":"OAuth2 Token Refresh Flow Cookie Security should set proper cookie path","status":"passed","title":"should set proper cookie path","duration":572.9267,"failureMessages":[],"meta":{}},{"ancestorTitles":["OAuth2 Token Refresh Flow","Cookie Security"],"fullName":"OAuth2 Token Refresh Flow Cookie Security should set appropriate expiry (30 days)","status":"passed","title":"should set appropriate expiry (30 days)","duration":564.1718999999975,"failureMessages":[],"meta":{}}],"startTime":1768184195155,"endTime":1768184214083.1719,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/oauth2.token-refresh.test.ts"},{"assertionResults":[{"ancestorTitles":["Protected Routes Integration Tests","GET Protected Routes"],"fullName":"Protected Routes Integration Tests GET Protected Routes should allow access with valid Bearer token","status":"passed","title":"should allow access with valid Bearer token","duration":1292.3739999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","GET Protected Routes"],"fullName":"Protected Routes Integration Tests GET Protected Routes should reject access without Authorization header","status":"passed","title":"should reject access without Authorization header","duration":1231.4111000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","GET Protected Routes"],"fullName":"Protected Routes Integration Tests GET Protected Routes should reject access with empty Bearer token","status":"passed","title":"should reject access with empty Bearer token","duration":1243.947400000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","GET Protected Routes"],"fullName":"Protected Routes Integration Tests GET Protected Routes should reject access with malformed Authorization header","status":"passed","title":"should reject access with malformed Authorization header","duration":1215.3562000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","GET Protected Routes"],"fullName":"Protected Routes Integration Tests GET Protected Routes should reject access with wrong token type","status":"passed","title":"should reject access with wrong token type","duration":1201.8289999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","POST Protected Routes"],"fullName":"Protected Routes Integration Tests POST Protected Routes should allow POST with valid Bearer token","status":"passed","title":"should allow POST with valid Bearer token","duration":1286.9263999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","POST Protected Routes"],"fullName":"Protected Routes Integration Tests POST Protected Routes should reject POST without Bearer token","status":"passed","title":"should reject POST without Bearer token","duration":1226.8489000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","POST Protected Routes"],"fullName":"Protected Routes Integration Tests POST Protected Routes should reject POST with invalid token","status":"passed","title":"should reject POST with invalid token","duration":1230.4625000000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","PUT Protected Routes"],"fullName":"Protected Routes Integration Tests PUT Protected Routes should allow PUT with valid Bearer token","status":"passed","title":"should allow PUT with valid Bearer token","duration":1383.1049999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","PUT Protected Routes"],"fullName":"Protected Routes Integration Tests PUT Protected Routes should reject PUT without Bearer token","status":"passed","title":"should reject PUT without Bearer token","duration":1248.8593,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","DELETE Protected Routes"],"fullName":"Protected Routes Integration Tests DELETE Protected Routes should allow DELETE with valid Bearer token","status":"passed","title":"should allow DELETE with valid Bearer token","duration":1419.8840999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","DELETE Protected Routes"],"fullName":"Protected Routes Integration Tests DELETE Protected Routes should reject DELETE without Bearer token","status":"passed","title":"should reject DELETE without Bearer token","duration":1257.4608000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","PATCH Protected Routes"],"fullName":"Protected Routes Integration Tests PATCH Protected Routes should allow PATCH with valid Bearer token","status":"passed","title":"should allow PATCH with valid Bearer token","duration":1913.8410000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","PATCH Protected Routes"],"fullName":"Protected Routes Integration Tests PATCH Protected Routes should reject PATCH without Bearer token","status":"passed","title":"should reject PATCH without Bearer token","duration":1242.0198000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Edge Cases"],"fullName":"Protected Routes Integration Tests Token Edge Cases should handle Bearer token with extra spaces","status":"passed","title":"should handle Bearer token with extra spaces","duration":1233.2646000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Edge Cases"],"fullName":"Protected Routes Integration Tests Token Edge Cases should handle token with newlines","status":"skipped","title":"should handle token with newlines","failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Edge Cases"],"fullName":"Protected Routes Integration Tests Token Edge Cases should handle very long invalid token","status":"passed","title":"should handle very long invalid token","duration":1215.9471000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Edge Cases"],"fullName":"Protected Routes Integration Tests Token Edge Cases should handle empty Authorization header","status":"passed","title":"should handle empty Authorization header","duration":1228.0671000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Edge Cases"],"fullName":"Protected Routes Integration Tests Token Edge Cases should handle Authorization header with only Bearer","status":"passed","title":"should handle Authorization header with only Bearer","duration":1238.3158000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Edge Cases"],"fullName":"Protected Routes Integration Tests Token Edge Cases should handle multiple Authorization headers","status":"passed","title":"should handle multiple Authorization headers","duration":1227.6382000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Edge Cases"],"fullName":"Protected Routes Integration Tests Token Edge Cases should reject token with SQL injection attempt","status":"passed","title":"should reject token with SQL injection attempt","duration":1241.8422000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Edge Cases"],"fullName":"Protected Routes Integration Tests Token Edge Cases should reject token with XSS attempt","status":"passed","title":"should reject token with XSS attempt","duration":1226.0132000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Payload Validation"],"fullName":"Protected Routes Integration Tests Token Payload Validation should reject token with missing userId","status":"passed","title":"should reject token with missing userId","duration":1193.090400000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Token Payload Validation"],"fullName":"Protected Routes Integration Tests Token Payload Validation should reject token with non-existent userId","status":"passed","title":"should reject token with non-existent userId","duration":1318.9310999999943,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Cross-User Authorization"],"fullName":"Protected Routes Integration Tests Cross-User Authorization should not allow user to access another user's resources","status":"passed","title":"should not allow user to access another user's resources","duration":2438.173999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","User Context Injection"],"fullName":"Protected Routes Integration Tests User Context Injection should inject userId into request context","status":"passed","title":"should inject userId into request context","duration":1323.299699999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","User Context Injection"],"fullName":"Protected Routes Integration Tests User Context Injection should inject tenantId into request context","status":"passed","title":"should inject tenantId into request context","duration":1291.0576,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","User Context Injection"],"fullName":"Protected Routes Integration Tests User Context Injection should inject role into request context","status":"passed","title":"should inject role into request context","duration":1287.3052000000025,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Rate Limiting on Protected Routes"],"fullName":"Protected Routes Integration Tests Rate Limiting on Protected Routes should not apply general rate limiting to authenticated requests","status":"passed","title":"should not apply general rate limiting to authenticated requests","duration":1529.0945999999967,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Mixed Auth Scenarios"],"fullName":"Protected Routes Integration Tests Mixed Auth Scenarios should handle request with both Bearer token and cookies","status":"passed","title":"should handle request with both Bearer token and cookies","duration":1917.3394000000044,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Mixed Auth Scenarios"],"fullName":"Protected Routes Integration Tests Mixed Auth Scenarios should prioritize Bearer token over cookie when both present","status":"passed","title":"should prioritize Bearer token over cookie when both present","duration":3073.262800000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Optional Auth Routes"],"fullName":"Protected Routes Integration Tests Optional Auth Routes should allow unauthenticated access to optional auth routes","status":"passed","title":"should allow unauthenticated access to optional auth routes","duration":1806.5779000000039,"failureMessages":[],"meta":{}},{"ancestorTitles":["Protected Routes Integration Tests","Optional Auth Routes"],"fullName":"Protected Routes Integration Tests Optional Auth Routes should enhance optional auth routes with user context when authenticated","status":"passed","title":"should enhance optional auth routes with user context when authenticated","duration":1901.8651000000027,"failureMessages":[],"meta":{}}],"startTime":1768183857781,"endTime":1768183903867.865,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/protected.routes.test.ts"},{"assertionResults":[{"ancestorTitles":["Session Management Integration Tests","Session Creation and Tracking"],"fullName":"Session Management Integration Tests Session Creation and Tracking should create refresh token on login","status":"passed","title":"should create refresh token on login","duration":1216.183,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Session Creation and Tracking"],"fullName":"Session Management Integration Tests Session Creation and Tracking should track device metadata in session","status":"passed","title":"should track device metadata in session","duration":1197.6008000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Session Creation and Tracking"],"fullName":"Session Management Integration Tests Session Creation and Tracking should create separate sessions for multiple device logins","status":"passed","title":"should create separate sessions for multiple device logins","duration":2210.3322,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should list all active sessions for user","status":"passed","title":"should list all active sessions for user","duration":2341.8335000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should mark current session correctly","status":"passed","title":"should mark current session correctly","duration":1753.6242000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should not include revoked sessions","status":"passed","title":"should not include revoked sessions","duration":2061.0416000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should order sessions by last used (most recent first)","status":"passed","title":"should order sessions by last used (most recent first)","duration":2489.387499999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","GET /api/auth/sessions"],"fullName":"Session Management Integration Tests GET /api/auth/sessions should require authentication","status":"passed","title":"should require authentication","duration":640.767399999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/:sessionId"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/:sessionId should revoke specific session","status":"passed","title":"should revoke specific session","duration":1998.5974999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/:sessionId"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/:sessionId should prevent revoking current session","status":"passed","title":"should prevent revoking current session","duration":1335.1962000000021,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/:sessionId"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/:sessionId should not allow revoking other users sessions","status":"passed","title":"should not allow revoking other users sessions","duration":2390.3629,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/:sessionId"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/:sessionId should return 404 for non-existent session ID","status":"passed","title":"should return 404 for non-existent session ID","duration":1180.0142000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/all should revoke all sessions except current","status":"passed","title":"should revoke all sessions except current","duration":2801.477899999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/all should revoke all trusted devices","status":"passed","title":"should revoke all trusted devices","duration":1600.4699,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","DELETE /api/auth/sessions/all"],"fullName":"Session Management Integration Tests DELETE /api/auth/sessions/all should require active session","status":"passed","title":"should require active session","duration":630.4135999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Session Expiration"],"fullName":"Session Management Integration Tests Session Expiration should reject refresh token after 30 days","status":"passed","title":"should reject refresh token after 30 days","duration":1282.1144000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Concurrent Session Handling"],"fullName":"Session Management Integration Tests Concurrent Session Handling should handle multiple concurrent logins","status":"passed","title":"should handle multiple concurrent logins","duration":1359.3422000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Session Management Integration Tests","Concurrent Session Handling"],"fullName":"Session Management Integration Tests Concurrent Session Handling should handle concurrent token refreshes","status":"passed","title":"should handle concurrent token refreshes","duration":1579.5432,"failureMessages":[],"meta":{}}],"startTime":1768184040442,"endTime":1768184070511.5432,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/auth/session.management.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Basic Operators"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Basic Operators should evaluate \"email equals test@example.com\" correctly","status":"passed","title":"should evaluate \"email equals test@example.com\" correctly","duration":4.682800000000043,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Basic Operators"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Basic Operators should evaluate \"age greater_than 18\" correctly","status":"passed","title":"should evaluate \"age greater_than 18\" correctly","duration":0.48649999999997817,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Basic Operators"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Basic Operators should evaluate \"optional_notes is_empty\" correctly","status":"passed","title":"should evaluate \"optional_notes is_empty\" correctly","duration":0.4312999999999647,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Basic Operators"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Basic Operators should evaluate \"status not_equals pending\" correctly","status":"passed","title":"should evaluate \"status not_equals pending\" correctly","duration":0.2742999999998119,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Basic Operators"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Basic Operators should evaluate \"description contains urgent\" correctly","status":"passed","title":"should evaluate \"description contains urgent\" correctly","duration":0.36019999999984975,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Variable References"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Variable References should evaluate \"confirm_email equals email\" correctly","status":"passed","title":"should evaluate \"confirm_email equals email\" correctly","duration":0.445699999999988,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Database Round-Trip"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Database Round-Trip should survive JSON serialization/deserialization (JSONB storage)","status":"passed","title":"should survive JSON serialization/deserialization (JSONB storage)","duration":1.7882999999999356,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","UI Compatibility"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) UI Compatibility should pass Zod schema validation (same validation used by UI)","status":"passed","title":"should pass Zod schema validation (same validation used by UI)","duration":0.7571000000000367,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","UI Compatibility"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) UI Compatibility should handle all common operators used by UI","status":"passed","title":"should handle all common operators used by UI","duration":0.6445000000001073,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Complete Round-Trip Test"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Complete Round-Trip Test should handle full lifecycle: Create → Validate → Store → Retrieve → Evaluate → Edit","status":"passed","title":"should handle full lifecycle: Create → Validate → Store → Retrieve → Evaluate → Edit","duration":1.4376999999999498,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Edge Cases"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Edge Cases should handle null vs empty string correctly","status":"passed","title":"should handle null vs empty string correctly","duration":0.37969999999995707,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Edge Cases"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Edge Cases should handle case-insensitive string comparison","status":"passed","title":"should handle case-insensitive string comparison","duration":0.24059999999985848,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Edge Cases"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Edge Cases should handle number coercion","status":"passed","title":"should handle number coercion","duration":0.20920000000000982,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Edge Cases"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Edge Cases should handle array includes operations","status":"passed","title":"should handle array includes operations","duration":0.22550000000001091,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Edge Cases"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Edge Cases should handle boolean operators","status":"passed","title":"should handle boolean operators","duration":0.3170000000000073,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Real-World Scenarios"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Real-World Scenarios should handle emergency contact visibility (has_emergency_contact equals true)","status":"passed","title":"should handle emergency contact visibility (has_emergency_contact equals true)","duration":0.35400000000004184,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Real-World Scenarios"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Real-World Scenarios should handle age-gated content (age greater_or_equal 18)","status":"passed","title":"should handle age-gated content (age greater_or_equal 18)","duration":0.3928000000000793,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI-Generated Condition Evaluation (Round-Trip Compatibility)","Real-World Scenarios"],"fullName":"AI-Generated Condition Evaluation (Round-Trip Compatibility) Real-World Scenarios should handle conditional required field (email is_not_empty)","status":"passed","title":"should handle conditional required field (email is_not_empty)","duration":0.3061999999999898,"failureMessages":[],"meta":{}}],"startTime":1768184473624,"endTime":1768184473638.3928,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/conditions/conditionEvaluation.test.ts"},{"assertionResults":[{"ancestorTitles":["Runtime Pipelines Integration Tests","Writeback Execution Pipeline"],"fullName":"Runtime Pipelines Integration Tests Writeback Execution Pipeline should create DataVault row on workflow completion","status":"passed","title":"should create DataVault row on workflow completion","duration":963.7809000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Runtime Pipelines Integration Tests","Writeback Execution Pipeline"],"fullName":"Runtime Pipelines Integration Tests Writeback Execution Pipeline should execute writebacks via RunService.completeRun()","status":"passed","title":"should execute writebacks via RunService.completeRun()","duration":2352.7403999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Runtime Pipelines Integration Tests","Document Generation Pipeline"],"fullName":"Runtime Pipelines Integration Tests Document Generation Pipeline should skip document generation when visibleIf condition is false","status":"passed","title":"should skip document generation when visibleIf condition is false","duration":164.6184000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Runtime Pipelines Integration Tests","Document Generation Pipeline"],"fullName":"Runtime Pipelines Integration Tests Document Generation Pipeline should generate document when visibleIf condition is true","status":"passed","title":"should generate document when visibleIf condition is true","duration":218.10210000000006,"failureMessages":[],"meta":{}}],"startTime":1768184367033,"endTime":1768184370786.102,"status":"passed","message":"","name":"C:/Users/scoot/poll/VaultLogic/tests/integration/workflows/runtime-pipelines.test.ts"}]}